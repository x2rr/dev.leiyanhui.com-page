<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Archlinux on 小类随手记</title><link>https://dev.leiyanhui.com/tags/archlinux/</link><description>Recent content in Archlinux on 小类随手记</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Wed, 07 Sep 2022 19:56:11 +0000</lastBuildDate><atom:link href="https://dev.leiyanhui.com/tags/archlinux/index.xml" rel="self" type="application/rss+xml"/><item><title>archlinux 安装搜狗 百度 输入法</title><link>https://dev.leiyanhui.com/c/archlinux-cninputu-sogou-baidu/</link><pubDate>Wed, 07 Sep 2022 19:56:11 +0000</pubDate><guid>https://dev.leiyanhui.com/c/archlinux-cninputu-sogou-baidu/</guid><description>&lt;h1 id="archlinux-安装搜狗-百度-输入法">archlinux 安装搜狗 百度 输入法
&lt;/h1>&lt;p>1、先安装 yay &lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-install-yay/" target="_blank" rel="noopener"
>arch安装yay最简单的办法 - 小类随手记 (leiyanhui.com)&lt;/a>&lt;/p>
&lt;p>可选操作 &lt;a class="link" href="https://dev.leiyanhui.com/c/arch-install-xrdp/" target="_blank" rel="noopener"
>arch安装xrdp，方便win和ipad远程控制 - 小类随手记 (leiyanhui.com)&lt;/a>&lt;/p>
&lt;p>可选操作 &lt;a class="link" href="https://dev.leiyanhui.com/c/linux-shell-proxy/" target="_blank" rel="noopener"
>Linux的shell命令行等临时挂代理 - 小类随手记 (leiyanhui.com)&lt;/a>&lt;/p>
&lt;p>2、安装中文字体 &lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-cn-font-input/" target="_blank" rel="noopener"
>archlinux安装中文字体，微软字体和搜狗拼音 百度输入法 - 小类随手记 (leiyanhui.com)&lt;/a>&lt;/p>
&lt;p>3、安装中文输入法&lt;/p>
&lt;p>我这里用搜狗，因为 百度出现过 频繁崩溃的情况。 两个都不支持词库同步。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#先安装 fcitx 输入法管理器&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sudo&lt;/span> &lt;span class="n">pacman&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">S&lt;/span> &lt;span class="n">fcitx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 还需要一点别的组件 也快不用&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># configtool也不是必须的，是一个图形界面的配置程序，不安装到话直接修改配置文件也是可以的&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sudo&lt;/span> &lt;span class="n">pacman&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">S&lt;/span> &lt;span class="n">fcitx&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">configtool&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#非必需的 其他网上教程让安装的，其实可以不用&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># sudo pacman -S fcitx-gtk2 fcitx-gtk3 fcitx-qt5 &lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装搜狗 或者 百度&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yay -S fcitx-sogoupinyin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yay -S fcitx-baidupinyin #不推荐，好像有点问题，会卡死，甚至会连带其他输入法无法使用
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#卸载
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yay -Rsn fcitx-baidupinyin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#谷歌输入法
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S fcitx-googlepinyin #这个轻量依赖少，但是没词库，是安卓迁移的
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>因为我用的kde桌面，主流桌面会自动启动fcitx ，但是一个程序之间的通讯问题可能需要设置一下环境变量
非必须的操作，不添加的话 部分软件 不支持中文输入&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">nano ~/.pam_environment
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#添加
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">GTK_IM_MODULE DEFAULT=fcitx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">QT_IM_MODULE DEFAULT=fcitx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">XMODIFIERS DEFAULT=\@im=fcitx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>注销登录的kde 桌面，重新登录会自动打开fcitx在系统托盘位置，右键小键盘 点config配置&lt;/p>
&lt;p>或者 开始菜单 setting里面 有 fcitx config的配置程序&lt;/p>
&lt;p>添加输入法，搜索 sogou baidu 即可添加&lt;/p>
&lt;p>ctrl+空格 即可调出输入法，如果有问题，那就是前面没配置好&lt;/p></description></item><item><title>archlinux安装edge浏览器 和 chrome</title><link>https://dev.leiyanhui.com/c/archlinux-install-edge/</link><pubDate>Wed, 07 Sep 2022 19:56:11 +0000</pubDate><guid>https://dev.leiyanhui.com/c/archlinux-install-edge/</guid><description>&lt;h1 id="archlinux安装edge浏览器-和-chrome">archlinux安装edge浏览器 和 chrome
&lt;/h1>&lt;p>1、先安装 yay &lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-install-yay/" target="_blank" rel="noopener"
>arch安装yay最简单的办法 - 小类随手记 (leiyanhui.com)&lt;/a>&lt;/p>
&lt;p>可选操作 &lt;a class="link" href="https://dev.leiyanhui.com/c/arch-install-xrdp/" target="_blank" rel="noopener"
>arch安装xrdp，方便win和ipad远程控制 - 小类随手记 (leiyanhui.com)&lt;/a>&lt;/p>
&lt;p>可选操作 &lt;a class="link" href="https://dev.leiyanhui.com/c/linux-shell-proxy/" target="_blank" rel="noopener"
>Linux的shell命令行等临时挂代理 - 小类随手记 (leiyanhui.com)&lt;/a>&lt;/p>
&lt;p>2、安装中文字体 &lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-cn-font-input/" target="_blank" rel="noopener"
>archlinux安装中文字体，微软字体和搜狗拼音 百度输入法 - 小类随手记 (leiyanhui.com)&lt;/a>&lt;/p>
&lt;p>3、安装中文输入法 &lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-cninputu-sogou-baidu/" target="_blank" rel="noopener"
>archlinux 安装搜狗 百度 输入法 - 小类随手记 (leiyanhui.com)&lt;/a>&lt;/p>
&lt;p>4、挂代理防止卡 也可以不用 &lt;a class="link" href="https://dev.leiyanhui.com/c/linux-shell-proxy/" target="_blank" rel="noopener"
>Linux的shell命令行等临时挂代理 - 小类随手记 (leiyanhui.com)&lt;/a>&lt;/p>
&lt;p>5、安装edge浏览器&lt;/p>
&lt;p>edge浏览器 是 aur源的， 需要先安装第一步的 yay，另外还需要安装中文字体，不然中文网页打开乱码&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yay -S microsoft-edge-stable-bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#:: Remove make dependencies after install? [y/N] y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#==&amp;gt; [N]one [A]ll [Ab]ort [I]nstalled [No]tInstalled or (1 2 3, 1-3, ^4)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># N
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>yay 部分文件从境外下载，可能会中断，ctrl+c 取消重新来就好了。或者挂梯子&lt;/p>
&lt;p>其他浏览器 开源的 在pacman 非完全开源的 用yay&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yay -S google-chrome
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S firefox
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>archlinux安装中文字体，微软字体和搜狗拼音 百度输入法</title><link>https://dev.leiyanhui.com/c/archlinux-cn-font-input/</link><pubDate>Wed, 07 Sep 2022 19:56:11 +0000</pubDate><guid>https://dev.leiyanhui.com/c/archlinux-cn-font-input/</guid><description>&lt;h1 id="archlinux安装中文字体微软字体和搜狗拼音-百度输入法">archlinux安装中文字体，微软字体和搜狗拼音 百度输入法
&lt;/h1>&lt;p>1、先安装 yay &lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-install-yay/" target="_blank" rel="noopener"
>arch安装yay最简单的办法 - 小类随手记 (leiyanhui.com)&lt;/a>&lt;/p>
&lt;p>可选操作 &lt;a class="link" href="https://dev.leiyanhui.com/c/arch-install-xrdp/" target="_blank" rel="noopener"
>arch安装xrdp，方便win和ipad远程控制 - 小类随手记 (leiyanhui.com)&lt;/a>&lt;/p>
&lt;p>2、安装中文字体&lt;/p>
&lt;p>随便安装一个就可以显示中文了&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">pacman -S wqy-zenhei
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># remove
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># pacman -Rs wqy-zenhei
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>wine 乱码的话 也需要安装几个中文字体，具体忘记，回头记录&lt;/p>
&lt;p>3、安装windows字体&lt;/p>
&lt;p>从另外一个电脑的 C盘 windows font目录复制出来字体，然后打包 下载到arch 或者下载我在github上的，&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">su - #切换到root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir /usr/share/fonts/WindowsFonts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd /usr/share/fonts/WindowsFonts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#这两个还是装一下，常用
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pacman -S wget unzip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget -c http://10.0.0.200/windows-fonts.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">unzip windows-fonts.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm windows-fonts.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod 644 /usr/share/fonts/WindowsFonts/*
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#刷新字体缓存
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fc-cache -f
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我在github上的 一份windows字体包 基于win11的&lt;/p>
&lt;pre>&lt;code> git clone -b windows_font https://github.com/joyanhui/file.leiyanhui.com.git
# wget -c https://github.com/joyanhui/file.leiyanhui.com/archive/refs/heads/windows_font.zip
# wget -c https://ghproxy.com/https://github.com/joyanhui/file.leiyanhui.com/archive/refs/heads/windows_font.zip
&lt;/code>&lt;/pre>
&lt;p>4、kde 设置中文，在开始菜单 搜索 lang 添加中文即可（不建议 还是英文舒服。中文界面很丑，而且会出现 部分界面中英混的情况）&lt;/p>
&lt;p>5、安装百度 搜狗 等中文 输入法 &lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-cninputu-sogou-baidu/" target="_blank" rel="noopener"
>archlinux 安装搜狗 百度 输入法 - 小类随手记 (leiyanhui.com)&lt;/a>&lt;/p></description></item><item><title>archlinx下开启xrdp没有声音的问题</title><link>https://dev.leiyanhui.com/c/archlinux-xrdp-audio/</link><pubDate>Wed, 07 Sep 2022 19:56:11 +0000</pubDate><guid>https://dev.leiyanhui.com/c/archlinux-xrdp-audio/</guid><description>&lt;h1 id="archlinx下开启xrdp没有声音的问题">archlinx下开启xrdp没有声音的问题
&lt;/h1>&lt;p>我的是unraid下用kvm运行的archlinux&lt;/p>
&lt;p>首选需要安装 pulseaudio 与 pulseaudio-module-xrdp 模块。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yay -S xrdp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S xorgxrdp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#将 allowed_users=anybody 添加到 /etc/X11/Xwrapper.config 以允许任何人启动 X 服务器。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo nano /etc/X11/Xwrapper.config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S pulseaudio
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yay -S pulseaudio-module-xrdp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>重启xrdp&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo systemctl restart xrdp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果没有声音或者声音设备&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">#尝试注释掉 /etc/pam.d/system-auth 中对 systemd-home 的所有引用。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo nano /etc/pam.d/system-auth
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我的&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[yanhui@archlinux ~]$ cat /etc/pam.d/system-auth
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#%PAM-1.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">auth required pam_faillock.so preauth
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Optionally use requisite above if you do not want to prompt for the password
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># on locked accounts.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-auth [success=2 default=ignore] #pam_systemd_home.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">auth [success=1 default=bad] pam_unix.so try_first_pass nullok
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">auth [default=die] pam_faillock.so authfail
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">auth optional pam_permit.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">auth required pam_env.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">auth required pam_faillock.so authsucc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># If you drop the above call to pam_faillock.so the lock will be done also
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># on non-consecutive authentication failures.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-account [success=1 default=ignore] #pam_systemd_home.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">account required pam_unix.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">account optional pam_permit.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">account required pam_time.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-password [success=1 default=ignore] #pam_systemd_home.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">password required pam_unix.so try_first_pass nullok shadow sha512
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">password optional pam_permit.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-session optional #pam_systemd_home.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">session required pam_limits.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">session required pam_unix.so
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">session optional pam_permit.so
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>sudo systemctl restart xrdp 重启xrdp后 如果不行，如果手动运行 pulseaudio 后有声音 还一个方法&lt;/p>
&lt;p>就是在 ~/.xinitrc 添加&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">nano ~/.xinitrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pulseaudio &amp;amp;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>两个方法 二选一 或者都试试&lt;/p>
&lt;p>官方wifi说明&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="err">没有声音&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">这可能是&lt;/span> &lt;span class="n">loginctl&lt;/span> &lt;span class="err">问题的征兆，因此请尝试以&lt;/span> &lt;span class="err">以上内容修复。系统&lt;/span>&lt;span class="n">journal可能会遇到以下错误&lt;/span>&lt;span class="err">：&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Failed&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="nb">load&lt;/span> &lt;span class="n">module&lt;/span> &lt;span class="s2">&amp;#34;module-x11-publish&amp;#34;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">argument&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;display=:10.0 xauthority=&amp;#34;&lt;/span>&lt;span class="p">):&lt;/span> &lt;span class="n">initialization&lt;/span> &lt;span class="n">failed&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">这是&lt;/span> &lt;span class="n">systemd&lt;/span> &lt;span class="err">不正确地启动&lt;/span> &lt;span class="n">PulseAudio&lt;/span> &lt;span class="err">的结果。一种解决方法是为您自己的用户或所有用户&lt;/span> &lt;span class="err">禁用&lt;/span> &lt;span class="n">user&lt;/span> &lt;span class="n">unit&lt;/span> &lt;span class="err">文件&lt;/span> &lt;span class="n">pulseaudio&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">service&lt;/span> &lt;span class="err">和&lt;/span> &lt;span class="n">pulseaudio&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">socket&lt;/span>&lt;span class="err">，然后启动&lt;/span> &lt;span class="n">PulseAudio需要时通过在&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pulse&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conf&lt;/span> &lt;span class="err">中将&lt;/span> &lt;span class="n">autospawn&lt;/span> &lt;span class="err">设置为&lt;/span> &lt;span class="n">yes&lt;/span>&lt;span class="err">。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">如果仍然没有声音，请尝试使用&lt;/span> &lt;span class="o">~/.&lt;/span>&lt;span class="n">xinitrc&lt;/span> &lt;span class="err">中的&lt;/span> &lt;span class="n">pulseaudio&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="err">手动启动&lt;/span> &lt;span class="n">PulseAudio&lt;/span>&lt;span class="err">。&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我的~/.xinitrc&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>yanhui@archlinux system&lt;span class="o">]&lt;/span>$ cat ~/.xinitrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#!/bin/sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">userresources&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$HOME&lt;/span>/.Xresources
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">usermodmap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$HOME&lt;/span>/.Xmodmap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">sysresources&lt;/span>&lt;span class="o">=&lt;/span>/etc/X11/xinit/.Xresources
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">sysmodmap&lt;/span>&lt;span class="o">=&lt;/span>/etc/X11/xinit/.Xmodmap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># merge in defaults and keymaps&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -f &lt;span class="nv">$sysresources&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> xrdb -merge &lt;span class="nv">$sysresources&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -f &lt;span class="nv">$sysmodmap&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> xmodmap &lt;span class="nv">$sysmodmap&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -f &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$userresources&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> xrdb -merge &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$userresources&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -f &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$usermodmap&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> xmodmap &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$usermodmap&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># start some nice programs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -d /etc/X11/xinit/xinitrc.d &lt;span class="o">]&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> f in /etc/X11/xinit/xinitrc.d/?*.sh &lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">[&lt;/span> -x &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$f&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> . &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$f&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">unset&lt;/span> f
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#twm &amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#xclock -geometry 50x50-1+1 &amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#xterm -geometry 80x50+494+51 &amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#xterm -geometry 80x20+494-0 &amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#exec xterm -geometry 80x66+0+0 -name login&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pulseaudio &lt;span class="p">&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">DESKTOP_SESSION&lt;/span>&lt;span class="o">=&lt;/span>plasma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/lib/plasma-dbus-run-session-if-needed startplasma-x11
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>arch安装yay最简单的办法</title><link>https://dev.leiyanhui.com/c/archlinux-install-yay/</link><pubDate>Wed, 07 Sep 2022 19:56:11 +0000</pubDate><guid>https://dev.leiyanhui.com/c/archlinux-install-yay/</guid><description>&lt;h1 id="arch安装yay最简单的办法">arch安装yay最简单的办法
&lt;/h1>&lt;p>网上的多不靠谱，目前2022/9/30 最新的安装方法：&lt;/p>
&lt;p>新装的arch&lt;/p>
&lt;p>使用方法：在 &lt;code>/etc/pacman.conf&lt;/code> 文件末尾添加以下两行：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">#sudo nano /etc/pacman.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[archlinuxcn]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#其他的 和mirrorlist不同archlinuxcn 只能选一个
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## Server = https://mirrors.aliyun.com/archlinuxcn/$arch
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>之后安装 &lt;code>archlinuxcn-keyring&lt;/code> 包导入 GPG key。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -Sy #更新一下
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S archlinuxcn-keyring
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#可能需要
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman-key --init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -S yay
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>arch的源 经常出现不稳定的情况，导致软件安装失败。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo nano /etc/pacman.d/mirrorlist
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>把测试稳定的源 挪到前面&lt;/p>
&lt;p>阿里云 最近抽风，慎用&lt;/p>
&lt;p>另外 临时挂一下代理 也可以 &lt;a class="link" href="https://dev.leiyanhui.com/c/linux-shell-proxy/" target="_blank" rel="noopener"
>https://dev.leiyanhui.com/c/linux-shell-proxy/&lt;/a>&lt;/p></description></item><item><title>arch自动安装脚本archintsall扫描镜像缓慢的解决方法</title><link>https://dev.leiyanhui.com/c/arch-install-mirrorlist/</link><pubDate>Wed, 07 Sep 2022 19:56:11 +0000</pubDate><guid>https://dev.leiyanhui.com/c/arch-install-mirrorlist/</guid><description>&lt;h1 id="arch自动安装脚本archintsall扫描镜像缓慢的解决方法">arch自动安装脚本archintsall扫描镜像缓慢的解决方法
&lt;/h1>&lt;p>#arch自动安装脚本archintsall扫描镜像缓慢的解决方法&lt;/p>
&lt;p>vim /etc/pacman.d/mirrorlist 这个文件的内容经常变化，甚至同一个镜像同一个时间段 内容都不一样 如果里面存在大量的镜像地址，那么找到中国相关的 用vim的 指令 dG 删除光标后面的 dgg 删除前面的，保留1-2个中国的镜像即可 如果没有中国的镜像就 ggdG 删除所有内容 添加一行 一行就好了&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Server = http://mirrors.163.com/archlinux/$repo/os/$arch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = https://mirrors.dgut.edu.cn/archlinux/$repo/os/$arch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = https://mirrors.nju.edu.cn/archlinux/$repo/os/$arch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = https://mirrors.bfsu.edu.cn/archlinux/$repo/os/$arch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = http://mirrors.bfsu.edu.cn/archlinux/$repo/os/$arch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = http://mirrors.zju.edu.cn/archlinux/$repo/os/$arch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = http://mirrors.nju.edu.cn/archlinux/$repo/os/$arch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = http://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = https://mirrors.sjtug.sjtu.edu.cn/archlinux/$repo/os/$arch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = http://mirrors.dgut.edu.cn/archlinux/$repo/os/$arch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = rsync://mirrors.bfsu.edu.cn/archlinux/$repo/os/$arch 其他按照向导操作即可
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://pages-lyh.oss-accelerate.aliyuncs.com/wp-content/uploads/2022/08/archinstall.png" target="_blank" rel="noopener"
>&lt;img src="https://pages-lyh.oss-accelerate.aliyuncs.com/wp-content/uploads/2022/08/archinstall.png"
loading="lazy"
>&lt;/a> 最终安装完成大概有2G多一些 pacman -S nano nano /etc/ssh/sshd_config 找到 PermitRootLogin 去掉注释修改为 yes PermitRootLogin yes 重启sshd systemctl enable sshd.service systemctl restart sshd.service&lt;/p></description></item><item><title>Linux的shell命令行等临时挂代理</title><link>https://dev.leiyanhui.com/c/linux-shell-proxy/</link><pubDate>Wed, 07 Sep 2022 19:56:11 +0000</pubDate><guid>https://dev.leiyanhui.com/c/linux-shell-proxy/</guid><description>&lt;h1 id="linux的shell命令行等临时挂代理">Linux的shell命令行等临时挂代理
&lt;/h1>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">http_proxy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;代理ip:代理端口&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">https_proxy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;代理ip:代理端口&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以在 一个windows 或docker 上跑一个允许lan的clash 就好了&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">http_proxy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;10.0.0.200:7890&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">https_proxy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;10.0.0.200:7890&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>my docker clase&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">http_proxy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;10.0.0.9:7890&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">https_proxy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;10.0.0.9:7890&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>arch 配置网络</title><link>https://dev.leiyanhui.com/linux/arch-network-wifi/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-network-wifi/</guid><description>&lt;h1 id="arch-配置网络">arch 配置网络
&lt;/h1>&lt;p>笔记本的网卡损坏，使用的一个淘宝杂牌usb网卡&lt;/p>
&lt;p>iwd 一直找不到网卡 不知道为什么&lt;/p>
&lt;p>最后 还是用 networkmanage 弄好&lt;/p>
&lt;p>安装的时候 用的iphone usb共享网络，chroot到系统后 需要安装两个包&lt;/p>
&lt;p>一个是 usbmuxd 一个是 dhcpcd&lt;/p>
&lt;p>dhcpd 记得用 systemctl 启用 并启动&lt;/p>
&lt;p>只有前者 iphone会提示设备访问 但是无法共享网络过来 只有后者 不用说了。&lt;/p>
&lt;p>安卓不清楚 没研究过&lt;/p>
&lt;p>我装了图形界面 dwm&lt;/p>
&lt;p>所以也顺带安装了 networkmanager 和 network-manager-applet 提供系统托盘图标（nm-applet）&lt;/p>
&lt;p>在 ～/。xinitr添加一行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">exec nm-applet &amp;amp;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 exec dwm之前&lt;/p>
&lt;p>如果 dwm安装了系统托盘扩展的话，&lt;a class="link" href="https://dev.leiyanhui.com/linux/arch-install-dwm-pacher.html" target="_blank" rel="noopener"
>参考本文&lt;/a>，就可以在下次重启的之后 在系统托盘看到信号 并可以配置了&lt;/p>
&lt;p>官网wiki参考 ：https://wiki.archlinux.org/title/NetworkManager_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&lt;/p></description></item><item><title>arch 上安装32位支持，以便支持wine等软件</title><link>https://dev.leiyanhui.com/linux/arch-32bit-for-wine/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-32bit-for-wine/</guid><description>&lt;h1 id="arch-上安装32位支持以便支持wine等软件">arch 上安装32位支持，以便支持wine等软件
&lt;/h1>&lt;p>启用multilib 多库&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo nano /etc/pacman.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[multilib]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Include = /etc/pacman.d/mirrorlist
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后更新&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -Sy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果只是 需要 wine qq 微信之类的，就什么都不用做了&lt;/p></description></item><item><title>arch 系统清理和瘦身</title><link>https://dev.leiyanhui.com/linux/arch-disk-clean/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-disk-clean/</guid><description>&lt;h1 id="arch-系统清理和瘦身">arch 系统清理和瘦身
&lt;/h1>&lt;p>节省磁盘空间&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">pacman -Sc # 清理未安装软件包
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pacman -Scc # 清理缓存中所有内容
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yay -Scc # 如果安装了yay 直接用yay清理就好
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>查看所有已经安装的包，看需求删除&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">列出所有本地软件包（-Q,query查询本地；-q省略版本号）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -Qq
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">列出所有显式安装（-e,explicitly显式安装；-n忽略外部包AUR）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -Qqe
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -Qqen
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">列出自动安装的包（-d,depends作为依赖项）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -Qqd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">列出孤立的包（-t不再被依赖的&amp;#34;作为依赖项安装的包&amp;#34;）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -Qqdt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pacman -Qg: 列出本地已经安装的软件包组和子包
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>删掉不需要的&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -Rns ttf-nerd-fonts-symbols-2048-em
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -Rns neofetch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -R $(pacman -Qdtq) #删掉所有独立的包 慎用，最好先 pacman -Qqdt 一下
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#只删除包和它自己的独立需要的依赖 保留配置的话
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -Rs firefox
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>限制一下日志大小&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo journalctl --vacuum-size=10M
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>archlinux 删除kde</title><link>https://dev.leiyanhui.com/linux/arch-del-kde/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-del-kde/</guid><description>&lt;h1 id="archlinux--删除kde">archlinux 删除kde
&lt;/h1>&lt;blockquote>
&lt;p>最近爱上平铺桌面，暂时用的的dwm，所以清理掉kde&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -Rsc plasma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -Rsc kde-applications
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>qingli&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo paccache -r # 清理缓存,仅包含最近的三个版本
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo paccache -rk1 # 清理缓存,仅包含最近的1个版本
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -Sc # 清理未安装软件包
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -Scc # 清理缓存中所有内容
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yay -Scc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>yay -S gnome-shell-extension-kimpanel-git&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">yay&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">Rsn&lt;/span> &lt;span class="n">fcitx&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">sogoupinyin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sudo&lt;/span> &lt;span class="n">pacman&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">Rsn&lt;/span> &lt;span class="n">fcitx&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">im&lt;/span> &lt;span class="n">fcitx&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">configtool&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sudo&lt;/span> &lt;span class="n">pacman&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">S&lt;/span> &lt;span class="n">fcitx&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">configtool&lt;/span> &lt;span class="n">fcitx&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">qt5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">yay&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">S&lt;/span> &lt;span class="n">fcitx&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">qt4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">yay&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">S&lt;/span> &lt;span class="n">fcitx&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">sogoupinyin&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>archlinux 安装 dwm桌面</title><link>https://dev.leiyanhui.com/linux/arch-install-dwm/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-install-dwm/</guid><description>&lt;h1 id="archlinux-安装-dwm桌面">archlinux 安装 dwm桌面
&lt;/h1>&lt;p>一直被人案例 i3w 和 dwm桌面，号称 开机20m内存额外占用&lt;/p>
&lt;h2 id="需要安装x-和-驱动">需要安装x 和 驱动
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">pacman -S xorg
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装yay &lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-install-yay/index.html" target="_blank" rel="noopener"
>查看本文&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yay -S dwm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这好像就完了，会自动帮你一起安装 dwm ，当然没有定制功能，定制看后面编译安装&lt;/p>
&lt;p>修改 或者新建&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">nano .xinitrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>添加一行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">exec dwm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>因为dwm 很多地方的修改都需要重新编译，所以 长时间使用 还是建议用编译安装
alt（win） +shift + q 退出 x&lt;/p>
&lt;p>然后删掉yay安装的dwm&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yay -Rn dwm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>单独建立 一个目录 在 ～ 下 因为以后使用可能还有一些补丁 和资源 等 需要处理&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mkdir ~/dwmfile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git clone git://git.suckless.org/dwm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd dwm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls #有一个config.def.h 是我们可以自定义的，也可不修改
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="arch-install-dwm-hotkey.md" >dwm修改主快捷键和默认快捷键配置&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="arch-install-dwm-pacher.md" >dwm添加补丁-系统托盘&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>用yay 或者编译安装后&lt;/p>
&lt;p>输入 startx 直接就启动了&lt;/p>
&lt;p>alt+shift+回车 启动终端&lt;/p>
&lt;p>安装一个火狐浏览器 alt+p 输入firefox 会自动提示，回车 启动火狐。。。。&lt;/p>
&lt;p>还可以自动换壁纸&lt;/p>
&lt;p>feh&lt;/p>
&lt;p>哈可以半透明&lt;/p>
&lt;p>compton&lt;/p>
&lt;p>输入法 有点问题 搜狗好像不行
但是 谷歌输入法 没问题&lt;/p>
&lt;p>开机到登录桌面 全部内存汗用120M 左右。。。&lt;/p>
&lt;p>是有点香喷喷的&lt;/p></description></item><item><title>archlinux 安装GNOME 桌面环境</title><link>https://dev.leiyanhui.com/linux/arch-install-gnome/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-install-gnome/</guid><description>&lt;h1 id="archlinux-安装gnome-桌面环境">archlinux 安装GNOME 桌面环境
&lt;/h1>&lt;p>我一个笔记的arch是用的archinstall 装的kde桌面 [已经全面切换到平铺桌面]&lt;/p>
&lt;p>现在想试是gnome&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pacman&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">S&lt;/span> &lt;span class="n">gnome&lt;/span> &lt;span class="n">gnome&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">extra&lt;/span> &lt;span class="n">gnome&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">tweak&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="k">tool&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>或者&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">sudo&lt;/span> &lt;span class="n">pacman&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">S&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">needed&lt;/span> &lt;span class="n">gnome&lt;/span> &lt;span class="n">gnome&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">tweaks&lt;/span> &lt;span class="n">nautilus&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">sendto&lt;/span> &lt;span class="n">gnome&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">nettool&lt;/span> &lt;span class="n">gnome&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">usage&lt;/span> &lt;span class="n">gnome&lt;/span> &lt;span class="n">multi&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">writer&lt;/span> &lt;span class="n">adwaita&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">icon&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">theme&lt;/span> &lt;span class="n">chrome&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gnome&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">shell&lt;/span> &lt;span class="n">xdg&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">dirs&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gtk&lt;/span> &lt;span class="n">fwupd&lt;/span> &lt;span class="n">arc&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">gtk&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">theme&lt;/span> &lt;span class="n">seahosrse&lt;/span> &lt;span class="n">gdm&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>需要简单优化一下
终端闪烁的问题，在终端设置里面 配置一下 背景颜色 就ok了
先去弄扩展&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -S gnome-browser-connector
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S gnome-tweaks
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我用的火狐 还需要装一个扩展&lt;/p>
&lt;p>&lt;a class="link" href="https://addons.mozilla.org/en-US/firefox/addon/gnome-shell-integration/" target="_blank" rel="noopener"
>https://addons.mozilla.org/en-US/firefox/addon/gnome-shell-integration/&lt;/a>&lt;/p>
&lt;p>然后打开&lt;/p>
&lt;p>&lt;a class="link" href="https://extensions.gnome.org/" target="_blank" rel="noopener"
>https://extensions.gnome.org/&lt;/a>&lt;/p>
&lt;p>就可以装插件了 在插件页面 点击 on off 就可以了
appindicator 系统托盘程序哦，gnome默认关闭的 不安装的话你用微信qq之类的 没有提醒托盘图标
&lt;a class="link" href="https://extensions.gnome.org/extension/615/appindicator-support/" target="_blank" rel="noopener"
>https://extensions.gnome.org/extension/615/appindicator-support/&lt;/a>&lt;/p>
&lt;p>这个tray-icons-reloaded 也可以 一样用
&lt;a class="link" href="https://extensions.gnome.org/extension/2890/tray-icons-reloaded/" target="_blank" rel="noopener"
>https://extensions.gnome.org/extension/2890/tray-icons-reloaded/&lt;/a>&lt;/p>
&lt;p>dash-to-dock是可以 吧dock 固定到屏幕上，类似 Windows 任务栏 macos 的dock 一样的
&lt;a class="link" href="https://extensions.gnome.org/extension/307/dash-to-dock/" target="_blank" rel="noopener"
>https://extensions.gnome.org/extension/307/dash-to-dock/&lt;/a>&lt;/p>
&lt;p>Transparent Shell 通知栏 或者 dock 搜索条 透明，可以单独设置&lt;/p>
&lt;p>&lt;a class="link" href="https://extensions.gnome.org/extension/3518/transparent-shell/" target="_blank" rel="noopener"
>https://extensions.gnome.org/extension/3518/transparent-shell/&lt;/a>&lt;/p>
&lt;p>Coverflow Alt-Tab 更漂亮的 Alt-Tab 带预览 不吃性能
&lt;a class="link" href="https://extensions.gnome.org/extension/97/coverflow-alt-tab/" target="_blank" rel="noopener"
>https://extensions.gnome.org/extension/97/coverflow-alt-tab/&lt;/a>&lt;/p>
&lt;p>Clipboard Indicator 剪切板管理&lt;/p>
&lt;p>&lt;a class="link" href="https://extensions.gnome.org/extension/779/clipboard-indicator/" target="_blank" rel="noopener"
>https://extensions.gnome.org/extension/779/clipboard-indicator/&lt;/a>&lt;/p>
&lt;p>Desktop Icons NG (DING) 可以在桌面创建快捷方式 新版gnome 移除这个功能了，装这个扩展就ok了&lt;/p>
&lt;p>&lt;a class="link" href="https://extensions.gnome.org/extension/2087/desktop-icons-ng-ding/" target="_blank" rel="noopener"
>https://extensions.gnome.org/extension/2087/desktop-icons-ng-ding/&lt;/a>&lt;/p>
&lt;p>Application Volume Mixer 可以显示每个用声音的程序&lt;/p>
&lt;p>&lt;a class="link" href="https://extensions.gnome.org/extension/3499/application-volume-mixer/" target="_blank" rel="noopener"
>https://extensions.gnome.org/extension/3499/application-volume-mixer/&lt;/a>&lt;/p>
&lt;p>Extension List 插件管理程序，不用每次都去网站卸载 这个没啥用，可以在启动里面找到extension直接管理
打开后 屏幕右上角 可以管理插件
&lt;a class="link" href="https://extensions.gnome.org/extension/3088/extension-list/" target="_blank" rel="noopener"
>https://extensions.gnome.org/extension/3088/extension-list/&lt;/a>&lt;/p>
&lt;p>天气预报
&lt;a class="link" href="https://extensions.gnome.org/extension/750/openweather/" target="_blank" rel="noopener"
>https://extensions.gnome.org/extension/750/openweather/&lt;/a>&lt;/p>
&lt;p>其他的&lt;/p>
&lt;p>Blur my shell。它可以使得我们在切换工作区时背景不那么单调。（操作基本同上）&lt;/p>
&lt;p>ArcMenu。它默认会在桌面左上角生成一个小图标，点击其会分栏列出应用等 就是一个开始菜单。（操作基本同上）&lt;/p>
&lt;p>Vitals。它默认会在桌面右上角生成计算机的温度、风扇转速、以及cpu、内存等信息。（操作基本同上） &lt;a class="link" href="https://extensions.gnome.org/extension/1460/vitals/" target="_blank" rel="noopener"
>https://extensions.gnome.org/extension/1460/vitals/&lt;/a>&lt;/p>
&lt;p>just perfection。它可以自主显示和关闭某些UI元素。（操作基本同上）&lt;/p></description></item><item><title>archlinux 截图工具</title><link>https://dev.leiyanhui.com/linux/arch-kde-jietu/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-kde-jietu/</guid><description>&lt;h1 id="archlinux-截图工具">archlinux 截图工具
&lt;/h1>&lt;p>我是 kde桌面 测试了几个软件后 感觉 spectacle 不错&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> sudo pacman -S spectacle
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装完成 会自动在kde 快捷键设置里面 添加快捷键，也可以自己手动配置 或者 修改&lt;/p>
&lt;p>wechat-uos 这个包 截图的话 要用 scrot 但是 经过测试是没法用的。有新的wechat的uos 第三方包，可以用其他截图工具&lt;/p>
&lt;p>后经过测试 Flamesshot 兼容性不错，体积也不大&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> sudo pacman -S dlamesshot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>archlinux 双蓝牙 配置</title><link>https://dev.leiyanhui.com/linux/arch-bluez/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-bluez/</guid><description>&lt;h1 id="archlinux-双蓝牙-配置">archlinux 双蓝牙 配置
&lt;/h1>&lt;p>我这个本 板载蓝牙有问题，有时候 莫名其妙 会找不到，也连不上ek的键盘 罗技的鼠标 可以链接&lt;/p>
&lt;p>加了一个usb蓝牙使用&lt;/p>
&lt;p>所以 我不单需要安装蓝牙 还要处理 双蓝牙的切换，在archinstall安装的kde上 很简单，有自带的工具包&lt;/p>
&lt;p>现在用的 dwm 就需要自己来搞定。1是驱动和管理程序 2 是系统托盘&lt;/p>
&lt;pre>&lt;code>安装 bluez，这个软件包提供蓝牙协议栈。
安装 bluez-utils，这个软件包 bluetoothctl 实用程序。另外，也可以安装 bluez-utils-compat(yay) 来获得#弃用的 BlueZ 工具。
通用蓝牙驱动是 btusb 内核模块。检查模块是否已加载。如果还没有，先加载模块。
systemctl enable bluetooth
systemctl start bluetooth
&lt;/code>&lt;/pre>
&lt;p>先检查蓝牙设备&lt;/p>
&lt;pre>&lt;code> rfkill list
------
0: hci0: Bluetooth
Soft blocked: no
Hard blocked: no
1: hci1: Bluetooth
Soft blocked: no
Hard blocked: no
&lt;/code>&lt;/pre>
&lt;p>两个蓝牙都启用状态 r&lt;a class="link" href="https://wiki.archlinux.org/title/Network_configuration/Wireless#Rfkill_caveat" target="_blank" rel="noopener"
>fkill命令参考&lt;/a>&lt;/p>
&lt;p>为了方便期间 我先拔下usb蓝牙，禁用板载蓝牙&lt;/p>
&lt;pre>&lt;code> rfkill block 0
rfkill list
------
0: hci0: Bluetooth
Soft blocked: yes
Hard blocked: no
&lt;/code>&lt;/pre>
&lt;p>Soft blocked: yes 就是禁用了哦&lt;/p>
&lt;p>启用的话&lt;/p>
&lt;pre>&lt;code> rfkill unblock 0
&lt;/code>&lt;/pre>
&lt;p>插入usb蓝牙，对应 1&lt;/p>
&lt;pre>&lt;code>sudo pacman -S blueberry
&lt;/code>&lt;/pre>
&lt;p>先测试了一下 blueberry 60多M 可以使用，在dwm下也有系统托盘 &lt;code>blueberry-tray&lt;/code> 但是不知道怎么添加 搜索设备。。。&lt;/p>
&lt;p>再 试试 &lt;a class="link" href="https://wiki.archlinux.org/title/Blueman" target="_blank" rel="noopener"
>bluesman&lt;/a> 和 blueberry 要么太大了 要么不能用 需要一堆依赖的&lt;/p>
&lt;p>算了 直接使用 bluez自带的 bluetoothctl 吧，执行 bluetoothctl 进去交互&lt;/p>
&lt;pre>&lt;code> #bluetoothctl
$ bluetoothctl 进入蓝牙管理工具环境
[bluetooth]# power on 打开蓝牙
[bluetooth]# agent on 开启代理
[bluetooth]# scan on 扫描蓝牙设备
[bluetooth]# pair xx:xx:xx:... 配对该设备
[bluetooth]# trust xx:xx:xx:... 信任该设备
[bluetooth]# connect xx:xx:... 连接该设备
[bluetooth]# disconnect xx:xx:... 断开蓝牙
&lt;/code>&lt;/pre>
&lt;p>这里以链接我的ez键盘为例子
bluetoothctl
&amp;mdash;&amp;mdash;
Agent registered
[CHG] Controller A0:9F:10:10:99:1F Pairable: yes
[CHG] Controller 04:7F:0E:14:6A:53 Pairable: yes&lt;/p>
&lt;pre>&lt;code> scan on
#等一会儿 等显示出来设备名称
# [NEW] Device DC:2C:26:F5:19:A6 EK871 BT keyboard
# 先删除
#disconnect DC:2C:26:F5:19:A6
pair DC:2C:26:F5:19:A6
trust DC:2C:26:F5:19:A6
connect DC:2C:26:F5:19:A6
# 这样就搞定了
&lt;/code>&lt;/pre>
&lt;p>后发现 重启好哦usb蓝牙有概率连不上&lt;/p>
&lt;p>新建一个sh文件&lt;/p>
&lt;pre>&lt;code> # /bin/bash
sudo rfkill list
sudo rfkill block 1
sudo rfkill list
sudo rfkill unblock 1
sudo rfkill block 0
sudo rfkill list
sudo rfkill unblock 0
sudo rfkill
#bluetoothctl
# scan no
echo &amp;quot;重新插拔一下 再执行&amp;quot;
&lt;/code>&lt;/pre>
&lt;p>官网wiki ： &lt;a class="link" href="https://wiki.archlinux.org/title/Bluetooth_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener"
>https://wiki.archlinux.org/title/Bluetooth_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&lt;/a>&lt;/p></description></item><item><title>archlinux 一键备份</title><link>https://dev.leiyanhui.com/linux/arch-backup/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-backup/</guid><description>&lt;h1 id="archlinux-一键备份">archlinux 一键备份
&lt;/h1>&lt;p>考虑到兼容性 用的ext4 分区，不方便用快照功能备份。驱动弄完后，就用tar备份一下系统&lt;/p>
&lt;p>tar备份和Windows的 ghost备份其实差不多，甚至更加灵活方便。&lt;/p>
&lt;p>先看 arch的根目录&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">bin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">boot&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">dev&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">etc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">home&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">lib&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">lib64&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">lost&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">found&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">mnt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">opt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">proc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">root&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">run&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sbin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">srv&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sys&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">tmp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">usr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">var&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>准备打包，先安装 pigz,因为支持多核压缩 也可以不用直接用gz也行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -S pigz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>要排除的目录&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="n">dev&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="err">设备指向&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="n">sys&lt;/span>&lt;span class="o">/*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="n">tmp&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="err">临时目录&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="n">mnt&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="err">默认挂载&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="n">media&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="err">新版已经把这个目录挪到了&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">media&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="err">运行中的程序&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lock&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="err">一些程序锁定&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="err">和&lt;/span>&lt;span class="n">run目录有啥区别不明&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pacman&lt;/span>&lt;span class="o">/*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">cache&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pacman&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pkg&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="n">pacman的缓存&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="n">proc&lt;/span> &lt;span class="err">内存&lt;/span>&lt;span class="n">proc&lt;/span> &lt;span class="err">文件系统，&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="n">lost&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">found&lt;/span> &lt;span class="err">回收站&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>其他一些&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/run/media 自动挂载的盘 usb和cd等
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/boot efi分区
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/home/yanhui/.cache
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/home/yanhui/.mozilla
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/home/yanhui/.local/share/wallpapers/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>建议 切换到&lt;/p>
&lt;h4 id="打包压缩命令">打包压缩命令
&lt;/h4>&lt;p>pigz 打包，这个需要live环境有安装才可以&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">sudo&lt;/span> &lt;span class="n">tar&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">use&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">compress&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">program&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">pigz&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">cvpf&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">arch&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">backup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tgz&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">arch&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">backup&lt;/span>&lt;span class="o">.*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">dev&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">sys&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">tmp&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">mnt&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">media&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lock&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pacman&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">cache&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pacman&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pkg&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">proc&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">lost&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">found&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">home&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">yanhui&lt;/span>&lt;span class="o">/.&lt;/span>&lt;span class="n">cache&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">home&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">yanhui&lt;/span>&lt;span class="o">/.&lt;/span>&lt;span class="n">mozilla&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">/&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>单线程打包到tar.gz&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">tar&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">zcvf&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">arch&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">backup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">gz&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">arch&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">backup&lt;/span>&lt;span class="o">.*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">dev&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">sys&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">tmp&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">mnt&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">media&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lock&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pacman&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">cache&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pacman&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pkg&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">proc&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">lost&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">found&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">home&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">yanhui&lt;/span>&lt;span class="o">/.&lt;/span>&lt;span class="n">cache&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">exclude&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">home&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">yanhui&lt;/span>&lt;span class="o">/.&lt;/span>&lt;span class="n">mozilla&lt;/span>&lt;span class="o">/*&lt;/span> &lt;span class="o">/&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="恢复">恢复
&lt;/h4>&lt;p>live盘启动
需要先 fdisk -l 和 mount 命令 挂载分区
至少两个分区 efi和根分区&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">fdisk -l #查看分区
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir /temp_for_backup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mount /dev/sdb3 /temp_for_backup # 挂载分区sdb3到 temp_for_backup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir /temp_for_backup/boot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mount /dev/sda1 /temp_for_backup/boot # 挂载分区efi分区到 /temp_for_backup/boot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf /temp_for_backup/* #可选
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar --use-compress-program=pigz -xvpf /f/sysbackup/arch-backup-20160331.tgz -C /mnt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>archlinux没声音，检查声音，dwm系统系统托盘声音</title><link>https://dev.leiyanhui.com/linux/arch-alsa/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-alsa/</guid><description>&lt;h1 id="分别这两个音频驱动包">分别这两个音频驱动包
&lt;/h1>&lt;p>sudo pacman -S sof-firmware
sudo pacman -S alsa-ucm-conf&lt;/p>
&lt;p>先装几个包&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> sudo pacman -S alsa-utils
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sudo pacman -S alsa-plugins
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sudo pacman -S pulseaudio-alsa
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sudo pacman -S pavucontrol-qt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sudo pacman -S pavucontrol
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sudo pacman -S pasystray
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>启用：amixer sset Master unmute
命令行设置：alsamixer
UI设置：pavucontrol&lt;/p>
&lt;p>alsamixer&lt;/p>
&lt;p>声道下方标有 MM 表示其已经静音，而标有 00 表示已经启用。
使用 ← 和 → 键滚动到 Master 和 PCM 声道，按下 m 键解除静音。&lt;/p>
&lt;p>使用 ↑ 键增加音量，获得0dB的增益。增益值可在左上方 Item: 字段旁边看到。
注意： 若增益高于0 dB，可能会听到失真。&lt;/p>
&lt;p>是一个系统托盘小程序 可以和pavucontrol 配合&lt;/p>
&lt;p>测试声音&lt;/p>
&lt;pre>&lt;code>speaker-test -c 2
&lt;/code>&lt;/pre>
&lt;p>但是 依旧没声音&lt;/p>
&lt;p>aplay -l
aplay: device_list:275: no soundcards found&amp;hellip;
找不到声卡&lt;/p>
&lt;p>在 /etc/modprobe.d/alsa-base.conf 添加一行&lt;/p>
&lt;p>options snd-hda-intel dmic_detect=0&lt;/p>
&lt;p>重启后 可以识别hdmi声卡了。但是。。主板集成的声卡 还是不行&lt;/p>
&lt;p>我有win系统，所以先去win下看一下声卡型号 essx8336 好吧，搜了一下 暂时无解，有提供驱动包的，但是网盘已经打不开&lt;/p>
&lt;p>在 &lt;a class="link" href="https://www.alsa-project.org/wiki/Changes_v1.2.6.3_v1.2.7" target="_blank" rel="noopener"
>https://www.alsa-project.org/wiki/Changes_v1.2.6.3_v1.2.7&lt;/a> 官网 搜索到&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> ucm2: sof-essx8336: use the right mixers for speaker/headphone
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ucm2: sof-essx8336: drop conditional control settings
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ucm2: sof-essx8336: Add a boot sequence
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ucm2: sof-essx8336: Fix location of HiFi.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ucm2: sof-essx8336: Fill in SectionVerb session at HiFi.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>先装上一堆&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rm&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">rf&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">modprobe&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">alsa&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">base&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conf&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sudo&lt;/span> &lt;span class="n">pacman&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">S&lt;/span> &lt;span class="n">alsa&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">firmware&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sudo&lt;/span> &lt;span class="n">pacman&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">S&lt;/span> &lt;span class="n">alsa&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">utils&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sudo&lt;/span> &lt;span class="n">pacman&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">S&lt;/span> &lt;span class="n">alsa&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">plugins&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sudo&lt;/span> &lt;span class="n">pacman&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">S&lt;/span> &lt;span class="n">alsa&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">tools&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>aplay -l&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">**** List of PLAYBACK Hardware Devices ****
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">card 0: sofessx8336 [sof-essx8336], device 0: ES8336 (*) []
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Subdevices: 0/1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Subdevice #0: subdevice #0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">card 0: sofessx8336 [sof-essx8336], device 5: HDMI 1 (*) []
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Subdevices: 1/1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Subdevice #0: subdevice #0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">card 0: sofessx8336 [sof-essx8336], device 6: HDMI 2 (*) []
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Subdevices: 1/1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Subdevice #0: subdevice #0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">card 0: sofessx8336 [sof-essx8336], device 7: HDMI 3 (*) []
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Subdevices: 1/1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Subdevice #0: subdevice #0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>参考
&lt;a class="link" href="https://wiki.archlinux.org/title/Advanced_Linux_Sound_Architecture_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener"
>https://wiki.archlinux.org/title/Advanced_Linux_Sound_Architecture_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%AE%89%E8%A3%85&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://wiki.archlinux.org/title/PulseAudio_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener"
>https://wiki.archlinux.org/title/PulseAudio_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%AE%89%E8%A3%85&lt;/a>&lt;/p></description></item><item><title>archlinux上安装微信 qq 企业微信</title><link>https://dev.leiyanhui.com/linux/arch-weixin-qq/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-weixin-qq/</guid><description>&lt;h1 id="archlinux上安装微信-qq-企业微信">archlinux上安装微信 qq 企业微信
&lt;/h1>&lt;p>十数年来，linux桌面系统 两大困扰 输入法 和 腾讯系&lt;/p>
&lt;p>输入法 目前 &lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-cninputu-sogou-baidu/index.html" target="_blank" rel="noopener"
>百度 和 搜狗都已经可以安装(不支持词库同步)&lt;/a>&lt;/p>
&lt;p>剩下就是 腾讯系 如果要用完整功能，只能wine跑（但是新版 也多少有一些问题，比如 摄像头 截图等）&lt;/p>
&lt;h2 id="前言">前言
&lt;/h2>&lt;p>目前最简单可靠的 并且可以满足日常使用的方法
&lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-install-yay/" target="_blank" rel="noopener"
>首先安装 yay &lt;/a>&lt;/p>
&lt;pre>&lt;code>yay -S electronic-wechat-uos-bin
yay -S icalingua++
# yay -S linuxqq #官方QQ 其实也还好 能用就行
&lt;/code>&lt;/pre>
&lt;p>微信用 electronic 封装的 （uos也是同样的，但是uos没有托盘）&lt;/p>
&lt;p>qq 用 icalingua++ （也是electronic封装，模拟 安卓 apad ipad的客户端 ）&lt;/p>
&lt;p>截图用第三方，我用flameshot&lt;/p>
&lt;p>不推荐用 wine 1是要装一堆 32位的东西，另外就是 性能拉跨&lt;/p>
&lt;p>先感谢 deepin&lt;/p>
&lt;p>&lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-install-yay/" target="_blank" rel="noopener"
>首先安装 yay &lt;/a>&lt;/p>
&lt;h2 id="微信">微信
&lt;/h2>&lt;p>可选的有很多&lt;/p>
&lt;p>截止目前 2022-10-18 win版本的目前是 3.7.6.44&lt;/p>
&lt;p>&lt;a class="link" href="https://aur.archlinux.org/packages/com.qq.weixin.deepin/" target="_blank" rel="noopener"
>com.qq.weixin.deepin&lt;/a> 3.2.1.154_14-2&lt;/p>
&lt;p>&lt;a class="link" href="https://aur.archlinux.org/packages/com.qq.weixin.spark" target="_blank" rel="noopener"
>com.qq.weixin.spark&lt;/a> 3.7.6.44spark0-1&lt;/p>
&lt;p>&lt;a class="link" href="https://aur.archlinux.org/packages/deepin-wine-wechat" target="_blank" rel="noopener"
>deepin-wine-wechat &lt;/a> 3.7.6.44-1&lt;/p>
&lt;p>&lt;a class="link" href="https://aur.archlinux.org/packages/wechat-uos" target="_blank" rel="noopener"
>wechat-uos&lt;/a> 这个是uos的原生版本 基于electric的 功能少，但是可能最稳定和流畅 使用 bubblewrap 替换 os-release 和 lsb-release，在没有修改其分发的二进制文件的前提下，实现模拟 UOS 专业版运行环境，&lt;/p>
&lt;p>&lt;a class="link" href="https://aur.archlinux.org/packages/electronic-wechat-uos-bin" target="_blank" rel="noopener"
>electronic-wechat-uos-bin&lt;/a> 第三方的uos版本&lt;/p>
&lt;p>还有一种&lt;a class="link" href="https://github.com/huan/docker-wechat" target="_blank" rel="noopener"
>docker运行方法，&lt;/a>但是 已经&lt;a class="link" href="https://github.com/huan/docker-wechat/issues/55" target="_blank" rel="noopener"
>有人封号&lt;/a>了&lt;/p>
&lt;p>在使用wine之前 需要处理32位的问题，因为wine目前还是基于32位的 &lt;a class="link" href="arch-32bit-for-wine.md" >查看这里，打开32位支持&lt;/a>&lt;/p>
&lt;p>选择前三个 需要装一大堆32位的包，确保磁盘容量够用。我一开始只给arch分配了10G 已经不够了。 &lt;a class="link" href="linux-diskpartion-add.md" >给linux系统扩建容量&lt;/a>&lt;/p>
&lt;h4 id="deepin-wine-wechat">deepin-wine-wechat
&lt;/h4>&lt;p>&lt;a class="link" href="https://dev.leiyanhui.com/linux/wecha-new-debian" target="_blank" rel="noopener"
>2024-03-7 已经有原生版微信，虽然目前之支持uos和麒麟等系统，实际上其他系统也可以用。&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://dev.leiyanhui.com/arch/new-qq2022/" target="_blank" rel="noopener"
>2022年12月07日 腾讯已经发布新版linux qq &lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yay -S deepin-wine-wechat
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#卸载
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yay -Rsn deepin-wine-wechat
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf /home/yanhui/.deepinwine/Deepin-WeChat/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>截图也是黑屏，但是其他截图工具可以粘贴过来。 缺点和 com.qq.weixin.spark 一样 都是卡&lt;/p>
&lt;p>输入法的 如果不能输入 需要处理一下 &lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-cninputu-sogou-baidu/" target="_blank" rel="noopener"
>参考这里我之前的纪录&lt;/a>&lt;/p>
&lt;p>系统托盘图标的问题，注销一下kde 重新登录 重新开微信就ok了&lt;/p>
&lt;p>有可能会报错&lt;/p>
&lt;p>error: could not set install reason for package lib32-at-spi2-atk (could not find or read package)&lt;/p>
&lt;p>不用管 ，重新运行即可&lt;/p>
&lt;p>kde桌面环境 可能还需要处理一下 和 deepin wine的问题 &lt;a class="link" href="https://wiki.archlinux.org/title/Deepin-wine_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener"
>参考这里&lt;/a>&lt;/p>
&lt;h3 id="comqqweixinspark">com.qq.weixin.spark
&lt;/h3>&lt;p>我这边提示有一个 spark-dwine-helper 依赖找不到，随放弃&lt;/p>
&lt;h3 id="wechat-uos">wechat-uos
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> sudo pacman -S scrot # 截图需要另外安装scrot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> yay -S wechat-uos
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>缺点很多：&lt;/p>
&lt;p>没有群折叠功能，&lt;/p>
&lt;p>没有朋友圈 小程序&lt;/p>
&lt;p>没系统托盘提醒&lt;/p>
&lt;p>也没有关闭和退出&lt;/p>
&lt;p>彻底关闭需要kill electron&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">killall electron
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>meiyou sousuo&lt;/p>
&lt;p>另外每次登录都需要扫码一次&lt;/p>
&lt;p>如果第一次打开卡，注销掉桌面系统 或者 kill 掉electron 重新开 就会好很多&lt;/p>
&lt;p>虽然有很多缺点，但是这个几乎是最流程稳定了一个版本&lt;/p>
&lt;p>如果截图黑屏的话，可以用&lt;a class="link" href="arch-kde-jietu.md" >spectacle&lt;/a> 截图后文件后 发送文件。。暂时。。没别的好办法&lt;/p>
&lt;h2 id="安装qq">安装QQ
&lt;/h2>&lt;p>TIM：com.qq.office.deepin ，若想使用较新的可选： com.qq.tim.spark或deepin-wine-tim。&lt;/p>
&lt;p>还有一个简单版本 基于 &lt;a class="link" href="https://github.com/takayama-lily/vscode-qq" target="_blank" rel="noopener"
>vscode插件的&lt;/a> 在插件市场直接走走&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yay -S deepin-wine-tim
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S xsettingsd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>把 &lt;code>/usr/bin/xsettingsd&lt;/code> 弄到自动启动项&lt;/p>
&lt;p>我是 xorg 所以直接修改&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">~/.xinitrc 或者 /etc/X11/xinit/xinitrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 在 twm &amp;amp; 之前添加
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/bin/xsettingsd &amp;amp;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>kde桌面环境 可能还需要处理一下 和 deepin wine的问题 &lt;a class="link" href="https://wiki.archlinux.org/title/Deepin-wine_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener"
>参考这里&lt;/a>&lt;/p>
&lt;h2 id="完全不用wine方法">完全不用wine方法
&lt;/h2>&lt;p>微信用 wechat-uos QQ 用 &lt;a class="link" href="https://github.com/Icalingua-plus-plus/Icalingua-plus-plus" target="_blank" rel="noopener"
>icalingua++&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">#yay -S wechat-uos
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yay -S electronic-wechat-uos-bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yay -S icalingua++
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>wechat-uos 的缺点前面都说很多，主要是功能不全，但是稳定轻量
electronic-wechat-uos-bin 更好用一些&lt;/p>
&lt;p>icalingua 速度嗷嗷的好，也支持群文件，重启kde 或者 dwm后就支持系统托盘了 ，和&lt;a class="link" href="arch-kde-jietu.md" >其他截图工具配合可以支持截图&lt;/a>&lt;/p>
&lt;p>彻底清理deepin wine版本&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yay -Rsn deepin-wine-wechat
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf /home/yanhui/.deepinwine/Deepin-WeChat
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf /home/yanhui/Documents/WeChat\ Files/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yay -Rsn deepin-wine-tim
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf /home/yanhui/.deepinwine/Deepin-TIM
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf /home/yanhui/.deepinwine
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>小插曲
关于 electronic-wechat-uos-bin 这个包
First Submitted: 2022-10-19 09:18 (UTC)
Last Updated: 2022-10-19 10:10 (UTC)&lt;/p>
&lt;p>今天是 2022-10-29 18：35&lt;/p>
&lt;p>&lt;a class="link" href="https://wiki.archlinux.org/title/WeChat_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener"
>官网wiki&lt;/a>&lt;/p></description></item><item><title>dwm 扩展 安装方法</title><link>https://dev.leiyanhui.com/linux/arch-install-dwm-pacher/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-install-dwm-pacher/</guid><description>&lt;h1 id="dwm-扩展-安装方法">dwm 扩展 安装方法
&lt;/h1>&lt;p>首先用 &lt;a class="link" href="arch-install-dwm.md" >卸载yay安装的版本，用编译方式安装的dwm&lt;/a>&lt;/p>
&lt;p>创建目录 用于存补丁&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mkdir ~/dwmfiles/patches/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#没有安装wget也安装一下
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S wget
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>获取补丁&lt;/p>
&lt;p>官网地址 &lt;a class="link" href="https://dwm.suckless.org/patches/" target="_blank" rel="noopener"
>https://dwm.suckless.org/patches/&lt;/a>&lt;/p>
&lt;p>类似一个应用市场&lt;/p>
&lt;p>找到 &lt;a class="link" href="https://dwm.suckless.org/patches/systray/" target="_blank" rel="noopener"
>https://dwm.suckless.org/patches/systray/&lt;/a>&lt;/p>
&lt;p>我现在的是最新版本 6.3版 所以就下载他对应的补丁&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">wget https://dwm.suckless.org/patches/systray/dwm-systray-6.3.diff
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>到dwm源码目录&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mkdir ~/dwmfiles/dwm/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果么有配置git 用户的话配置一下，&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> git config --global user.name &amp;#34;leiyanhui&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> git config --global user.email &amp;#34;leiyanhui@xxx.com&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>打补丁，重新提交commit 编译&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">patch &amp;lt; ~/dwmfiles/patches/dwm-systray-6.3.diff
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -am &amp;#34;systray&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf config.h # 这个文件是每次编译的使用 那个 config.ref.h自动生成的
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo make clean install #重新安装
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>dwm 使用快捷键 打开程序</title><link>https://dev.leiyanhui.com/linux/arch-install-dwm-diykey/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-install-dwm-diykey/</guid><description>&lt;h1 id="dwm-使用快捷键-打开程序">dwm 使用快捷键 打开程序
&lt;/h1>&lt;p>比如 win+E 打开文件管理器Thunar&lt;/p>
&lt;pre>&lt;code>cd dwmfiles/dwm/
nano config.def.h
&lt;/code>&lt;/pre>
&lt;p>在&lt;/p>
&lt;pre>&lt;code> static const Key keys[] = {
&lt;/code>&lt;/pre>
&lt;p>增加一行&lt;/p>
&lt;pre>&lt;code>{ MODKEY, XK_e, spawn, SHCMD(&amp;quot;thunar&amp;quot;)},
&lt;/code>&lt;/pre>
&lt;p>重新编译&lt;/p>
&lt;pre>&lt;code> rm -rf config.h
make
sudo make clean install
&lt;/code>&lt;/pre>
&lt;p>再比如 截图 flameshot 或者 spectacle&lt;/p>
&lt;p>先获取 prt Scr的对照&lt;/p>
&lt;pre>&lt;code> xev
# 看 keycode 的值 是107
&lt;/code>&lt;/pre>
&lt;p>不过我喜欢习惯了用 alt+a来截图&lt;/p>
&lt;pre>&lt;code>// 截图
{ Mod1Mask, XK_a, spawn, SHCMD(&amp;quot;flameshot&amp;quot;)},
&lt;/code>&lt;/pre>
&lt;p>不过这里只是一个例子 flameshot 丢到后台启动更好一些吧&lt;/p>
&lt;p>增加一个 win+R 的启动dmenucmd程序，类似windows的&lt;/p>
&lt;pre>&lt;code> // Win+r 运行
{ Mod4Mask, XK_r, spawn, {.v = dmenucmd } },
&lt;/code>&lt;/pre>
&lt;p>参考 &lt;a class="link" href="https://blog.csdn.net/weixin_43889478/article/details/108937727" target="_blank" rel="noopener"
>https://blog.csdn.net/weixin_43889478/article/details/108937727&lt;/a>&lt;/p></description></item><item><title>dwm修改主快捷键和默认快捷键配置</title><link>https://dev.leiyanhui.com/linux/arch-install-dwm-hotkey/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-install-dwm-hotkey/</guid><description>&lt;h1 id="dwm修改主快捷键和默认快捷键配置">dwm修改主快捷键和默认快捷键配置
&lt;/h1>&lt;p>dwm默认的主快捷键/功能按键是Alt,也就是说如果要使用快捷键来完成一些便捷操作的话，基本上我们都要按一下Alt键。因为dwm是窗口管理器嘛，用键盘上的Windows键来完成与窗口相关的操作更合理一下，也防止很多软件冲突。找到配置文件的当中的#define MODKEY,把后面的内容调整为Mod4Mask，这样后面所有用到MODKEY的快捷键就都按Windows键就可以了。&lt;/p>
&lt;p>修改主快捷键 需要 自行编译
完整的编译命令&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git clone git://git.suckless.org/dwm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd dwm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在make之前&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">nano config.def.h
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>找到 #define MODKEY
改为 #define MODKEY Mod4Mask&lt;/p>
&lt;p>然后
make
make install&lt;/p>
&lt;p>进阶 &lt;a class="link" href="arch-install-dwm-diykey.md" >快捷键启动指定程序&lt;/a>&lt;/p>
&lt;p>桌面模式&lt;/p>
&lt;pre>&lt;code>全屏 [2]
平铺 []=
浮动全屏模式 [3]
&lt;/code>&lt;/pre>
&lt;p>常用快捷键&lt;/p>
&lt;pre>&lt;code>当前窗口全屏 Mod + m 返回方法 mod + 空格 或者 mod + t
当前窗口全屏 mod + 空格 浮动全屏模式
当前窗口 移动到别的工作区域 mod shift 1-9
然后需要手动 在 mod 1-9 切换到对用工作去，有 pathc可以搞定自动跟随切换
切换焦点（类似鼠标点击窗口）
当前窗口作为主窗口（左侧或者右侧主区域） mod + 回车
平铺模式 mod + t
两种模式 横向和竖向 其中分别还有3种小模式，所以 书香排列切换到横小排列，你或许 需要 mod +d 再 + d 连续按多次d
窗口横向排列 mod +d
调整横向分割大小 mod + h mod + L
窗口竖向排列 mod + i
&lt;/code>&lt;/pre>
&lt;p>默认快捷键对照&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Alt + shift + Enter # 打开新窗口
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + shift + C # 关闭当前窗口
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + D # 窗口横向排列
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + I # 窗口竖向排列
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + Enter # 窗口位置互换
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + num # 切换标签页
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + shift + num # 移动窗口至某标签页
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + T # 平铺模式（tiling)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + M # 单窗口模式
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + F # 浮动模式（float)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 在窗口间切换
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + J
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + K
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 改变窗口的长度/比例
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + H
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + L
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 窗口模式切换
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + Space
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alt + shift + Space
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">在主副屏之间移动焦点
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Mod + &amp;lt; # 移动焦点至左边屏幕
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Mod + &amp;gt; # 移动焦点至右边屏幕
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">在主副屏之间移动窗口
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Mod + shift + &amp;lt; # 移动窗口至左边屏幕
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Mod + shift + &amp;gt; # 移动窗口至右边屏幕
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Mod + 鼠标右键
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Basic
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">=====
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Shift]+[Mod]+[Enter] - launch terminal.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod]+[b] - 隐藏和显示顶部栏目
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod]+[p] - dmenu 搜索和启动程序
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod]+[Enter] - 切换窗口布局push acive window from stack to master, or pulls last used window from stack onto master.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod] + [j / k] - 移动鼠标焦点 focus on next/previous window in current tag.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod] + [h / l] - 修改窗口左右横列宽度 increases / decreases master size.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Navigation
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">==========
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod]+[2] - moves your focus to tag 2.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Shift]+[Mod]+[2] - 把窗口一定移动到2号桌面 move active window to the 2 tag.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod] + [i / d] - 横竖布局 increases / decreases number of windows on master
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod] + [, / .] - move focus between screens (multi monitor setup)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Shift]+[Mod]+[, / .] - move active window to different screen.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod]+[0] - view all windows on screen.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Shift]+[Mod]+[0] - make focused window appear on all tags.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Shift]+[Mod]+[c] - kill active window.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Shift]+[Mod]+[q] - quit dwm cleanly.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Layout
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">======
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod]+[t] - tiled mode. []=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod]+[f] - floating mode. &amp;gt;&amp;lt;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod]+[m] - monocle mode. [M] (single window fullscreen)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Floating
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">========
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod]+[R M B] - to resize the floating window.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod]+[L M B] - to move the floating window around.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod]+[Space] - toggles to the previous layout mode.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod]+[Shift]+[Space] - to make an individual window float.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[Mod]+[M M B] - to make an individual window un-float.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>dwm重启，但是不重启xorg</title><link>https://dev.leiyanhui.com/linux/arch-dwm-restart/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-dwm-restart/</guid><description>&lt;p>~/bin/startdwm&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">while true; do
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # Log stderror to a file
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> dwm 2&amp;gt; ~/.dwm.log
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # No error logging
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> #dwm &amp;gt;/dev/null 2&amp;gt;&amp;amp;1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">done
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>~/.xinitrc&lt;/p>
&lt;p>exec startdwm&lt;/p></description></item><item><title>inux 下常用的轻量好用的图形界面程序</title><link>https://dev.leiyanhui.com/linux/linux-soft/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/linux-soft/</guid><description>&lt;h1 id="linux-下常用的轻量好用的图形界面程序">linux 下常用的轻量好用的图形界面程序
&lt;/h1>&lt;pre>&lt;code>终端：kitty, alacritty, termite（前两个有GPU加速）
护眼：redshift-gtk
程序启动器：dmenu, rofi
Shell：fish, zsh
壁纸设置器：feh, nitrogen
音乐播放器：mpd&amp;amp;ncmpcpp（基于终端）, deadbeaf-git
特效合成器：picom-jonaburg-git, picom
文件管理器：thunar, nemo
电源管理器：xfce4-power-manager
截图工具：flameshot, scrot
主题设置器：lxappearance&amp;amp;qt5ct&amp;amp;xsettingsd
输入法：fcitx5
科学上网工具：qv2ray
剪切板管理器：copyq
云同步工具：nutstore（坚果云）, dropbox
通知管理器：dunst
锁屏管理器：betterlockscreen, xautolock（用于自动锁屏）
pdf 阅读器：zathura（vim风格）, atril（没有gnome依赖的evince）
文本编辑器：nano nvim, doom emacs(可选)，(vs)code
屏幕亮度调节器：light
&lt;/code>&lt;/pre></description></item><item><title>linux下 可视化文件管理器</title><link>https://dev.leiyanhui.com/linux/linux-file-manager/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/linux-file-manager/</guid><description>&lt;h1 id="linux下-可视化文件管理器">linux下 可视化文件管理器
&lt;/h1>&lt;p>我选择以来最少，也最轻量的 Thunar&lt;/p>
&lt;pre>&lt;code> sudo pacman -S thunar
&lt;/code>&lt;/pre>
&lt;p>自带基本的图片查看&lt;/p>
&lt;p>dwm ：
win +p thunar&lt;/p></description></item><item><title>linux下 可视化文件管理器</title><link>https://dev.leiyanhui.com/linux/rdp-win/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/rdp-win/</guid><description>&lt;h1 id="linux下远程控制win以及remoteapp的rdp客户端的尝试">Linux下远程控制win以及remoteapp的rdp客户端的尝试
&lt;/h1>&lt;h2 id="简单使用">简单使用
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -S  remmina
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S freerdp # rdp协议支持
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S libvncserver # vnc协议
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S spice-gtk # spice协议
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>总结，暂时没法没找到 linux下支持 remoteapp的办法&lt;/p>&lt;/blockquote>
&lt;h2 id="尝试记录">尝试记录
&lt;/h2>&lt;p>环境 arch 2022-10-18&lt;/p>
&lt;p>先尝试  安装一个图形界面的远程管理工具吧。我这里选择 Remmina&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -S  remmina
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>默认 只支持 ssh x2go&lt;/p>
&lt;p>如果你需要 RDP 支持，还要选择安装 freerdp 或 remmina-plugin-rdesktop(AUR)。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yay -S remmina-plugin-rdesktop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 关闭remmina
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">killall remmina
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>测试后 发现好像连不上&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">yay -Rs remmina-plugin-rdesktop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -Rs rdesktop
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>试试 freerdp&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -S freerdp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">killall
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>再次使用 可以正常链接Windows了&lt;/p>
&lt;p>rdp文件也可以自动关联到remmina&lt;/p>
&lt;p>但是 remotapp 依旧不知道应该如何支持&lt;/p>
&lt;p>&lt;a class="link" href="https://wiki.archlinux.org/title/Remmina_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener"
>arch wifi&lt;/a>&lt;/p></description></item><item><title>linux下分区无损扩容</title><link>https://dev.leiyanhui.com/linux/linux-diskpartion-add/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/linux-diskpartion-add/</guid><description>&lt;h1 id="linux下分区无损扩容">linux下分区无损扩容
&lt;/h1>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo fdisk -l
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo cfdisk /dev/XXXXXX
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后添加容量即可&lt;/p>
&lt;p>当然后面必须要有空余容量&lt;/p>
&lt;p>使用winpe diskgen 会出现一下其他错误，不建议使用&lt;/p>
&lt;p>另外 cfdisk 减小容量 哪怕是减小到大于目前容量 也会导致部分文件丢失，慎用！&lt;/p>
&lt;p>容量扩展后，df -h 查看容量没有增加，fdisk -l 查看容量已经增加&lt;/p>
&lt;p>这时候 需要重设一下分区大小，以ext4为例&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> sudo resize2fs /dev/mmcblk0p2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>再次df -h 查看 已经正常&lt;/p>
&lt;p>最后经过测试&lt;/p>
&lt;p>使用archinstall 全盘安装的系统，可以用diskgen 收缩分区容量，且不会破坏引导，但是速度很慢，而且仅限ext4分区格式&lt;/p></description></item><item><title>linux下用fish作为默认shell</title><link>https://dev.leiyanhui.com/linux/fish-install/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/fish-install/</guid><description>&lt;h1 id="linux下用fish作为默认shell">linux下用fish作为默认shell
&lt;/h1>&lt;p>fish 更加漂亮 好用一些&lt;/p>
&lt;p>官网 &lt;a class="link" href="http://fishshell.com/" target="_blank" rel="noopener"
>http://fishshell.com/&lt;/a>&lt;/p>
&lt;p>debian/deepin 发行版可直接 sudo apt install fish&lt;/p>
&lt;p>arch&lt;/p>
&lt;p>sudo pacman -S fish&lt;/p>
&lt;p>其他发行版在官网找到对应的安装方法，安装完成后执行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">chsh -s /usr/bin/fish
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>就可设置fish为默认shell了，&lt;/p>
&lt;p>需要退出终端再进一次即可生效&lt;/p>
&lt;p>但是仅供远程ssh的时候使用&lt;/p>
&lt;p>经过测试 还需要配置一下 konsole&lt;/p>
&lt;p>先检查&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">chsh -l
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#/bin/sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#/bin/bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#/usr/bin/git-shell
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#/usr/bin/fish
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#/bin/fish
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>打开 konsole&lt;/p>
&lt;p>setting&amp;gt; manage Profiles &amp;gt;&lt;/p>
&lt;p>添加一个配置文件 名字就叫 fish就好了&lt;/p>
&lt;p>然后修改 bin/bash 为 /bin/fish&lt;/p>
&lt;p>发现有bug，关闭重启后 就丢了&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cd ~/.local/share/konsole/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>nano fish.profile&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[General]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Command=/bin/fish
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Name=fish
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Parent=FALLBACK/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>或者 手动多建立几个 也可以&lt;/p>
&lt;p>&lt;a class="link" href="https://wiki.archlinux.org/title/Fish_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29#%E5%B0%86_fish_%E8%AE%BE%E4%B8%BA%E9%BB%98%E8%AE%A4_shell" target="_blank" rel="noopener"
>arch官网wiki&lt;/a>&lt;/p></description></item><item><title>为什么选择arch</title><link>https://dev.leiyanhui.com/linux/arch-why/</link><pubDate>Wed, 03 Aug 2022 21:38:29 +0000</pubDate><guid>https://dev.leiyanhui.com/linux/arch-why/</guid><description>&lt;h1 id="为什么选择arch">为什么选择arch
&lt;/h1>&lt;p>已经使用arch作为工作系统5年多，主要是go php java ardruino的开发环境使用&lt;/p>
&lt;h2 id="桌面系统">桌面系统
&lt;/h2>&lt;p>首先是因为可定制，其次是因为arch还是比较适合做桌面系统的，主要原因还是官方源的驱动比较全比较新&lt;/p>
&lt;p>和多数人一样，都是从redhat开始 centos Fedora debian Ubuntu Slackware Gentoo Mandrake deepin uos&lt;/p>
&lt;p>Ubuntu 的各个衍生版 应该是我用的最多最久的&lt;/p>
&lt;p>期间一度迷恋alpine，很早之前就知道arch但是尝试安装Manjaro后 也感觉，直到群里有大神再次推荐。于是尝试几次后 开始一发不可收拾。。&lt;/p>
&lt;p>先说缺点吧&lt;/p>
&lt;h3 id="缺点">缺点
&lt;/h3>&lt;ul>
&lt;li>安装难度略大&lt;/li>
&lt;li>其实 现在有archinstall 自动脚本后已经很简单了&lt;/li>
&lt;li>只是想体验的话 有 &lt;a class="link" href="https://hub.docker.com/r/linuxserver/webtop" target="_blank" rel="noopener"
>https://hub.docker.com/r/linuxserver/webtop&lt;/a> 这个docker的桌面系统&lt;/li>
&lt;li>滚动更新 有很小的概率升级的时候搞挂 不是服务器的话没影响&lt;/li>
&lt;/ul>
&lt;h3 id="优点">优点
&lt;/h3>&lt;ul>
&lt;li>很新 很新
其他发行版本 也不能说有问题 只是会带来一些额外的工作量&lt;/li>
&lt;li>驱动支持的广泛
无论是古董机器，还是低配机器，还是最新顶配 基本上都可以搞定&lt;/li>
&lt;li>包管理的方便 第三方包很丰富并且更新频繁 中文wifi 以及国内众多使用者
一些特殊软件，尤其是 微信 qq之类的 都比较容易解决&lt;/li>
&lt;/ul>
&lt;p>总的来说arch 就是新&lt;/p>
&lt;h2 id="服务器系统">服务器系统
&lt;/h2>&lt;p>目前还是Ubuntu20.04 和 21.04 ， 因为习惯用宝塔，所以还是在 Debian 和 redhat系 来回使用。&lt;/p>
&lt;p>作为一个业余玩家，服务器一直使用vps，好像即便是选择arch 哪怕升级挂了 也不是大问题。&lt;/p>
&lt;h2 id="arch一键备份">arch一键备份
&lt;/h2>&lt;p>&lt;a class="link" href="arch-backup.md" >在这里整理和更新&lt;/a>&lt;/p></description></item></channel></rss>
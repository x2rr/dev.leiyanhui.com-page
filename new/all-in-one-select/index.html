<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="先说适合我自己的all in one方案 首先，不建议主路由 挂这里。主路由还是独立出来，不然动则全家 全公司不能上网，被喷死\n所以 我路由器 还是独立的， 刷的 openwrt，但是因为flash容量的原因，无法在 路由上直接挂代理。 代理还是放到了all in one 主机的docker里面高\n功能的需求上\n需要 nas，做监控的储存，smb协议\n外网和局域网的文件共享，我才用webdav。我自己有用golang写了一个简单的跨平台的webdavgo 在这里\n外网访问的问题，因为我有公网ip所以，，这个不是问题。。。你如果没有 随便找一个穿透方案就好了。\n几种主流的系统对比 黑群晖 优点：简单易用 缺点： 毕竟是破解。。。不推荐 内核老 深度定制的linux 不适合折腾 挑网卡 不过可以打补丁 特殊硬件直通 相对困难很多 esxi 优点：简单易用，据说多数 缺点 并非linux docker 只能虚拟机跑 挑网卡，挑硬件 很多个人电脑网卡无法用，额外添加驱动时间成本很高 商业化软件，个人免费 unraid 优点：不占用硬盘，U盘使用，系统备份什么的都很方便 缺点： 必须依赖梯子 改hosts方案不稳定 收费，并不便宜 而且绑定U盘的 一年只可以换一次 破解版 有后门可能，有一些有挖矿代码 特殊情况的下在的直通 兼容性很差 web界面有时候抽风 很卡 反应迟钝 挑U盘，部分U盘没有唯一uuid的，没法用 虽然不怎么影响U盘寿命，但是很多人还是坏过U盘 pve 优点 基于debian11 可以玩性强，也可以 在debian上附加安装，并非深度定制的debian 基本不挑硬件 缺点 比上述所有系统都要复杂一点，需要有一点linux基础才可以玩的开心 docker 需要另外安装，或者lxc里面跑，也不算缺点 主要看你docker用多少 自己安装linux + kvm 优点 灵活可控 缺点 参考pve 需要你linux技术和kvm了解程度高一些 我的选择： 目前 ventoy 硬盘安装，pve 安装到vhd启动\n"><title>all in one 可以满足多数人的方案和选择 个人看法</title><link rel=canonical href=https://dev.leiyanhui.com/new/all-in-one-select/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="all in one 可以满足多数人的方案和选择 个人看法"><meta property='og:description' content="先说适合我自己的all in one方案 首先，不建议主路由 挂这里。主路由还是独立出来，不然动则全家 全公司不能上网，被喷死\n所以 我路由器 还是独立的， 刷的 openwrt，但是因为flash容量的原因，无法在 路由上直接挂代理。 代理还是放到了all in one 主机的docker里面高\n功能的需求上\n需要 nas，做监控的储存，smb协议\n外网和局域网的文件共享，我才用webdav。我自己有用golang写了一个简单的跨平台的webdavgo 在这里\n外网访问的问题，因为我有公网ip所以，，这个不是问题。。。你如果没有 随便找一个穿透方案就好了。\n几种主流的系统对比 黑群晖 优点：简单易用 缺点： 毕竟是破解。。。不推荐 内核老 深度定制的linux 不适合折腾 挑网卡 不过可以打补丁 特殊硬件直通 相对困难很多 esxi 优点：简单易用，据说多数 缺点 并非linux docker 只能虚拟机跑 挑网卡，挑硬件 很多个人电脑网卡无法用，额外添加驱动时间成本很高 商业化软件，个人免费 unraid 优点：不占用硬盘，U盘使用，系统备份什么的都很方便 缺点： 必须依赖梯子 改hosts方案不稳定 收费，并不便宜 而且绑定U盘的 一年只可以换一次 破解版 有后门可能，有一些有挖矿代码 特殊情况的下在的直通 兼容性很差 web界面有时候抽风 很卡 反应迟钝 挑U盘，部分U盘没有唯一uuid的，没法用 虽然不怎么影响U盘寿命，但是很多人还是坏过U盘 pve 优点 基于debian11 可以玩性强，也可以 在debian上附加安装，并非深度定制的debian 基本不挑硬件 缺点 比上述所有系统都要复杂一点，需要有一点linux基础才可以玩的开心 docker 需要另外安装，或者lxc里面跑，也不算缺点 主要看你docker用多少 自己安装linux + kvm 优点 灵活可控 缺点 参考pve 需要你linux技术和kvm了解程度高一些 我的选择： 目前 ventoy 硬盘安装，pve 安装到vhd启动\n"><meta property='og:url' content='https://dev.leiyanhui.com/new/all-in-one-select/'><meta property='og:site_name' content='小类随手记'><meta property='og:type' content='article'><meta property='article:section' content='New'><meta property='article:published_time' content='2022-10-28T17:14:20+08:00'><meta property='article:modified_time' content='2022-10-28T17:14:20+08:00'><meta name=twitter:title content="all in one 可以满足多数人的方案和选择 个人看法"><meta name=twitter:description content="先说适合我自己的all in one方案 首先，不建议主路由 挂这里。主路由还是独立出来，不然动则全家 全公司不能上网，被喷死\n所以 我路由器 还是独立的， 刷的 openwrt，但是因为flash容量的原因，无法在 路由上直接挂代理。 代理还是放到了all in one 主机的docker里面高\n功能的需求上\n需要 nas，做监控的储存，smb协议\n外网和局域网的文件共享，我才用webdav。我自己有用golang写了一个简单的跨平台的webdavgo 在这里\n外网访问的问题，因为我有公网ip所以，，这个不是问题。。。你如果没有 随便找一个穿透方案就好了。\n几种主流的系统对比 黑群晖 优点：简单易用 缺点： 毕竟是破解。。。不推荐 内核老 深度定制的linux 不适合折腾 挑网卡 不过可以打补丁 特殊硬件直通 相对困难很多 esxi 优点：简单易用，据说多数 缺点 并非linux docker 只能虚拟机跑 挑网卡，挑硬件 很多个人电脑网卡无法用，额外添加驱动时间成本很高 商业化软件，个人免费 unraid 优点：不占用硬盘，U盘使用，系统备份什么的都很方便 缺点： 必须依赖梯子 改hosts方案不稳定 收费，并不便宜 而且绑定U盘的 一年只可以换一次 破解版 有后门可能，有一些有挖矿代码 特殊情况的下在的直通 兼容性很差 web界面有时候抽风 很卡 反应迟钝 挑U盘，部分U盘没有唯一uuid的，没法用 虽然不怎么影响U盘寿命，但是很多人还是坏过U盘 pve 优点 基于debian11 可以玩性强，也可以 在debian上附加安装，并非深度定制的debian 基本不挑硬件 缺点 比上述所有系统都要复杂一点，需要有一点linux基础才可以玩的开心 docker 需要另外安装，或者lxc里面跑，也不算缺点 主要看你docker用多少 自己安装linux + kvm 优点 灵活可控 缺点 参考pve 需要你linux技术和kvm了解程度高一些 我的选择： 目前 ventoy 硬盘安装，pve 安装到vhd启动\n"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_6049d840d4e2d14.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🐟</span></figure><div class=site-meta><h1 class=site-name><a href=/>小类随手记</a></h1><h2 class=site-description>just so so.</h2></div></header><ol class=menu-social><li><a href=https://github.com/joyanhui/dev.leiyanhui.com-src target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>列表</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>站内搜索</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>links</span></a></li><li><a href=/contact/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>contact</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#先说适合我自己的all-in-one方案>先说适合我自己的all in one方案</a></li><li><a href=#几种主流的系统对比>几种主流的系统对比</a></li><li><a href=#我的选择>我的选择：</a><ol><li><a href=#目前>目前</a></li><li><a href=#未来>未来</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/new/all-in-one-select/>all in one 可以满足多数人的方案和选择 个人看法</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2022-10-28</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 1 分钟</time></div></footer></div></header><section class=article-content><h2 id=先说适合我自己的all-in-one方案>先说适合我自己的all in one方案</h2><p>首先，不建议主路由 挂这里。主路由还是独立出来，不然动则全家 全公司不能上网，被喷死</p><p>所以 我路由器 还是独立的， 刷的 openwrt，但是因为flash容量的原因，无法在 路由上直接挂代理。 代理还是放到了all in one 主机的docker里面高</p><p>功能的需求上</p><p>需要 nas，做监控的储存，smb协议</p><p>外网和局域网的文件共享，我才用webdav。我自己有用golang写了一个简单的跨平台的webdavgo <a class=link href=https://github.com/joyanhui/webdavgo target=_blank rel=noopener>在这里</a></p><p>外网访问的问题，因为我有公网ip所以，，这个不是问题。。。你如果没有 随便找一个穿透方案就好了。</p><h2 id=几种主流的系统对比>几种主流的系统对比</h2><ul><li>黑群晖<ul><li>优点：简单易用</li><li>缺点：<ul><li>毕竟是破解。。。不推荐</li><li>内核老</li><li>深度定制的linux 不适合折腾</li><li>挑网卡 不过可以打补丁</li><li>特殊硬件直通 相对困难很多</li></ul></li></ul></li><li>esxi<ul><li>优点：简单易用，据说多数</li><li>缺点<ul><li>并非linux<ul><li>docker 只能虚拟机跑</li></ul></li><li>挑网卡，挑硬件 很多个人电脑网卡无法用，额外添加驱动时间成本很高</li><li>商业化软件，个人免费</li></ul></li></ul></li><li>unraid<ul><li>优点：不占用硬盘，U盘使用，系统备份什么的都很方便</li><li>缺点：<ul><li>必须依赖梯子 改hosts方案不稳定</li><li>收费，并不便宜 而且绑定U盘的 一年只可以换一次</li><li>破解版 有后门可能，有一些有挖矿代码</li><li>特殊情况的下在的直通 兼容性很差</li><li>web界面有时候抽风 很卡 反应迟钝</li><li>挑U盘，部分U盘没有唯一uuid的，没法用</li><li>虽然不怎么影响U盘寿命，但是很多人还是坏过U盘</li></ul></li></ul></li><li>pve<ul><li>优点</li><li>基于debian11 可以玩性强，也可以 在debian上附加安装，并非深度定制的debian</li><li>基本不挑硬件</li><li>缺点</li><li>比上述所有系统都要复杂一点，需要有一点linux基础才可以玩的开心</li><li>docker 需要另外安装，或者lxc里面跑，也不算缺点 主要看你docker用多少</li></ul></li><li>自己安装linux + kvm<ul><li>优点<ul><li>灵活可控</li></ul></li><li>缺点<ul><li>参考pve</li><li>需要你linux技术和kvm了解程度高一些</li></ul></li></ul></li></ul><h2 id=我的选择>我的选择：</h2><h3 id=目前>目前</h3><p>ventoy 硬盘安装，pve 安装到vhd启动</p><ul><li>优点<ul><li>可以和unraid一样方便备份</li><li>灵活</li></ul></li><li>缺点<ul><li>除了pve本身的缺点没法别的</li></ul></li></ul><h3 id=未来>未来</h3><p>有时间 会单独弄一个 arch 或者 ubuntu 独立安装kvm</p></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//xiao-lei-sui-shou-ji.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2022 -
2025 小类随手记</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>
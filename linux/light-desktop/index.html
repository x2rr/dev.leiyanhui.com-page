<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="xfce xfce4 比较稳，开箱即用，该有的功能都有。 美化比较简单，如果不是非要用wayland的 很不错。 xfce4默认给你创建的面板2实际是一个启动器而不是dock，需要自己另外处理一下。\nkde 和gnome kde和gnome 自定义功能复杂，而且很多无法实现。 gnome多数自定义功能需要插件来，但是随着版本更新很多插件会失效。即便如此gnome的个性化和自定义功能还是非常有限，而且部分功能实现起来非常复杂。 kde自定义功能要比gnome多很多，但是很多都是面板配置，直接修改配置文件需要熟悉他的配置项，太多太复杂，没有必要浪费精神。\ndwm 和 i3 这两个我长期使用的桌面，dwm入坑，随后几个月后就转入i3 并长期使用。 dwm除了修改配置需要重新编译之外，也就只有基础的一些功能。相对来说i3的功能更加完善。 这两个桌面 性能都非常好，在低配机器上相应速度也非常流畅，在xrdp远程环境下工作也良好。\nwayfire 目前还是初级阶段，折腾并使用过一段时间，很多常规窗口管理的热键尚不支持。而且遇到几次整个桌面闪掉回退到tty的情况。 平铺模式下 很多常用热键不支持，也无法自行配置。 不过waybar确实不错。 多屏幕管理有一点问题。\nopenbox 堆叠桌面的轻量选择，需要自己简单配置一下热键和右键菜单。并配合 tin2 或者plank使用。 作为堆叠桌面，够用。作为平铺桌面使用的话非常不方便。\nawesome 目前使用的。 awesome 还是比较推荐的，他有以下几个优点\n优点 开箱即用 并且同时支持平铺和堆叠 默认配置文件和官方文档提供了丰富的实例，只要有编程基础不需要会lua语言就可以轻松个性化。 因为基于lua的配置下所以进阶使用功能比i3丰富很多 堪称牛逼。 和i3 、dwm 一样的稳定性兼容性 在低配电脑上工作良好 在xrdp和vnc模式下 同样反应速度很快 可以单独某一个屏幕使用浮动窗口 罗列几个lua配置可以实现的一些i3和其他轻量级桌面无法很优雅实现的功能。 可以用 popup 和 tasklist 两个组件 实现 alt+tab 的功能 ，而i3下一般是使用rofi来实现。自己实现的会更加灵活。 窗口的rules 控制规则可以更精细，甚至可以精确到某一个应用的某一个对话框、设置框。当然i3 支持 应用默认在固定的桌面/显示器 都是支持的。 因为lua本身就是一个强大的语言，所以可以实现一个不依赖python 获取其他语言的 纯lua实现的一些小插件到awesome 同样组件组合的功能，可以实现比polybar更加丰富和美观的bar 多个菜单的组合 会更加灵活 整个桌面功能，可以只需要一个配置文件（rc.lua）不需要其他任何依赖。 缺点 基于lua的配置文件，很多平铺桌面党多数是选的i3 中文资料较少 会劝退很多人。 x11转发到本地的窗口在平铺模式下 修改窗口大小 会有一点拖影。 我的awesome配置 可能有一定的滞后性，最新的可以查看 https://github.com/joyanhui/desktop-cfg/tree/main/.config/awesome\n"><title>linux下轻量级桌面对比和选择</title><link rel=canonical href=https://dev.leiyanhui.com/linux/light-desktop/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="linux下轻量级桌面对比和选择"><meta property='og:description' content="xfce xfce4 比较稳，开箱即用，该有的功能都有。 美化比较简单，如果不是非要用wayland的 很不错。 xfce4默认给你创建的面板2实际是一个启动器而不是dock，需要自己另外处理一下。\nkde 和gnome kde和gnome 自定义功能复杂，而且很多无法实现。 gnome多数自定义功能需要插件来，但是随着版本更新很多插件会失效。即便如此gnome的个性化和自定义功能还是非常有限，而且部分功能实现起来非常复杂。 kde自定义功能要比gnome多很多，但是很多都是面板配置，直接修改配置文件需要熟悉他的配置项，太多太复杂，没有必要浪费精神。\ndwm 和 i3 这两个我长期使用的桌面，dwm入坑，随后几个月后就转入i3 并长期使用。 dwm除了修改配置需要重新编译之外，也就只有基础的一些功能。相对来说i3的功能更加完善。 这两个桌面 性能都非常好，在低配机器上相应速度也非常流畅，在xrdp远程环境下工作也良好。\nwayfire 目前还是初级阶段，折腾并使用过一段时间，很多常规窗口管理的热键尚不支持。而且遇到几次整个桌面闪掉回退到tty的情况。 平铺模式下 很多常用热键不支持，也无法自行配置。 不过waybar确实不错。 多屏幕管理有一点问题。\nopenbox 堆叠桌面的轻量选择，需要自己简单配置一下热键和右键菜单。并配合 tin2 或者plank使用。 作为堆叠桌面，够用。作为平铺桌面使用的话非常不方便。\nawesome 目前使用的。 awesome 还是比较推荐的，他有以下几个优点\n优点 开箱即用 并且同时支持平铺和堆叠 默认配置文件和官方文档提供了丰富的实例，只要有编程基础不需要会lua语言就可以轻松个性化。 因为基于lua的配置下所以进阶使用功能比i3丰富很多 堪称牛逼。 和i3 、dwm 一样的稳定性兼容性 在低配电脑上工作良好 在xrdp和vnc模式下 同样反应速度很快 可以单独某一个屏幕使用浮动窗口 罗列几个lua配置可以实现的一些i3和其他轻量级桌面无法很优雅实现的功能。 可以用 popup 和 tasklist 两个组件 实现 alt+tab 的功能 ，而i3下一般是使用rofi来实现。自己实现的会更加灵活。 窗口的rules 控制规则可以更精细，甚至可以精确到某一个应用的某一个对话框、设置框。当然i3 支持 应用默认在固定的桌面/显示器 都是支持的。 因为lua本身就是一个强大的语言，所以可以实现一个不依赖python 获取其他语言的 纯lua实现的一些小插件到awesome 同样组件组合的功能，可以实现比polybar更加丰富和美观的bar 多个菜单的组合 会更加灵活 整个桌面功能，可以只需要一个配置文件（rc.lua）不需要其他任何依赖。 缺点 基于lua的配置文件，很多平铺桌面党多数是选的i3 中文资料较少 会劝退很多人。 x11转发到本地的窗口在平铺模式下 修改窗口大小 会有一点拖影。 我的awesome配置 可能有一定的滞后性，最新的可以查看 https://github.com/joyanhui/desktop-cfg/tree/main/.config/awesome\n"><meta property='og:url' content='https://dev.leiyanhui.com/linux/light-desktop/'><meta property='og:site_name' content='小类随手记'><meta property='og:type' content='article'><meta property='article:section' content='Linux'><meta property='article:published_time' content='2023-10-18T08:14:20+08:00'><meta property='article:modified_time' content='2023-10-18T08:14:20+08:00'><meta name=twitter:title content="linux下轻量级桌面对比和选择"><meta name=twitter:description content="xfce xfce4 比较稳，开箱即用，该有的功能都有。 美化比较简单，如果不是非要用wayland的 很不错。 xfce4默认给你创建的面板2实际是一个启动器而不是dock，需要自己另外处理一下。\nkde 和gnome kde和gnome 自定义功能复杂，而且很多无法实现。 gnome多数自定义功能需要插件来，但是随着版本更新很多插件会失效。即便如此gnome的个性化和自定义功能还是非常有限，而且部分功能实现起来非常复杂。 kde自定义功能要比gnome多很多，但是很多都是面板配置，直接修改配置文件需要熟悉他的配置项，太多太复杂，没有必要浪费精神。\ndwm 和 i3 这两个我长期使用的桌面，dwm入坑，随后几个月后就转入i3 并长期使用。 dwm除了修改配置需要重新编译之外，也就只有基础的一些功能。相对来说i3的功能更加完善。 这两个桌面 性能都非常好，在低配机器上相应速度也非常流畅，在xrdp远程环境下工作也良好。\nwayfire 目前还是初级阶段，折腾并使用过一段时间，很多常规窗口管理的热键尚不支持。而且遇到几次整个桌面闪掉回退到tty的情况。 平铺模式下 很多常用热键不支持，也无法自行配置。 不过waybar确实不错。 多屏幕管理有一点问题。\nopenbox 堆叠桌面的轻量选择，需要自己简单配置一下热键和右键菜单。并配合 tin2 或者plank使用。 作为堆叠桌面，够用。作为平铺桌面使用的话非常不方便。\nawesome 目前使用的。 awesome 还是比较推荐的，他有以下几个优点\n优点 开箱即用 并且同时支持平铺和堆叠 默认配置文件和官方文档提供了丰富的实例，只要有编程基础不需要会lua语言就可以轻松个性化。 因为基于lua的配置下所以进阶使用功能比i3丰富很多 堪称牛逼。 和i3 、dwm 一样的稳定性兼容性 在低配电脑上工作良好 在xrdp和vnc模式下 同样反应速度很快 可以单独某一个屏幕使用浮动窗口 罗列几个lua配置可以实现的一些i3和其他轻量级桌面无法很优雅实现的功能。 可以用 popup 和 tasklist 两个组件 实现 alt+tab 的功能 ，而i3下一般是使用rofi来实现。自己实现的会更加灵活。 窗口的rules 控制规则可以更精细，甚至可以精确到某一个应用的某一个对话框、设置框。当然i3 支持 应用默认在固定的桌面/显示器 都是支持的。 因为lua本身就是一个强大的语言，所以可以实现一个不依赖python 获取其他语言的 纯lua实现的一些小插件到awesome 同样组件组合的功能，可以实现比polybar更加丰富和美观的bar 多个菜单的组合 会更加灵活 整个桌面功能，可以只需要一个配置文件（rc.lua）不需要其他任何依赖。 缺点 基于lua的配置文件，很多平铺桌面党多数是选的i3 中文资料较少 会劝退很多人。 x11转发到本地的窗口在平铺模式下 修改窗口大小 会有一点拖影。 我的awesome配置 可能有一定的滞后性，最新的可以查看 https://github.com/joyanhui/desktop-cfg/tree/main/.config/awesome\n"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_6049d840d4e2d14.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🐟</span></figure><div class=site-meta><h1 class=site-name><a href=/>小类随手记</a></h1><h2 class=site-description>just so so.</h2></div></header><ol class=menu-social><li><a href=https://github.com/joyanhui/dev.leiyanhui.com-src target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>列表</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>站内搜索</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>links</span></a></li><li><a href=/contact/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>contact</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#xfce>xfce</a></li><li><a href=#kde-和gnome>kde 和gnome</a></li><li><a href=#dwm-和-i3>dwm 和 i3</a></li><li><a href=#wayfire>wayfire</a></li><li><a href=#openbox>openbox</a></li><li><a href=#awesome>awesome</a><ol><li><a href=#优点>优点</a></li><li><a href=#缺点>缺点</a></li></ol></li><li><a href=#我的awesome配置>我的awesome配置</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/i3/>I3
</a><a href=/categories/openbox/>Openbox
</a><a href=/categories/wayland/>Wayland
</a><a href=/categories/wayfire/>Wayfire
</a><a href=/categories/asesome/>Asesome
</a><a href=/categories/dwm/>Dwm
</a><a href=/categories/xfce/>Xfce</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/linux/light-desktop/>linux下轻量级桌面对比和选择</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2023-10-18</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 21 分钟</time></div></footer></div></header><section class=article-content><h2 id=xfce>xfce</h2><p>xfce4 比较稳，开箱即用，该有的功能都有。 美化比较简单，如果不是非要用wayland的 很不错。
xfce4默认给你创建的面板2实际是一个启动器而不是dock，需要自己另外处理一下。</p><h2 id=kde-和gnome>kde 和gnome</h2><p>kde和gnome 自定义功能复杂，而且很多无法实现。
gnome多数自定义功能需要插件来，但是随着版本更新很多插件会失效。即便如此gnome的个性化和自定义功能还是非常有限，而且部分功能实现起来非常复杂。
kde自定义功能要比gnome多很多，但是很多都是面板配置，直接修改配置文件需要熟悉他的配置项，太多太复杂，没有必要浪费精神。</p><h2 id=dwm-和-i3>dwm 和 i3</h2><p>这两个我长期使用的桌面，dwm入坑，随后几个月后就转入i3 并长期使用。
dwm除了修改配置需要重新编译之外，也就只有基础的一些功能。相对来说i3的功能更加完善。
这两个桌面 性能都非常好，在低配机器上相应速度也非常流畅，在xrdp远程环境下工作也良好。</p><h2 id=wayfire>wayfire</h2><p>目前还是初级阶段，折腾并使用过一段时间，很多常规窗口管理的热键尚不支持。而且遇到几次整个桌面闪掉回退到tty的情况。
平铺模式下 很多常用热键不支持，也无法自行配置。 不过waybar确实不错。
多屏幕管理有一点问题。</p><h2 id=openbox>openbox</h2><p>堆叠桌面的轻量选择，需要自己简单配置一下热键和右键菜单。并配合 tin2 或者plank使用。 作为堆叠桌面，够用。作为平铺桌面使用的话非常不方便。</p><h2 id=awesome>awesome</h2><p>目前使用的。
awesome 还是比较推荐的，他有以下几个优点</p><h3 id=优点>优点</h3><ul><li>开箱即用 并且同时支持平铺和堆叠</li><li>默认配置文件和官方文档提供了丰富的实例，只要有编程基础不需要会lua语言就可以轻松个性化。</li><li>因为基于lua的配置下所以进阶使用功能比i3丰富很多 堪称牛逼。</li><li>和i3 、dwm 一样的稳定性兼容性</li><li>在低配电脑上工作良好</li><li>在xrdp和vnc模式下 同样反应速度很快</li><li>可以单独某一个屏幕使用浮动窗口
罗列几个lua配置可以实现的一些i3和其他轻量级桌面无法很优雅实现的功能。</li><li>可以用 popup 和 tasklist 两个组件 实现 alt+tab 的功能 ，而i3下一般是使用rofi来实现。自己实现的会更加灵活。</li><li>窗口的rules 控制规则可以更精细，甚至可以精确到某一个应用的某一个对话框、设置框。当然i3 支持 应用默认在固定的桌面/显示器 都是支持的。</li><li>因为lua本身就是一个强大的语言，所以可以实现一个不依赖python 获取其他语言的 纯lua实现的一些小插件到awesome</li><li>同样组件组合的功能，可以实现比polybar更加丰富和美观的bar</li><li>多个菜单的组合 会更加灵活</li><li>整个桌面功能，可以只需要一个配置文件（rc.lua）不需要其他任何依赖。</li></ul><h3 id=缺点>缺点</h3><ul><li>基于lua的配置文件，很多平铺桌面党多数是选的i3 中文资料较少 会劝退很多人。</li><li>x11转发到本地的窗口在平铺模式下 修改窗口大小 会有一点拖影。</li></ul><h2 id=我的awesome配置>我的awesome配置</h2><p>可能有一定的滞后性，最新的可以查看 <a class=link href=https://github.com/joyanhui/desktop-cfg/tree/main/.config/awesome target=_blank rel=noopener>https://github.com/joyanhui/desktop-cfg/tree/main/.config/awesome</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span><span class=lnt>186
</span><span class=lnt>187
</span><span class=lnt>188
</span><span class=lnt>189
</span><span class=lnt>190
</span><span class=lnt>191
</span><span class=lnt>192
</span><span class=lnt>193
</span><span class=lnt>194
</span><span class=lnt>195
</span><span class=lnt>196
</span><span class=lnt>197
</span><span class=lnt>198
</span><span class=lnt>199
</span><span class=lnt>200
</span><span class=lnt>201
</span><span class=lnt>202
</span><span class=lnt>203
</span><span class=lnt>204
</span><span class=lnt>205
</span><span class=lnt>206
</span><span class=lnt>207
</span><span class=lnt>208
</span><span class=lnt>209
</span><span class=lnt>210
</span><span class=lnt>211
</span><span class=lnt>212
</span><span class=lnt>213
</span><span class=lnt>214
</span><span class=lnt>215
</span><span class=lnt>216
</span><span class=lnt>217
</span><span class=lnt>218
</span><span class=lnt>219
</span><span class=lnt>220
</span><span class=lnt>221
</span><span class=lnt>222
</span><span class=lnt>223
</span><span class=lnt>224
</span><span class=lnt>225
</span><span class=lnt>226
</span><span class=lnt>227
</span><span class=lnt>228
</span><span class=lnt>229
</span><span class=lnt>230
</span><span class=lnt>231
</span><span class=lnt>232
</span><span class=lnt>233
</span><span class=lnt>234
</span><span class=lnt>235
</span><span class=lnt>236
</span><span class=lnt>237
</span><span class=lnt>238
</span><span class=lnt>239
</span><span class=lnt>240
</span><span class=lnt>241
</span><span class=lnt>242
</span><span class=lnt>243
</span><span class=lnt>244
</span><span class=lnt>245
</span><span class=lnt>246
</span><span class=lnt>247
</span><span class=lnt>248
</span><span class=lnt>249
</span><span class=lnt>250
</span><span class=lnt>251
</span><span class=lnt>252
</span><span class=lnt>253
</span><span class=lnt>254
</span><span class=lnt>255
</span><span class=lnt>256
</span><span class=lnt>257
</span><span class=lnt>258
</span><span class=lnt>259
</span><span class=lnt>260
</span><span class=lnt>261
</span><span class=lnt>262
</span><span class=lnt>263
</span><span class=lnt>264
</span><span class=lnt>265
</span><span class=lnt>266
</span><span class=lnt>267
</span><span class=lnt>268
</span><span class=lnt>269
</span><span class=lnt>270
</span><span class=lnt>271
</span><span class=lnt>272
</span><span class=lnt>273
</span><span class=lnt>274
</span><span class=lnt>275
</span><span class=lnt>276
</span><span class=lnt>277
</span><span class=lnt>278
</span><span class=lnt>279
</span><span class=lnt>280
</span><span class=lnt>281
</span><span class=lnt>282
</span><span class=lnt>283
</span><span class=lnt>284
</span><span class=lnt>285
</span><span class=lnt>286
</span><span class=lnt>287
</span><span class=lnt>288
</span><span class=lnt>289
</span><span class=lnt>290
</span><span class=lnt>291
</span><span class=lnt>292
</span><span class=lnt>293
</span><span class=lnt>294
</span><span class=lnt>295
</span><span class=lnt>296
</span><span class=lnt>297
</span><span class=lnt>298
</span><span class=lnt>299
</span><span class=lnt>300
</span><span class=lnt>301
</span><span class=lnt>302
</span><span class=lnt>303
</span><span class=lnt>304
</span><span class=lnt>305
</span><span class=lnt>306
</span><span class=lnt>307
</span><span class=lnt>308
</span><span class=lnt>309
</span><span class=lnt>310
</span><span class=lnt>311
</span><span class=lnt>312
</span><span class=lnt>313
</span><span class=lnt>314
</span><span class=lnt>315
</span><span class=lnt>316
</span><span class=lnt>317
</span><span class=lnt>318
</span><span class=lnt>319
</span><span class=lnt>320
</span><span class=lnt>321
</span><span class=lnt>322
</span><span class=lnt>323
</span><span class=lnt>324
</span><span class=lnt>325
</span><span class=lnt>326
</span><span class=lnt>327
</span><span class=lnt>328
</span><span class=lnt>329
</span><span class=lnt>330
</span><span class=lnt>331
</span><span class=lnt>332
</span><span class=lnt>333
</span><span class=lnt>334
</span><span class=lnt>335
</span><span class=lnt>336
</span><span class=lnt>337
</span><span class=lnt>338
</span><span class=lnt>339
</span><span class=lnt>340
</span><span class=lnt>341
</span><span class=lnt>342
</span><span class=lnt>343
</span><span class=lnt>344
</span><span class=lnt>345
</span><span class=lnt>346
</span><span class=lnt>347
</span><span class=lnt>348
</span><span class=lnt>349
</span><span class=lnt>350
</span><span class=lnt>351
</span><span class=lnt>352
</span><span class=lnt>353
</span><span class=lnt>354
</span><span class=lnt>355
</span><span class=lnt>356
</span><span class=lnt>357
</span><span class=lnt>358
</span><span class=lnt>359
</span><span class=lnt>360
</span><span class=lnt>361
</span><span class=lnt>362
</span><span class=lnt>363
</span><span class=lnt>364
</span><span class=lnt>365
</span><span class=lnt>366
</span><span class=lnt>367
</span><span class=lnt>368
</span><span class=lnt>369
</span><span class=lnt>370
</span><span class=lnt>371
</span><span class=lnt>372
</span><span class=lnt>373
</span><span class=lnt>374
</span><span class=lnt>375
</span><span class=lnt>376
</span><span class=lnt>377
</span><span class=lnt>378
</span><span class=lnt>379
</span><span class=lnt>380
</span><span class=lnt>381
</span><span class=lnt>382
</span><span class=lnt>383
</span><span class=lnt>384
</span><span class=lnt>385
</span><span class=lnt>386
</span><span class=lnt>387
</span><span class=lnt>388
</span><span class=lnt>389
</span><span class=lnt>390
</span><span class=lnt>391
</span><span class=lnt>392
</span><span class=lnt>393
</span><span class=lnt>394
</span><span class=lnt>395
</span><span class=lnt>396
</span><span class=lnt>397
</span><span class=lnt>398
</span><span class=lnt>399
</span><span class=lnt>400
</span><span class=lnt>401
</span><span class=lnt>402
</span><span class=lnt>403
</span><span class=lnt>404
</span><span class=lnt>405
</span><span class=lnt>406
</span><span class=lnt>407
</span><span class=lnt>408
</span><span class=lnt>409
</span><span class=lnt>410
</span><span class=lnt>411
</span><span class=lnt>412
</span><span class=lnt>413
</span><span class=lnt>414
</span><span class=lnt>415
</span><span class=lnt>416
</span><span class=lnt>417
</span><span class=lnt>418
</span><span class=lnt>419
</span><span class=lnt>420
</span><span class=lnt>421
</span><span class=lnt>422
</span><span class=lnt>423
</span><span class=lnt>424
</span><span class=lnt>425
</span><span class=lnt>426
</span><span class=lnt>427
</span><span class=lnt>428
</span><span class=lnt>429
</span><span class=lnt>430
</span><span class=lnt>431
</span><span class=lnt>432
</span><span class=lnt>433
</span><span class=lnt>434
</span><span class=lnt>435
</span><span class=lnt>436
</span><span class=lnt>437
</span><span class=lnt>438
</span><span class=lnt>439
</span><span class=lnt>440
</span><span class=lnt>441
</span><span class=lnt>442
</span><span class=lnt>443
</span><span class=lnt>444
</span><span class=lnt>445
</span><span class=lnt>446
</span><span class=lnt>447
</span><span class=lnt>448
</span><span class=lnt>449
</span><span class=lnt>450
</span><span class=lnt>451
</span><span class=lnt>452
</span><span class=lnt>453
</span><span class=lnt>454
</span><span class=lnt>455
</span><span class=lnt>456
</span><span class=lnt>457
</span><span class=lnt>458
</span><span class=lnt>459
</span><span class=lnt>460
</span><span class=lnt>461
</span><span class=lnt>462
</span><span class=lnt>463
</span><span class=lnt>464
</span><span class=lnt>465
</span><span class=lnt>466
</span><span class=lnt>467
</span><span class=lnt>468
</span><span class=lnt>469
</span><span class=lnt>470
</span><span class=lnt>471
</span><span class=lnt>472
</span><span class=lnt>473
</span><span class=lnt>474
</span><span class=lnt>475
</span><span class=lnt>476
</span><span class=lnt>477
</span><span class=lnt>478
</span><span class=lnt>479
</span><span class=lnt>480
</span><span class=lnt>481
</span><span class=lnt>482
</span><span class=lnt>483
</span><span class=lnt>484
</span><span class=lnt>485
</span><span class=lnt>486
</span><span class=lnt>487
</span><span class=lnt>488
</span><span class=lnt>489
</span><span class=lnt>490
</span><span class=lnt>491
</span><span class=lnt>492
</span><span class=lnt>493
</span><span class=lnt>494
</span><span class=lnt>495
</span><span class=lnt>496
</span><span class=lnt>497
</span><span class=lnt>498
</span><span class=lnt>499
</span><span class=lnt>500
</span><span class=lnt>501
</span><span class=lnt>502
</span><span class=lnt>503
</span><span class=lnt>504
</span><span class=lnt>505
</span><span class=lnt>506
</span><span class=lnt>507
</span><span class=lnt>508
</span><span class=lnt>509
</span><span class=lnt>510
</span><span class=lnt>511
</span><span class=lnt>512
</span><span class=lnt>513
</span><span class=lnt>514
</span><span class=lnt>515
</span><span class=lnt>516
</span><span class=lnt>517
</span><span class=lnt>518
</span><span class=lnt>519
</span><span class=lnt>520
</span><span class=lnt>521
</span><span class=lnt>522
</span><span class=lnt>523
</span><span class=lnt>524
</span><span class=lnt>525
</span><span class=lnt>526
</span><span class=lnt>527
</span><span class=lnt>528
</span><span class=lnt>529
</span><span class=lnt>530
</span><span class=lnt>531
</span><span class=lnt>532
</span><span class=lnt>533
</span><span class=lnt>534
</span><span class=lnt>535
</span><span class=lnt>536
</span><span class=lnt>537
</span><span class=lnt>538
</span><span class=lnt>539
</span><span class=lnt>540
</span><span class=lnt>541
</span><span class=lnt>542
</span><span class=lnt>543
</span><span class=lnt>544
</span><span class=lnt>545
</span><span class=lnt>546
</span><span class=lnt>547
</span><span class=lnt>548
</span><span class=lnt>549
</span><span class=lnt>550
</span><span class=lnt>551
</span><span class=lnt>552
</span><span class=lnt>553
</span><span class=lnt>554
</span><span class=lnt>555
</span><span class=lnt>556
</span><span class=lnt>557
</span><span class=lnt>558
</span><span class=lnt>559
</span><span class=lnt>560
</span><span class=lnt>561
</span><span class=lnt>562
</span><span class=lnt>563
</span><span class=lnt>564
</span><span class=lnt>565
</span><span class=lnt>566
</span><span class=lnt>567
</span><span class=lnt>568
</span><span class=lnt>569
</span><span class=lnt>570
</span><span class=lnt>571
</span><span class=lnt>572
</span><span class=lnt>573
</span><span class=lnt>574
</span><span class=lnt>575
</span><span class=lnt>576
</span><span class=lnt>577
</span><span class=lnt>578
</span><span class=lnt>579
</span><span class=lnt>580
</span><span class=lnt>581
</span><span class=lnt>582
</span><span class=lnt>583
</span><span class=lnt>584
</span><span class=lnt>585
</span><span class=lnt>586
</span><span class=lnt>587
</span><span class=lnt>588
</span><span class=lnt>589
</span><span class=lnt>590
</span><span class=lnt>591
</span><span class=lnt>592
</span><span class=lnt>593
</span><span class=lnt>594
</span><span class=lnt>595
</span><span class=lnt>596
</span><span class=lnt>597
</span><span class=lnt>598
</span><span class=lnt>599
</span><span class=lnt>600
</span><span class=lnt>601
</span><span class=lnt>602
</span><span class=lnt>603
</span><span class=lnt>604
</span><span class=lnt>605
</span><span class=lnt>606
</span><span class=lnt>607
</span><span class=lnt>608
</span><span class=lnt>609
</span><span class=lnt>610
</span><span class=lnt>611
</span><span class=lnt>612
</span><span class=lnt>613
</span><span class=lnt>614
</span><span class=lnt>615
</span><span class=lnt>616
</span><span class=lnt>617
</span><span class=lnt>618
</span><span class=lnt>619
</span><span class=lnt>620
</span><span class=lnt>621
</span><span class=lnt>622
</span><span class=lnt>623
</span><span class=lnt>624
</span><span class=lnt>625
</span><span class=lnt>626
</span><span class=lnt>627
</span><span class=lnt>628
</span><span class=lnt>629
</span><span class=lnt>630
</span><span class=lnt>631
</span><span class=lnt>632
</span><span class=lnt>633
</span><span class=lnt>634
</span><span class=lnt>635
</span><span class=lnt>636
</span><span class=lnt>637
</span><span class=lnt>638
</span><span class=lnt>639
</span><span class=lnt>640
</span><span class=lnt>641
</span><span class=lnt>642
</span><span class=lnt>643
</span><span class=lnt>644
</span><span class=lnt>645
</span><span class=lnt>646
</span><span class=lnt>647
</span><span class=lnt>648
</span><span class=lnt>649
</span><span class=lnt>650
</span><span class=lnt>651
</span><span class=lnt>652
</span><span class=lnt>653
</span><span class=lnt>654
</span><span class=lnt>655
</span><span class=lnt>656
</span><span class=lnt>657
</span><span class=lnt>658
</span><span class=lnt>659
</span><span class=lnt>660
</span><span class=lnt>661
</span><span class=lnt>662
</span><span class=lnt>663
</span><span class=lnt>664
</span><span class=lnt>665
</span><span class=lnt>666
</span><span class=lnt>667
</span><span class=lnt>668
</span><span class=lnt>669
</span><span class=lnt>670
</span><span class=lnt>671
</span><span class=lnt>672
</span><span class=lnt>673
</span><span class=lnt>674
</span><span class=lnt>675
</span><span class=lnt>676
</span><span class=lnt>677
</span><span class=lnt>678
</span><span class=lnt>679
</span><span class=lnt>680
</span><span class=lnt>681
</span><span class=lnt>682
</span><span class=lnt>683
</span><span class=lnt>684
</span><span class=lnt>685
</span><span class=lnt>686
</span><span class=lnt>687
</span><span class=lnt>688
</span><span class=lnt>689
</span><span class=lnt>690
</span><span class=lnt>691
</span><span class=lnt>692
</span><span class=lnt>693
</span><span class=lnt>694
</span><span class=lnt>695
</span><span class=lnt>696
</span><span class=lnt>697
</span><span class=lnt>698
</span><span class=lnt>699
</span><span class=lnt>700
</span><span class=lnt>701
</span><span class=lnt>702
</span><span class=lnt>703
</span><span class=lnt>704
</span><span class=lnt>705
</span><span class=lnt>706
</span><span class=lnt>707
</span><span class=lnt>708
</span><span class=lnt>709
</span><span class=lnt>710
</span><span class=lnt>711
</span><span class=lnt>712
</span><span class=lnt>713
</span><span class=lnt>714
</span><span class=lnt>715
</span><span class=lnt>716
</span><span class=lnt>717
</span><span class=lnt>718
</span><span class=lnt>719
</span><span class=lnt>720
</span><span class=lnt>721
</span><span class=lnt>722
</span><span class=lnt>723
</span><span class=lnt>724
</span><span class=lnt>725
</span><span class=lnt>726
</span><span class=lnt>727
</span><span class=lnt>728
</span><span class=lnt>729
</span><span class=lnt>730
</span><span class=lnt>731
</span><span class=lnt>732
</span><span class=lnt>733
</span><span class=lnt>734
</span><span class=lnt>735
</span><span class=lnt>736
</span><span class=lnt>737
</span><span class=lnt>738
</span><span class=lnt>739
</span><span class=lnt>740
</span><span class=lnt>741
</span><span class=lnt>742
</span><span class=lnt>743
</span><span class=lnt>744
</span><span class=lnt>745
</span><span class=lnt>746
</span><span class=lnt>747
</span><span class=lnt>748
</span><span class=lnt>749
</span><span class=lnt>750
</span><span class=lnt>751
</span><span class=lnt>752
</span><span class=lnt>753
</span><span class=lnt>754
</span><span class=lnt>755
</span><span class=lnt>756
</span><span class=lnt>757
</span><span class=lnt>758
</span><span class=lnt>759
</span><span class=lnt>760
</span><span class=lnt>761
</span><span class=lnt>762
</span><span class=lnt>763
</span><span class=lnt>764
</span><span class=lnt>765
</span><span class=lnt>766
</span><span class=lnt>767
</span><span class=lnt>768
</span><span class=lnt>769
</span><span class=lnt>770
</span><span class=lnt>771
</span><span class=lnt>772
</span><span class=lnt>773
</span><span class=lnt>774
</span><span class=lnt>775
</span><span class=lnt>776
</span><span class=lnt>777
</span><span class=lnt>778
</span><span class=lnt>779
</span><span class=lnt>780
</span><span class=lnt>781
</span><span class=lnt>782
</span><span class=lnt>783
</span><span class=lnt>784
</span><span class=lnt>785
</span><span class=lnt>786
</span><span class=lnt>787
</span><span class=lnt>788
</span><span class=lnt>789
</span><span class=lnt>790
</span><span class=lnt>791
</span><span class=lnt>792
</span><span class=lnt>793
</span><span class=lnt>794
</span><span class=lnt>795
</span><span class=lnt>796
</span><span class=lnt>797
</span><span class=lnt>798
</span><span class=lnt>799
</span><span class=lnt>800
</span><span class=lnt>801
</span><span class=lnt>802
</span><span class=lnt>803
</span><span class=lnt>804
</span><span class=lnt>805
</span><span class=lnt>806
</span><span class=lnt>807
</span><span class=lnt>808
</span><span class=lnt>809
</span><span class=lnt>810
</span><span class=lnt>811
</span><span class=lnt>812
</span><span class=lnt>813
</span><span class=lnt>814
</span><span class=lnt>815
</span><span class=lnt>816
</span><span class=lnt>817
</span><span class=lnt>818
</span><span class=lnt>819
</span><span class=lnt>820
</span><span class=lnt>821
</span><span class=lnt>822
</span><span class=lnt>823
</span><span class=lnt>824
</span><span class=lnt>825
</span><span class=lnt>826
</span><span class=lnt>827
</span><span class=lnt>828
</span><span class=lnt>829
</span><span class=lnt>830
</span><span class=lnt>831
</span><span class=lnt>832
</span><span class=lnt>833
</span><span class=lnt>834
</span><span class=lnt>835
</span><span class=lnt>836
</span><span class=lnt>837
</span><span class=lnt>838
</span><span class=lnt>839
</span><span class=lnt>840
</span><span class=lnt>841
</span><span class=lnt>842
</span><span class=lnt>843
</span><span class=lnt>844
</span><span class=lnt>845
</span><span class=lnt>846
</span><span class=lnt>847
</span><span class=lnt>848
</span><span class=lnt>849
</span><span class=lnt>850
</span><span class=lnt>851
</span><span class=lnt>852
</span><span class=lnt>853
</span><span class=lnt>854
</span><span class=lnt>855
</span><span class=lnt>856
</span><span class=lnt>857
</span><span class=lnt>858
</span><span class=lnt>859
</span><span class=lnt>860
</span><span class=lnt>861
</span><span class=lnt>862
</span><span class=lnt>863
</span><span class=lnt>864
</span><span class=lnt>865
</span><span class=lnt>866
</span><span class=lnt>867
</span><span class=lnt>868
</span><span class=lnt>869
</span><span class=lnt>870
</span><span class=lnt>871
</span><span class=lnt>872
</span><span class=lnt>873
</span><span class=lnt>874
</span><span class=lnt>875
</span><span class=lnt>876
</span><span class=lnt>877
</span><span class=lnt>878
</span><span class=lnt>879
</span><span class=lnt>880
</span><span class=lnt>881
</span><span class=lnt>882
</span><span class=lnt>883
</span><span class=lnt>884
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=c1>-- If LuaRocks is installed, make sure that packages installed through it are</span>
</span></span><span class=line><span class=cl><span class=c1>-- found (e.g. lgi). If LuaRocks is not installed, do nothing.</span>
</span></span><span class=line><span class=cl><span class=n>pcall</span><span class=p>(</span><span class=n>require</span><span class=p>,</span> <span class=s2>&#34;luarocks.loader&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- Standard awesome library</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>gears</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s2>&#34;gears&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>awful</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s2>&#34;awful&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>require</span><span class=p>(</span><span class=s2>&#34;awful.autofocus&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>-- Widget and layout library</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>wibox</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s2>&#34;wibox&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>-- Theme handling library</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>beautiful</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s2>&#34;beautiful&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>-- Notification library</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>naughty</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s2>&#34;naughty&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>menubar</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s2>&#34;menubar&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>hotkeys_popup</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s2>&#34;awful.hotkeys_popup&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>-- Enable hotkeys help widget for VIM and other apps</span>
</span></span><span class=line><span class=cl><span class=c1>-- when client with a matching name is opened:</span>
</span></span><span class=line><span class=cl><span class=n>require</span><span class=p>(</span><span class=s2>&#34;awful.hotkeys_popup.keys&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- Load Debian menu entries</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>debian</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s2>&#34;debian.menu&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>has_fdo</span><span class=p>,</span> <span class=n>freedesktop</span> <span class=o>=</span> <span class=n>pcall</span><span class=p>(</span><span class=n>require</span><span class=p>,</span> <span class=s2>&#34;freedesktop&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- 跟随启动</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=kr>function</span> <span class=nf>run_once</span><span class=p>(</span><span class=n>cmd_arr</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kr>for</span> <span class=n>_</span><span class=p>,</span> <span class=n>cmd</span> <span class=kr>in</span> <span class=n>ipairs</span><span class=p>(</span><span class=n>cmd_arr</span><span class=p>)</span> <span class=kr>do</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.spawn</span><span class=p>.</span><span class=n>with_shell</span><span class=p>(</span><span class=n>string.format</span><span class=p>(</span><span class=s2>&#34;pgrep -u $USER -fx &#39;%s&#39; &gt; /dev/null || (%s)&#34;</span><span class=p>,</span> <span class=n>cmd</span><span class=p>,</span> <span class=n>cmd</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=cl><span class=c1>-- 部分 透明</span>
</span></span><span class=line><span class=cl><span class=n>run_once</span><span class=p>({</span><span class=s2>&#34;compton&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=c1>--  网络</span>
</span></span><span class=line><span class=cl><span class=n>run_once</span><span class=p>({</span><span class=s2>&#34;nm-tray&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=c1>--  plank 如果在左右侧面 会遮挡 bar部分区域导致无法点击，cairo-dock也有这个问题</span>
</span></span><span class=line><span class=cl><span class=c1>--run_once({ &#34;plank&#34; })</span>
</span></span><span class=line><span class=cl><span class=c1>-- tint2 没意义，不如配置一下 awful.widget.tasklist</span>
</span></span><span class=line><span class=cl><span class=c1>--run_once({&#34;tint2&#34;})</span>
</span></span><span class=line><span class=cl><span class=c1>-- 随机壁纸</span>
</span></span><span class=line><span class=cl><span class=n>run_once</span><span class=p>({</span><span class=s2>&#34;/usr/bin/feh --randomize --bg-fill ~/bg/* &#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>--awful.spawn.with_shell(&#34;&#34;)</span>
</span></span><span class=line><span class=cl><span class=c1>--awful.spawn.with_shell(&#34;sh .config/polybar/polybar_run.sh&#34;)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- {{{ Error handling</span>
</span></span><span class=line><span class=cl><span class=c1>-- Check if awesome encountered an error during startup and fell back to</span>
</span></span><span class=line><span class=cl><span class=c1>-- another config (This code will only ever execute for the fallback config)</span>
</span></span><span class=line><span class=cl><span class=kr>if</span> <span class=n>awesome.startup_errors</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>    <span class=n>naughty.notify</span><span class=p>({</span><span class=n>preset</span> <span class=o>=</span> <span class=n>naughty.config</span><span class=p>.</span><span class=n>presets.critical</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>title</span> <span class=o>=</span> <span class=s2>&#34;Oops, there were errors during startup!&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>text</span> <span class=o>=</span> <span class=n>awesome.startup_errors</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- Handle runtime errors after startup</span>
</span></span><span class=line><span class=cl><span class=kr>do</span>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=n>in_error</span> <span class=o>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=n>awesome.connect_signal</span><span class=p>(</span><span class=s2>&#34;debug::error&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>(</span><span class=n>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- Make sure we don&#39;t go into an endless error loop</span>
</span></span><span class=line><span class=cl>        <span class=kr>if</span> <span class=n>in_error</span> <span class=kr>then</span> <span class=kr>return</span> <span class=kr>end</span>
</span></span><span class=line><span class=cl>        <span class=n>in_error</span> <span class=o>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>naughty.notify</span><span class=p>({</span><span class=n>preset</span> <span class=o>=</span> <span class=n>naughty.config</span><span class=p>.</span><span class=n>presets.critical</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>title</span> <span class=o>=</span> <span class=s2>&#34;Oops, an error happened!&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>text</span> <span class=o>=</span> <span class=n>tostring</span><span class=p>(</span><span class=n>err</span><span class=p>)})</span>
</span></span><span class=line><span class=cl>        <span class=n>in_error</span> <span class=o>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=cl><span class=c1>-- }}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- {{{ Variable definitions</span>
</span></span><span class=line><span class=cl><span class=c1>-- Themes define colours, icons, font and wallpapers. 壁纸 和主题等</span>
</span></span><span class=line><span class=cl><span class=c1>-- ls /usr/share/awesome/themes  default  gtk  sky  xresources  zenburn</span>
</span></span><span class=line><span class=cl><span class=c1>-- beautiful.init(gears.filesystem.get_themes_dir() .. &#34;default/theme.lua&#34;)</span>
</span></span><span class=line><span class=cl><span class=n>beautiful.init</span><span class=p>(</span><span class=n>string.format</span><span class=p>(</span><span class=s2>&#34;%s/.config/awesome/themes/my-zenburn/theme.lua&#34;</span><span class=p>,</span> <span class=n>os.getenv</span><span class=p>(</span><span class=s2>&#34;HOME&#34;</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- This is used later as the default terminal and editor to run.</span>
</span></span><span class=line><span class=cl><span class=n>terminal</span> <span class=o>=</span> <span class=s2>&#34;x-terminal-emulator&#34;</span>
</span></span><span class=line><span class=cl><span class=n>editor</span> <span class=o>=</span> <span class=n>os.getenv</span><span class=p>(</span><span class=s2>&#34;EDITOR&#34;</span><span class=p>)</span> <span class=ow>or</span> <span class=s2>&#34;editor&#34;</span>
</span></span><span class=line><span class=cl><span class=n>editor_cmd</span> <span class=o>=</span> <span class=n>terminal</span> <span class=o>..</span> <span class=s2>&#34; -e &#34;</span> <span class=o>..</span> <span class=n>editor</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- Default modkey.</span>
</span></span><span class=line><span class=cl><span class=c1>-- Usually, Mod4 is the key with a logo between Control and Alt.</span>
</span></span><span class=line><span class=cl><span class=c1>-- If you do not like this or do not have such a key,</span>
</span></span><span class=line><span class=cl><span class=c1>-- I suggest you to remap Mod4 to another key using xmodmap or other tools.</span>
</span></span><span class=line><span class=cl><span class=c1>-- However, you can use another modifier like Mod1, but it may interact with others.</span>
</span></span><span class=line><span class=cl><span class=n>modkey</span> <span class=o>=</span> <span class=s2>&#34;Mod4&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>--  可用布局</span>
</span></span><span class=line><span class=cl><span class=n>awful.layout</span><span class=p>.</span><span class=n>layouts</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>awful.layout</span><span class=p>.</span><span class=n>suit.tile</span><span class=p>,</span> <span class=c1>--  布局类似： 左右 口三</span>
</span></span><span class=line><span class=cl>    <span class=n>awful.layout</span><span class=p>.</span><span class=n>suit.floating</span><span class=p>,</span> <span class=c1>--浮动</span>
</span></span><span class=line><span class=cl>    <span class=n>awful.layout</span><span class=p>.</span><span class=n>suit.corner</span><span class=p>.</span><span class=n>nw</span><span class=p>,</span> <span class=c1>-- 主窗 的 右侧和下部 环绕小窗</span>
</span></span><span class=line><span class=cl>    <span class=n>awful.layout</span><span class=p>.</span><span class=n>suit.magnifier</span><span class=p>,</span> <span class=c1>-- 主窗口 固定在屏幕中央 其他窗口 横向平铺到背景</span>
</span></span><span class=line><span class=cl>    <span class=cm>--[[
</span></span></span><span class=line><span class=cl><span class=cm>    awful.layout.suit.tile.left,  -- 左右 三口
</span></span></span><span class=line><span class=cl><span class=cm>    awful.layout.suit.spiral,-- 复杂布局 左侧大 右上 1/4 右下 N口 
</span></span></span><span class=line><span class=cl><span class=cm>    awful.layout.suit.spiral.dwindle, -- 复杂布局 左侧大 右上 1/4 右下 口N 
</span></span></span><span class=line><span class=cl><span class=cm>    awful.layout.suit.tile.bottom,  -- 上下 口 三
</span></span></span><span class=line><span class=cl><span class=cm>    awful.layout.suit.tile.top,  -- 上下 三口
</span></span></span><span class=line><span class=cl><span class=cm>    awful.layout.suit.fair,   -- 左右 三二 布局
</span></span></span><span class=line><span class=cl><span class=cm>    awful.layout.suit.fair.horizontal, --上下 三二 布局
</span></span></span><span class=line><span class=cl><span class=cm>    awful.layout.suit.max,
</span></span></span><span class=line><span class=cl><span class=cm>    awful.layout.suit.max.fullscreen, -- 活动窗口全屏
</span></span></span><span class=line><span class=cl><span class=cm>    awful.layout.suit.corner.ne, - 主窗 的 左侧侧和下部 环绕小窗
</span></span></span><span class=line><span class=cl><span class=cm>    awful.layout.suit.corner.sw, -- 主窗 的 右侧和顶部 环绕小窗
</span></span></span><span class=line><span class=cl><span class=cm>    awful.layout.suit.corner.se, - 主窗 的 左侧侧和上部 环绕小窗
</span></span></span><span class=line><span class=cl><span class=cm>    --]]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>-- }}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- {{{ Menu</span>
</span></span><span class=line><span class=cl><span class=c1>-- Create a launcher widget and a main menu</span>
</span></span><span class=line><span class=cl><span class=n>myawesomemenu</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;查看热键&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>hotkeys_popup.show_help</span><span class=p>(</span><span class=kc>nil</span><span class=p>,</span> <span class=n>awful.screen</span><span class=p>.</span><span class=n>focused</span><span class=p>())</span> <span class=kr>end</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;查看手册&#34;</span><span class=p>,</span> <span class=n>terminal</span> <span class=o>..</span> <span class=s2>&#34; -e man awesome&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=c1>-- { &#34;随即壁纸&#34;, awful.spawn.with_shell(&#34;/usr/bin/feh --randomize --bg-fill ~/bg/&#34;)},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;随机壁纸&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>awful.spawn</span><span class=p>.</span><span class=n>with_shell</span><span class=p>(</span><span class=s2>&#34;/usr/bin/feh --randomize --bg-fill ~/bg/*&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;编辑配置&#34;</span><span class=p>,</span> <span class=n>editor_cmd</span> <span class=o>..</span> <span class=s2>&#34; &#34;</span> <span class=o>..</span> <span class=n>awesome.conffile</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;重启as&#34;</span><span class=p>,</span> <span class=n>awesome.restart</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;退出桌面&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>awesome.quit</span><span class=p>()</span> <span class=kr>end</span><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>menu_awesome</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;awesome&#34;</span><span class=p>,</span> <span class=n>myawesomemenu</span><span class=p>,</span> <span class=n>beautiful.awesome_icon</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>menu_terminal</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;open terminal&#34;</span><span class=p>,</span> <span class=n>terminal</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>menu_alacritty</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;打开 alacritty&#34;</span><span class=p>,</span> <span class=s2>&#34;alacritty&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>menu_exitmenu</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;exit menu(Esc)&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>if</span> <span class=n>has_fdo</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>    <span class=n>mymainmenu</span> <span class=o>=</span> <span class=n>freedesktop.menu</span><span class=p>.</span><span class=n>build</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=n>before</span> <span class=o>=</span> <span class=p>{</span><span class=n>menu_awesome</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=n>after</span> <span class=o>=</span> <span class=p>{</span><span class=n>menu_terminal</span><span class=p>,</span> <span class=n>menu_alacritty</span><span class=p>,</span> <span class=n>menu_exitmenu</span><span class=p>}})</span>
</span></span><span class=line><span class=cl><span class=kr>else</span>
</span></span><span class=line><span class=cl>    <span class=n>mymainmenu</span> <span class=o>=</span> <span class=n>awful.menu</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=n>items</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>menu_awesome</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=s2>&#34;Debian&#34;</span><span class=p>,</span> <span class=n>debian.menu</span><span class=p>.</span><span class=n>Debian_menu.Debian</span><span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=n>menu_terminal</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>menu_alacritty</span><span class=p>,</span> <span class=n>menu_exitmenu</span>
</span></span><span class=line><span class=cl>        <span class=p>}})</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>mylauncher</span> <span class=o>=</span> <span class=n>awful.widget</span><span class=p>.</span><span class=n>launcher</span><span class=p>({</span><span class=n>image</span> <span class=o>=</span> <span class=n>beautiful.awesome_icon</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>menu</span> <span class=o>=</span> <span class=n>mymainmenu</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>-- Menubar configuration</span>
</span></span><span class=line><span class=cl>    <span class=n>menubar.utils</span><span class=p>.</span><span class=n>terminal</span> <span class=o>=</span> <span class=n>terminal</span> <span class=c1>-- Set the terminal for applications that require it</span>
</span></span><span class=line><span class=cl>    <span class=c1>-- }}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>-- Keyboard map indicator and switcher</span>
</span></span><span class=line><span class=cl>    <span class=n>mykeyboardlayout</span> <span class=o>=</span> <span class=n>awful.widget</span><span class=p>.</span><span class=n>keyboardlayout</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>-- {{{ Wibar</span>
</span></span><span class=line><span class=cl>    <span class=c1>-- Create a textclock widget</span>
</span></span><span class=line><span class=cl>    <span class=c1>--mytextclock = wibox.widget.textclock()</span>
</span></span><span class=line><span class=cl>    <span class=n>mytextclock</span> <span class=o>=</span> <span class=n>wibox.widget</span><span class=p>.</span><span class=n>textclock</span><span class=p>(</span><span class=s1>&#39;%H:%M&#39;</span><span class=p>)</span> <span class=c1>-- 只要时间 不要日期</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>-- Create a wibox for each screen and add it</span>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=n>taglist_buttons</span> <span class=o>=</span> <span class=n>gears.table</span><span class=p>.</span><span class=n>join</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>1</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>t</span><span class=p>)</span> <span class=n>t</span><span class=p>:</span><span class=n>view_only</span><span class=p>()</span> <span class=kr>end</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.button</span><span class=p>({</span><span class=n>modkey</span><span class=p>},</span> <span class=mi>1</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=kr>if</span> <span class=n>client.focus</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                <span class=n>client.focus</span><span class=p>:</span><span class=n>move_to_tag</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span>
</span></span><span class=line><span class=cl>        <span class=kr>end</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>3</span><span class=p>,</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>viewtoggle</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.button</span><span class=p>({</span><span class=n>modkey</span><span class=p>},</span> <span class=mi>3</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=kr>if</span> <span class=n>client.focus</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                <span class=n>client.focus</span><span class=p>:</span><span class=n>toggle_tag</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span>
</span></span><span class=line><span class=cl>        <span class=kr>end</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>4</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>t</span><span class=p>)</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>viewnext</span><span class=p>(</span><span class=n>t.screen</span><span class=p>)</span> <span class=kr>end</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>5</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>t</span><span class=p>)</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>viewprev</span><span class=p>(</span><span class=n>t.screen</span><span class=p>)</span> <span class=kr>end</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=kr>function</span> <span class=nf>set_wallpaper</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- Wallpaper</span>
</span></span><span class=line><span class=cl>        <span class=kr>if</span> <span class=n>beautiful.wallpaper</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>            <span class=kd>local</span> <span class=n>wallpaper</span> <span class=o>=</span> <span class=n>beautiful.wallpaper</span>
</span></span><span class=line><span class=cl>            <span class=c1>-- If wallpaper is a function, call it with the screen</span>
</span></span><span class=line><span class=cl>            <span class=kr>if</span> <span class=n>type</span><span class=p>(</span><span class=n>wallpaper</span><span class=p>)</span> <span class=o>==</span> <span class=s2>&#34;function&#34;</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                <span class=n>wallpaper</span> <span class=o>=</span> <span class=n>wallpaper</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span>
</span></span><span class=line><span class=cl>            <span class=n>gears.wallpaper</span><span class=p>.</span><span class=n>maximized</span><span class=p>(</span><span class=n>wallpaper</span><span class=p>,</span> <span class=n>s</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=kr>end</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>-- Re-set wallpaper when a screen&#39;s geometry changes (e.g. different resolution)</span>
</span></span><span class=line><span class=cl>    <span class=n>screen.connect_signal</span><span class=p>(</span><span class=s2>&#34;property::geometry&#34;</span><span class=p>,</span> <span class=n>set_wallpaper</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>awful.screen</span><span class=p>.</span><span class=n>connect_for_each_screen</span><span class=p>(</span><span class=kr>function</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- Wallpaper</span>
</span></span><span class=line><span class=cl>        <span class=n>set_wallpaper</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- Each screen has its own tag table.</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.tag</span><span class=p>({</span><span class=s2>&#34;1&#34;</span><span class=p>,</span> <span class=s2>&#34;2&#34;</span><span class=p>,</span> <span class=s2>&#34;3&#34;</span><span class=p>,</span> <span class=s2>&#34;4&#34;</span><span class=p>,</span> <span class=s2>&#34;5&#34;</span><span class=p>,</span> <span class=s2>&#34;6&#34;</span><span class=p>,</span> <span class=s2>&#34;7&#34;</span><span class=p>,</span> <span class=s2>&#34;8&#34;</span><span class=p>,</span> <span class=s2>&#34;9&#34;</span><span class=p>},</span> <span class=n>s</span><span class=p>,</span> <span class=n>awful.layout</span><span class=p>.</span><span class=n>layouts</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- Create a promptbox for each screen</span>
</span></span><span class=line><span class=cl>        <span class=n>s.mypromptbox</span> <span class=o>=</span> <span class=n>awful.widget</span><span class=p>.</span><span class=n>prompt</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- Create an imagebox widget which will contain an icon indicating which layout we&#39;re using.</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- We need one layoutbox per screen.</span>
</span></span><span class=line><span class=cl>        <span class=n>s.mylayoutbox</span> <span class=o>=</span> <span class=n>awful.widget</span><span class=p>.</span><span class=n>layoutbox</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>s.mylayoutbox</span><span class=p>:</span><span class=n>buttons</span><span class=p>(</span><span class=n>gears.table</span><span class=p>.</span><span class=n>join</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>1</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.layout</span><span class=p>.</span><span class=n>inc</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=kr>end</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>3</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.layout</span><span class=p>.</span><span class=n>inc</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=kr>end</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>4</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.layout</span><span class=p>.</span><span class=n>inc</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=kr>end</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>5</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.layout</span><span class=p>.</span><span class=n>inc</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=kr>end</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>        <span class=n>s.mylayoutbox</span><span class=p>.</span><span class=n>forced_height</span> <span class=o>=</span> <span class=mi>18</span>
</span></span><span class=line><span class=cl>        <span class=n>s.mylayoutbox</span><span class=p>.</span><span class=n>forced_width</span> <span class=o>=</span> <span class=mi>18</span>
</span></span><span class=line><span class=cl>        <span class=n>s.mylayoutbox</span><span class=p>.</span><span class=n>opacity</span> <span class=o>=</span> <span class=mf>0.5</span>
</span></span><span class=line><span class=cl>        <span class=kd>local</span> <span class=n>mylayoutbox</span> <span class=o>=</span> <span class=n>wibox.container</span><span class=p>.</span><span class=n>margin</span><span class=p>(</span><span class=n>s.mylayoutbox</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=c1>-- 设置容器的边距</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- Create a taglist widget</span>
</span></span><span class=line><span class=cl>        <span class=n>s.mytaglist</span> <span class=o>=</span> <span class=n>awful.widget</span><span class=p>.</span><span class=n>taglist</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>screen</span> <span class=o>=</span> <span class=n>s</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>filter</span> <span class=o>=</span> <span class=n>awful.widget</span><span class=p>.</span><span class=n>taglist.filter</span><span class=p>.</span><span class=n>all</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>buttons</span> <span class=o>=</span> <span class=n>taglist_buttons</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=cm>--[[ 
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>    local tasklist_buttons = gears.table.join(
</span></span></span><span class=line><span class=cl><span class=cm>        awful.button({}, 1, function (c)
</span></span></span><span class=line><span class=cl><span class=cm>            -- 左键 默认是  如果是焦点那么最小化 否则切换为焦点
</span></span></span><span class=line><span class=cl><span class=cm>            --if c == client.focus then  -- 如果是焦点那么最小化 
</span></span></span><span class=line><span class=cl><span class=cm>            --    c.minimized = true
</span></span></span><span class=line><span class=cl><span class=cm>            --else
</span></span></span><span class=line><span class=cl><span class=cm>            --    c:emit_signal(&#34;request::activate&#34;, &#34;tasklist&#34;, {raise = true})  -- 否则切换为焦点
</span></span></span><span class=line><span class=cl><span class=cm>            --end
</span></span></span><span class=line><span class=cl><span class=cm>            -- 左键修改为 就替换到对应tag  因为主要用平铺
</span></span></span><span class=line><span class=cl><span class=cm>            c.minimized = false -- 取消最小化
</span></span></span><span class=line><span class=cl><span class=cm>            awful.tag.viewonly(c.first_tag) --切换到窗口所在屏幕
</span></span></span><span class=line><span class=cl><span class=cm>            -- 取消其他窗口的 activate {{
</span></span></span><span class=line><span class=cl><span class=cm>            local current_screen = awful.screen.focused()
</span></span></span><span class=line><span class=cl><span class=cm>            for _, cl in ipairs(current_screen.clients) do
</span></span></span><span class=line><span class=cl><span class=cm>                if cl ~= c and not cl.minimized then
</span></span></span><span class=line><span class=cl><span class=cm>                    cl:emit_signal(&#34;request::activate&#34;, &#34;tasklist&#34;, {raise = false})
</span></span></span><span class=line><span class=cl><span class=cm>                end
</span></span></span><span class=line><span class=cl><span class=cm>            end
</span></span></span><span class=line><span class=cl><span class=cm>            c:emit_signal(&#34;request::activate&#34;, &#34;tasklist&#34;, {raise = true}) 
</span></span></span><span class=line><span class=cl><span class=cm>            -- 重新绘制任务栏
</span></span></span><span class=line><span class=cl><span class=cm>            s.mytasklist:emit_signal(&#34;widget::redraw_needed&#34;)
</span></span></span><span class=line><span class=cl><span class=cm>            -- 将鼠标移动到激活的窗口的中心位置
</span></span></span><span class=line><span class=cl><span class=cm>          
</span></span></span><span class=line><span class=cl><span class=cm>            client.focus = c
</span></span></span><span class=line><span class=cl><span class=cm>            c:raise()
</span></span></span><span class=line><span class=cl><span class=cm>            local geo = c:geometry()
</span></span></span><span class=line><span class=cl><span class=cm>            local x = geo.x + geo.width / 2
</span></span></span><span class=line><span class=cl><span class=cm>            local y = geo.y + geo.height / 2
</span></span></span><span class=line><span class=cl><span class=cm>            mouse.coords({x = x, y = y}, true)
</span></span></span><span class=line><span class=cl><span class=cm>           
</span></span></span><span class=line><span class=cl><span class=cm>        end),
</span></span></span><span class=line><span class=cl><span class=cm>        awful.button({}, 3, function() awful.menu.client_list({theme = {width = 250}}) end), -- 右键 显示所有窗口
</span></span></span><span class=line><span class=cl><span class=cm>        awful.button({}, 4, function () awful.client.focus.byidx(1) end), --滚轮切换窗口 焦点
</span></span></span><span class=line><span class=cl><span class=cm>        awful.button({}, 5, function () awful.client.focus.byidx(-1) end) --滚轮切换窗口
</span></span></span><span class=line><span class=cl><span class=cm>        ) 
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>        -- Create a tasklist widget 任务栏 默认显示图标和文字
</span></span></span><span class=line><span class=cl><span class=cm>        s.mytasklist = awful.widget.tasklist {
</span></span></span><span class=line><span class=cl><span class=cm>            screen = s,
</span></span></span><span class=line><span class=cl><span class=cm>            filter = awful.widget.tasklist.filter.currenttags, -- 显示当前标签页中的任务
</span></span></span><span class=line><span class=cl><span class=cm>            filter  = awful.widget.tasklist.filter.alltags, -- 显示所有标签页中的任务
</span></span></span><span class=line><span class=cl><span class=cm>            buttons = tasklist_buttons -- 任务栏按键点击行为
</span></span></span><span class=line><span class=cl><span class=cm>        }
</span></span></span><span class=line><span class=cl><span class=cm> -- ]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>-- 定义点击任务栏的行为</span>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=n>tasklist_buttons</span> <span class=o>=</span> <span class=n>gears.table</span><span class=p>.</span><span class=n>join</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>1</span><span class=p>,</span> <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=c1>-- 左键修改为 就切换到对应tag  因为主要用平铺</span>
</span></span><span class=line><span class=cl>            <span class=n>c.minimized</span> <span class=o>=</span> <span class=kc>false</span> <span class=c1>-- 取消最小化</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.tag</span><span class=p>.</span><span class=n>viewonly</span><span class=p>(</span><span class=n>c.first_tag</span><span class=p>)</span> <span class=c1>--切换到窗口所在屏幕</span>
</span></span><span class=line><span class=cl>            <span class=n>c</span><span class=p>:</span><span class=n>emit_signal</span><span class=p>(</span><span class=s2>&#34;request::activate&#34;</span><span class=p>,</span> <span class=s2>&#34;tasklist&#34;</span><span class=p>,</span> <span class=p>{</span><span class=n>raise</span> <span class=o>=</span> <span class=kc>true</span><span class=p>})</span>  <span class=c1>-- 激活窗口</span>
</span></span><span class=line><span class=cl>        <span class=kr>end</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>3</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>awful.menu</span><span class=p>.</span><span class=n>client_list</span><span class=p>({</span><span class=n>theme</span> <span class=o>=</span> <span class=p>{</span><span class=n>width</span> <span class=o>=</span> <span class=mi>250</span><span class=p>}})</span> <span class=kr>end</span><span class=p>),</span> <span class=c1>-- 右键 显示所有窗口</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>4</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.client</span><span class=p>.</span><span class=n>focus.byidx</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=kr>end</span><span class=p>),</span> <span class=c1>--滚轮切换窗口 焦点</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>5</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.client</span><span class=p>.</span><span class=n>focus.byidx</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=kr>end</span><span class=p>)</span> <span class=c1>--滚轮切换窗口</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span> 
</span></span><span class=line><span class=cl>    <span class=c1>-- 任务栏的配置</span>
</span></span><span class=line><span class=cl>    <span class=n>s.mytasklist</span> <span class=o>=</span> <span class=n>awful.widget</span><span class=p>.</span><span class=n>tasklist</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>screen</span>   <span class=o>=</span> <span class=n>s</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>filter</span>  <span class=o>=</span> <span class=n>awful.widget</span><span class=p>.</span><span class=n>tasklist.filter</span><span class=p>.</span><span class=n>allscreen</span><span class=p>,</span> <span class=c1>-- awful.widget.tasklist.filter.focused</span>
</span></span><span class=line><span class=cl>                <span class=n>buttons</span>  <span class=o>=</span> <span class=n>tasklist_buttons</span><span class=p>,</span>  <span class=c1>-- 按钮行为控制函数 只是鼠标的控制就好</span>
</span></span><span class=line><span class=cl>                <span class=n>style</span>    <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>shape_border_width</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=n>shape_border_color</span> <span class=o>=</span> <span class=s1>&#39;#555&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=n>shape</span>  <span class=o>=</span> <span class=n>gears.shape</span><span class=p>.</span><span class=n>rounded_bar</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=n>layout</span>   <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>spacing</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span> <span class=c1>--间隔</span>
</span></span><span class=line><span class=cl>                    <span class=n>layout</span>  <span class=o>=</span> <span class=n>wibox.layout</span><span class=p>.</span><span class=n>flex.horizontal</span>  <span class=c1>-- 横向排列</span>
</span></span><span class=line><span class=cl>                <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=n>widget_template</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=p>{</span>
</span></span><span class=line><span class=cl>                            <span class=p>{</span> <span class=c1>-- 任务栏图标</span>
</span></span><span class=line><span class=cl>                                <span class=p>{</span>
</span></span><span class=line><span class=cl>                                    <span class=n>id</span>     <span class=o>=</span> <span class=s1>&#39;icon_role&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                    <span class=n>widget</span> <span class=o>=</span> <span class=n>wibox.widget</span><span class=p>.</span><span class=n>imagebox</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                <span class=p>},</span>
</span></span><span class=line><span class=cl>                                <span class=n>margins</span> <span class=o>=</span> <span class=mi>3</span><span class=p>,</span> <span class=c1>--用边距控制图标大小</span>
</span></span><span class=line><span class=cl>                                <span class=n>widget</span>  <span class=o>=</span> <span class=n>wibox.container</span><span class=p>.</span><span class=n>margin</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=p>},</span>
</span></span><span class=line><span class=cl>                            <span class=p>{</span> <span class=c1>-- 任务栏文字</span>
</span></span><span class=line><span class=cl>                                <span class=n>id</span>     <span class=o>=</span> <span class=s1>&#39;text_role&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                <span class=n>widget</span> <span class=o>=</span> <span class=n>wibox.widget</span><span class=p>.</span><span class=n>textbox</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                            <span class=n>layout</span> <span class=o>=</span> <span class=n>wibox.layout</span><span class=p>.</span><span class=n>fixed.horizontal</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                        <span class=p>},</span>
</span></span><span class=line><span class=cl>                        <span class=n>left</span>  <span class=o>=</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                        <span class=n>right</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                        <span class=n>widget</span> <span class=o>=</span> <span class=n>wibox.container</span><span class=p>.</span><span class=n>margin</span>
</span></span><span class=line><span class=cl>                    <span class=p>},</span>
</span></span><span class=line><span class=cl>                    <span class=c1>--forced_width = 10000,</span>
</span></span><span class=line><span class=cl>                    <span class=n>id</span>     <span class=o>=</span> <span class=s1>&#39;background_role&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=n>widget</span>          <span class=o>=</span> <span class=n>wibox.container</span><span class=p>.</span><span class=n>background</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    
</span></span><span class=line><span class=cl>                <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- Create the wibox 状态栏</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- s.mywibox = awful.wibar({ position = &#34;bottom&#34;, screen = s })</span>
</span></span><span class=line><span class=cl>        <span class=n>s.mywibox</span> <span class=o>=</span> <span class=n>awful.wibar</span><span class=p>({</span><span class=n>position</span> <span class=o>=</span> <span class=s2>&#34;top&#34;</span><span class=p>,</span> <span class=n>screen</span> <span class=o>=</span> <span class=n>s</span><span class=p>})</span>
</span></span><span class=line><span class=cl>        <span class=n>s.mywibox</span><span class=p>.</span><span class=n>opacity</span> <span class=o>=</span> <span class=mf>0.8</span> <span class=c1>--状态栏整体透明度</span>
</span></span><span class=line><span class=cl>        <span class=n>shell_pot</span> <span class=o>=</span> <span class=n>awful.widget</span><span class=p>.</span><span class=n>watch</span><span class=p>(</span><span class=s1>&#39;echo 🔸&#39;</span><span class=p>,</span> <span class=mi>3600000</span><span class=p>)</span> <span class=c1>-- 一个分隔符</span>
</span></span><span class=line><span class=cl>        <span class=n>shell_space</span> <span class=o>=</span> <span class=n>awful.widget</span><span class=p>.</span><span class=n>watch</span><span class=p>(</span><span class=s1>&#39;echo   -e &#34;　&#34; &#39;</span><span class=p>,</span> <span class=mi>3600000</span><span class=p>)</span> <span class=c1>--中文全角空格</span>
</span></span><span class=line><span class=cl>        <span class=n>shell_weather</span> <span class=o>=</span> <span class=n>awful.widget</span><span class=p>.</span><span class=n>watch</span><span class=p>(</span><span class=s1>&#39;bash -c &#34;python3 ~/.config/topbar_plus/weather-plugin.py&#34;&#39;</span><span class=p>,</span> <span class=mi>1800</span><span class=p>)</span> <span class=c1>--天气预报</span>
</span></span><span class=line><span class=cl>        <span class=n>shell_weather</span><span class=p>:</span><span class=n>buttons</span><span class=p>(</span><span class=n>gears.table</span><span class=p>.</span><span class=n>join</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>1</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;xdg-open http://www.weather.com.cn/weather15d/101120802.shtml&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>),</span> <span class=c1>-- 左键</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>3</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;xdg-open http://www.weather.com.cn/weather15d/101120802.shtml&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>)</span><span class=c1>--右键</span>
</span></span><span class=line><span class=cl>        <span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>shell_lunarDate</span> <span class=o>=</span> <span class=n>awful.widget</span><span class=p>.</span><span class=n>watch</span><span class=p>(</span><span class=s1>&#39;bash -c &#34;$HOME/.env/lunarDate_plugin/bin/python ~/.config/topbar_plus/lunarDate-plugin.py&#34;&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=c1>-- 农历阳历周</span>
</span></span><span class=line><span class=cl>        <span class=n>shell_lunarDate</span><span class=p>:</span><span class=n>buttons</span><span class=p>(</span><span class=n>gears.table</span><span class=p>.</span><span class=n>join</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>1</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;xdg-open https://wannianli.tianqi.com/&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>),</span> <span class=c1>-- 左键</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>3</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;xdg-open https://wannianli.tianqi.com/&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>)</span><span class=c1>--右键</span>
</span></span><span class=line><span class=cl>        <span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>local</span> <span class=n>vicious</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s2>&#34;vicious&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- 监测 CPU 使用情况</span>
</span></span><span class=line><span class=cl>        <span class=n>cpuwidget</span> <span class=o>=</span> <span class=n>wibox.widget</span><span class=p>.</span><span class=n>textbox</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>vicious.cache</span><span class=p>(</span><span class=n>vicious.widgets</span><span class=p>.</span><span class=n>cpu</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>vicious.register</span><span class=p>(</span><span class=n>cpuwidget</span><span class=p>,</span> <span class=n>vicious.widgets</span><span class=p>.</span><span class=n>cpu</span><span class=p>,</span> <span class=s2>&#34;CPU: &lt;span foreground=&#39;#20B2AA&#39;&gt; $1% &lt;/span&gt;&#34;</span><span class=p>,</span> <span class=mi>13</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>memwidget</span> <span class=o>=</span> <span class=n>wibox.widget</span><span class=p>.</span><span class=n>textbox</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>vicious.cache</span><span class=p>(</span><span class=n>vicious.widgets</span><span class=p>.</span><span class=n>mem</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>vicious.register</span><span class=p>(</span><span class=n>memwidget</span><span class=p>,</span> <span class=n>vicious.widgets</span><span class=p>.</span><span class=n>mem</span><span class=p>,</span> <span class=s2>&#34;内存: &lt;span foreground=&#39;#20B2AA&#39;&gt; $1% &lt;/span&gt;&#34;</span><span class=p>,</span> <span class=mi>13</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- 托盘</span>
</span></span><span class=line><span class=cl>        <span class=n>mysystray</span> <span class=o>=</span> <span class=n>wibox.widget</span><span class=p>.</span><span class=n>systray</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=c1>--mysystray.forced_width =50</span>
</span></span><span class=line><span class=cl>        <span class=c1>--mysystray.forced_height=10</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- 直接用 forced_width 会导致图标多的时候图标太小，forced_height貌似无效，所以下面把托盘放到容器里面，控制容器边距变相修改托盘大小</span>
</span></span><span class=line><span class=cl>        <span class=kd>local</span> <span class=n>mysystray_container</span> <span class=o>=</span> <span class=n>wibox.container</span><span class=p>.</span><span class=n>margin</span><span class=p>(</span><span class=n>mysystray</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span> <span class=c1>-- 设置容器的边距  [, left[, right[, top[, bottom[, color[, draw_empty]]]]]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- 音量</span>
</span></span><span class=line><span class=cl>        <span class=n>volume_widget</span> <span class=o>=</span> <span class=n>wibox.widget</span><span class=p>.</span><span class=n>textbox</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=c1>--awful.widget.watch(&#39;bash -c &#34;LANG=en_US.utf8 &amp;&amp;  pactl list sinks | grep \&#39;front-left\&#39; &amp;&amp;  pactl list sinks | grep \&#39;Mute:\&#39; &#34;&#39;, 1, function(widget, stdout)</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.widget</span><span class=p>.</span><span class=n>watch</span><span class=p>(</span><span class=s1>&#39;bash -c &#34;LANG=en_US.utf8 &amp;&amp; pactl list sinks | grep -E </span><span class=se>\&#39;</span><span class=s1>front-left|Mute:</span><span class=se>\&#39;</span><span class=s1>&#34; &#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>widget</span><span class=p>,</span> <span class=n>stdout</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=c1>-- 从输出中获取音量信息</span>
</span></span><span class=line><span class=cl>            <span class=kd>local</span> <span class=n>volume</span> <span class=o>=</span> <span class=n>string.match</span><span class=p>(</span><span class=n>stdout</span><span class=p>,</span> <span class=s2>&#34;(%d+)%%&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=c1>-- 从输出中获取静音状态信息</span>
</span></span><span class=line><span class=cl>            <span class=kd>local</span> <span class=n>mute</span> <span class=o>=</span> <span class=n>string.match</span><span class=p>(</span><span class=n>stdout</span><span class=p>,</span> <span class=s2>&#34;Mute: (%a+)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=c1>-- 更新文本框内容</span>
</span></span><span class=line><span class=cl>            <span class=kd>local</span> <span class=n>text</span> <span class=o>=</span> <span class=s1>&#39; 🔈&lt;span foreground=&#34;#20B2AA&#34;&gt;&#39;</span> <span class=o>..</span> <span class=n>volume</span> <span class=o>..</span> <span class=s1>&#39;&lt;/span&gt; %&#39;</span>
</span></span><span class=line><span class=cl>            <span class=kr>if</span> <span class=n>mute</span> <span class=o>==</span> <span class=s2>&#34;yes&#34;</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                <span class=n>text</span> <span class=o>=</span> <span class=s1>&#39; 🔇&lt;span foreground=&#34;#ce2605&#34;&gt;&#39;</span> <span class=o>..</span> <span class=n>volume</span> <span class=o>..</span> <span class=s1>&#39;&lt;/span&gt; %&#39;</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span>
</span></span><span class=line><span class=cl>            <span class=n>widget</span><span class=p>:</span><span class=n>set_markup</span><span class=p>(</span><span class=n>text</span><span class=p>)</span> <span class=c1>-- widget:set_text(text)</span>
</span></span><span class=line><span class=cl>        <span class=kr>end</span><span class=p>,</span> <span class=n>volume_widget</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- 音量 按键操作</span>
</span></span><span class=line><span class=cl>        <span class=n>volume_widget</span><span class=p>:</span><span class=n>buttons</span><span class=p>(</span><span class=n>gears.table</span><span class=p>.</span><span class=n>join</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>1</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;pactl set-sink-mute @DEFAULT_SINK@ toggle&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>),</span> <span class=c1>-- 左键静音</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>3</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;pavucontrol&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>),</span> <span class=c1>--右键打开 面板</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>4</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;pactl set-sink-volume @DEFAULT_SINK@ +1%&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>),</span> <span class=c1>-- 向上滚动增大音量 另外绑定键盘的 音量键在 音量控制 那边</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>5</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;pactl set-sink-volume @DEFAULT_SINK@ -1%&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>)</span><span class=c1>-- 向下滚动减小音量</span>
</span></span><span class=line><span class=cl>        <span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- 滚轮事件处理</span>
</span></span><span class=line><span class=cl>        <span class=n>volume_widget</span><span class=p>:</span><span class=n>connect_signal</span><span class=p>(</span><span class=s2>&#34;button::scroll_up&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;pactl set-sink-volume @DEFAULT_SINK@ +5%&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>volume_widget</span><span class=p>:</span><span class=n>connect_signal</span><span class=p>(</span><span class=s2>&#34;button::scroll_down&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;pactl set-sink-volume @DEFAULT_SINK@ -5%&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- Add widgets to the wibox 状态栏布局 排序 全局标题栏</span>
</span></span><span class=line><span class=cl>        <span class=n>s.mywibox</span><span class=p>:</span><span class=n>setup</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>layout</span> <span class=o>=</span> <span class=n>wibox.layout</span><span class=p>.</span><span class=n>align.horizontal</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=c1>-- Left widgets</span>
</span></span><span class=line><span class=cl>                <span class=n>layout</span> <span class=o>=</span> <span class=n>wibox.layout</span><span class=p>.</span><span class=n>fixed.horizontal</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>mylauncher</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>s.mytaglist</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>s.mypromptbox</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=n>s.mytasklist</span><span class=p>,</span> <span class=c1>-- Middle widget</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=c1>-- Right widgets</span>
</span></span><span class=line><span class=cl>                <span class=n>layout</span> <span class=o>=</span> <span class=n>wibox.layout</span><span class=p>.</span><span class=n>fixed.horizontal</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>cpuwidget</span><span class=p>,</span> <span class=n>memwidget</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>shell_pot</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>shell_weather</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>shell_pot</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>shell_lunarDate</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>shell_space</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>mytextclock</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>shell_pot</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>volume_widget</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>shell_space</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=c1>--mykeyboardlayout,</span>
</span></span><span class=line><span class=cl>                <span class=c1>--  wibox.widget.systray(),</span>
</span></span><span class=line><span class=cl>                <span class=n>mysystray_container</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>shell_space</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>mylayoutbox</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1>-- }}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>-- {{{ Mouse bindings  这里是屏幕空白地方的鼠标操作</span>
</span></span><span class=line><span class=cl>    <span class=n>root.buttons</span><span class=p>(</span><span class=n>gears.table</span><span class=p>.</span><span class=n>join</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>3</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>mymainmenu</span><span class=p>:</span><span class=n>toggle</span><span class=p>()</span> <span class=kr>end</span><span class=p>),</span>   <span class=c1>--右键打开主菜单</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>4</span><span class=p>,</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>viewnext</span><span class=p>),</span> <span class=c1>-- 滚轮切换标签 不是窗口</span>
</span></span><span class=line><span class=cl>    <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>5</span><span class=p>,</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>viewprev</span><span class=p>)))</span> <span class=c1>-- 滚轮切换标签</span>
</span></span><span class=line><span class=cl>    <span class=c1>-- }}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>-- {{{ Key bindings  按键绑定</span>
</span></span><span class=line><span class=cl>    <span class=n>globalkeys</span> <span class=o>=</span> <span class=n>gears.table</span><span class=p>.</span><span class=n>join</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;s&#34;</span><span class=p>,</span> <span class=n>hotkeys_popup.show_help</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;show help 显示快捷键&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;awesome&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;Left&#34;</span><span class=p>,</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>viewprev</span><span class=p>,</span>   <span class=c1>--切换标签</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;view previous 切换标签&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;tag&#34;</span><span class=p>}),</span> 
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;Right&#34;</span><span class=p>,</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>viewnext</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;view next 切换标签&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;tag&#34;</span><span class=p>}),</span>  <span class=c1>--切换标签</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;Escape&#34;</span><span class=p>,</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>history.restore</span><span class=p>,</span>  <span class=c1>--返回标签</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;go back 返回标签&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;tag&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;j&#34;</span><span class=p>,</span>  <span class=c1>-- 切换 窗口焦点</span>
</span></span><span class=line><span class=cl>            <span class=kr>function</span> <span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=n>awful.client</span><span class=p>.</span><span class=n>focus.byidx</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;focus next by index 切换 窗口焦点&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;k&#34;</span><span class=p>,</span>  <span class=c1>-- 切换 窗口焦点</span>
</span></span><span class=line><span class=cl>            <span class=kr>function</span> <span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=n>awful.client</span><span class=p>.</span><span class=n>focus.byidx</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;focus previous by index 切换 窗口焦点&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;w&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>mymainmenu</span><span class=p>:</span><span class=n>show</span><span class=p>()</span> <span class=kr>end</span><span class=p>,</span> <span class=c1>-- 显示主菜单</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;show main menu 显示主菜单&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;awesome&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- Layout manipulation</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Shift&#34;</span><span class=p>},</span> <span class=s2>&#34;j&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.client</span><span class=p>.</span><span class=n>swap.byidx</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>  <span class=c1>-- 移动窗口位置</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;swap with next client by index&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Shift&#34;</span><span class=p>},</span> <span class=s2>&#34;k&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.client</span><span class=p>.</span><span class=n>swap.byidx</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span> <span class=c1>-- 移动窗口位置</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;swap with previous client by index&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Control&#34;</span><span class=p>},</span> <span class=s2>&#34;j&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.screen</span><span class=p>.</span><span class=n>focus_relative</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;focus the next screen&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;screen&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Control&#34;</span><span class=p>},</span> <span class=s2>&#34;k&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.screen</span><span class=p>.</span><span class=n>focus_relative</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;focus the previous screen&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;screen&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;u&#34;</span><span class=p>,</span> <span class=n>awful.client</span><span class=p>.</span><span class=n>urgent.jumpto</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;jump to urgent client&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;Tab&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=kr>function</span> <span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=n>awful.client</span><span class=p>.</span><span class=n>focus.history</span><span class=p>.</span><span class=n>previous</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=kr>if</span> <span class=n>client.focus</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                    <span class=n>client.focus</span><span class=p>:</span><span class=n>raise</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=kr>end</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;go back&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- Standard program</span>
</span></span><span class=line><span class=cl>        <span class=c1>--awful.key({ modkey,           }, &#34;Return&#34;, function () awful.spawn(terminal) end,</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;Return&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;alacritty&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;open a terminal 打开终端&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;launcher&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Control&#34;</span><span class=p>},</span> <span class=s2>&#34;r&#34;</span><span class=p>,</span> <span class=n>awesome.restart</span><span class=p>,</span> <span class=c1>--保留awesome的 win ctrl+r 配置出错的时候 只能用这个快捷键重载</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;reload awesome 重载aw&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;awesome&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Shift&#34;</span><span class=p>},</span> <span class=s2>&#34;s&#34;</span><span class=p>,</span> <span class=n>awesome.restart</span><span class=p>,</span> <span class=c1>--和i3一致方便过度</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;reload awesome 重载aw&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;awesome&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=c1>--awful.key({ modkey, &#34;Shift&#34;   }, &#34;q&#34;, awesome.quit,</span>
</span></span><span class=line><span class=cl>        <span class=c1>---          {description = &#34;推出 awesome &#34;, group = &#34;awesome&#34;}),</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- 推出 awesome awful.prompt</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- awful.key({ modkey, &#34;Shift&#34; }, &#34;e&#34;, function()</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- awful.prompt.run {</span>
</span></span><span class=line><span class=cl>        <span class=c1>--     prompt = &#34;确定要退出 Awesome WM 吗？ (y/n): &#34;,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--     textbox = awful.screen.focused().mypromptbox.widget,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--     exe_callback = function(answer)</span>
</span></span><span class=line><span class=cl>        <span class=c1>--         if answer == &#34;y&#34; then</span>
</span></span><span class=line><span class=cl>        <span class=c1>--             awesome.quit()</span>
</span></span><span class=line><span class=cl>        <span class=c1>--         end</span>
</span></span><span class=line><span class=cl>        <span class=c1>--     end</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- }</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- end, { description = &#34;退出 Awesome WM&#34;, group = &#34;awesome&#34; })</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- 推出 awesome ，用naughty.notify</span>
</span></span><span class=line><span class=cl>        <span class=c1>--awful.key({ modkey, &#34;Shift&#34; }, &#34;e&#34;, function()</span>
</span></span><span class=line><span class=cl>        <span class=c1>--   naughty.notify({</span>
</span></span><span class=line><span class=cl>        <span class=c1>--        text = &#34;　　　确定要退出 Awesome WM 吗？　　\n　　如果要推出输入y,不推出按下esc正常操作　　&#34;,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--       timeout = 3,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--       position = &#34;bottom_right&#34;,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--        bg = &#34;#FF0000&#34;,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--        fg = &#34;#FFFFFF&#34;,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--        font = &#34;sans 25&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1>--    })</span>
</span></span><span class=line><span class=cl>        <span class=c1>--   awful.prompt.run {</span>
</span></span><span class=line><span class=cl>        <span class=c1>--       prompt = &#34;&#34;,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--       textbox = awful.screen.focused().mypromptbox.widget,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--        exe_callback = function(answer)</span>
</span></span><span class=line><span class=cl>        <span class=c1>--            if answer == &#34;y&#34; then</span>
</span></span><span class=line><span class=cl>        <span class=c1>--                awesome.quit()</span>
</span></span><span class=line><span class=cl>        <span class=c1>--            end</span>
</span></span><span class=line><span class=cl>        <span class=c1>--        end</span>
</span></span><span class=line><span class=cl>        <span class=c1>--    }</span>
</span></span><span class=line><span class=cl>        <span class=c1>--end, { description = &#34;确定退出 Awesome WM&#34;, group = &#34;awesome&#34; }),</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- 和i3 一致  推出 awesome</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- 依赖 zenity</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Shift&#34;</span><span class=p>},</span> <span class=s2>&#34;e&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=kd>local</span> <span class=n>command</span> <span class=o>=</span> <span class=s2>&#34;zenity --question --text &#39;确定要退出 Awesome WM 吗？&#39; --no-wrap --title &#39;亲爱哒&#39;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.spawn</span><span class=p>.</span><span class=n>easy_async_with_shell</span><span class=p>(</span><span class=n>command</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>_</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>exit_code</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=kr>if</span> <span class=n>exit_code</span> <span class=o>==</span> <span class=mi>0</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                    <span class=n>awesome.quit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=kr>end</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=kr>end</span><span class=p>,</span> <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;确定退出 Awesome WM&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;awesome&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;l&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>incmwfact</span><span class=p>(</span><span class=mf>0.05</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;increase master width factor + 主宽度&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;layout&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;h&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>incmwfact</span><span class=p>(</span><span class=o>-</span><span class=mf>0.05</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;decrease master width factor - 主宽度&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;layout&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Shift&#34;</span><span class=p>},</span> <span class=s2>&#34;h&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>incnmaster</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;增加主区域的窗口数量&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;layout&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Shift&#34;</span><span class=p>},</span> <span class=s2>&#34;l&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>incnmaster</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;减少主区域的窗口数量&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;layout&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Control&#34;</span><span class=p>},</span> <span class=s2>&#34;h&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>incncol</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;增加列的数量&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;layout&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Control&#34;</span><span class=p>},</span> <span class=s2>&#34;l&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.tag</span><span class=p>.</span><span class=n>incncol</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;减少列的数量&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;layout&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;space&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.layout</span><span class=p>.</span><span class=n>inc</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;select next 布局模式&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;layout&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Shift&#34;</span><span class=p>},</span> <span class=s2>&#34;space&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.layout</span><span class=p>.</span><span class=n>inc</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;select previous 布局模式&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;layout&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Control&#34;</span><span class=p>},</span> <span class=s2>&#34;n&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=kr>function</span> <span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=kd>local</span> <span class=n>c</span> <span class=o>=</span> <span class=n>awful.client</span><span class=p>.</span><span class=n>restore</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=c1>-- Focus restored client</span>
</span></span><span class=line><span class=cl>                <span class=kr>if</span> <span class=n>c</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                    <span class=n>c</span><span class=p>:</span><span class=n>emit_signal</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;request::activate&#34;</span><span class=p>,</span> <span class=s2>&#34;key.unminimize&#34;</span><span class=p>,</span> <span class=p>{</span><span class=n>raise</span> <span class=o>=</span> <span class=kc>true</span><span class=p>})</span>
</span></span><span class=line><span class=cl>                <span class=kr>end</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;restore minimized 恢复最小化的&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- Prompt</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Shift&#34;</span><span class=p>},</span> <span class=s2>&#34;Return&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;rofi -show drun&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;rofi -show drun 启动器&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;launcher&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>},</span> <span class=s2>&#34;Tab&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;rofi -show window&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;rofi -show window 窗口切换&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;launcher&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>},</span> <span class=s2>&#34;p&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;/usr/bin/flameshot gui &#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;flameshot gui 截图 &#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;launcher&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>},</span> <span class=s2>&#34;e&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>()</span> <span class=n>awful.spawn</span><span class=p>(</span><span class=s2>&#34;pcmanfm &#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;pcmanfm 文件管理器 &#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;launcher&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- 运行命令  这个用rofi替代掉</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- awful.key({ modkey ,&#34;Shift&#34;,&#34;Alt&#34;},            &#34;r&#34;,     function () awful.screen.focused().mypromptbox:run() end,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--           {description = &#34;run prompt此功能关闭&#34;, group = &#34;launcher&#34;}),</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- 运行lua代码  不需要</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- awful.key({ modkey ,&#34;Shift&#34; ,&#34;Alt&#34; }, &#34;x&#34;,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--           function ()</span>
</span></span><span class=line><span class=cl>        <span class=c1>--               awful.prompt.run {</span>
</span></span><span class=line><span class=cl>        <span class=c1>--                 prompt       = &#34;Run Lua code: &#34;,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--                 textbox      = awful.screen.focused().mypromptbox.widget,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--                 exe_callback = awful.util.eval,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--                history_path = awful.util.get_cache_dir() .. &#34;/history_eval&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1>--              }</span>
</span></span><span class=line><span class=cl>        <span class=c1>--          end,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--         {description = &#34;lua execute prompt此功能关闭&#34;, group = &#34;awesome&#34;}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- 音量控制</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({},</span> <span class=s2>&#34;XF86AudioRaiseVolume&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>os.execute</span><span class=p>(</span><span class=s2>&#34;pactl set-sink-volume @DEFAULT_SINK@ +5%&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;volume up&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;hotkeys&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({},</span> <span class=s2>&#34;XF86AudioLowerVolume&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>os.execute</span><span class=p>(</span><span class=s2>&#34;pactl set-sink-volume @DEFAULT_SINK@ -5%&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;volume down&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;hotkeys&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({},</span> <span class=s2>&#34;XF86AudioMute&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> <span class=n>os.execute</span><span class=p>(</span><span class=s2>&#34;pactl set-sink-mute @DEFAULT_SINK@ toggle&#34;</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;toggle mute&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;hotkeys&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- Menubar 应用程序菜单 不需要，rifo 以及右键菜单以及右上角 mylauncher = awful.widget.launcher 都可以搞定</span>
</span></span><span class=line><span class=cl>        <span class=c1>--awful.key({ modkey  ,&#34;Shift&#34;}, &#34;p&#34;, function() menubar.show() end,</span>
</span></span><span class=line><span class=cl>        <span class=c1>--          {description = &#34;show the menubar 应用程序菜单&#34;, group = &#34;launcher&#34;})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>clientkeys</span> <span class=o>=</span> <span class=n>gears.table</span><span class=p>.</span><span class=n>join</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;f&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>c.fullscreen</span> <span class=o>=</span> <span class=ow>not</span> <span class=n>c.fullscreen</span>
</span></span><span class=line><span class=cl>                <span class=n>c</span><span class=p>:</span><span class=n>raise</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;toggle fullscreen全屏&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=cm>--[[
</span></span></span><span class=line><span class=cl><span class=cm>        awful.key({ modkey, &#34;Shift&#34;   }, &#34;c&#34;,      function (c) c:kill()                         end,
</span></span></span><span class=line><span class=cl><span class=cm>        awful.key({modkey, &#34;Shift&#34;}, &#34;q&#34;, function (c) c:kill() end,
</span></span></span><span class=line><span class=cl><span class=cm>        {description = &#34;close关闭窗口&#34;, group = &#34;client&#34;}),
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>        local window_title = focused_client.name or &#34;&#34;
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>    -- 构建 Zenity 命令
</span></span></span><span class=line><span class=cl><span class=cm>    local command = string.format(&#34;zenity --question --text &#39;%s&#39; --no-wrap --title &#39;亲爱哒&#39;&#34;, window_title)
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>        --]]</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Shift&#34;</span><span class=p>},</span> <span class=s2>&#34;q&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>c</span><span class=p>)</span> 
</span></span><span class=line><span class=cl>            <span class=kd>local</span> <span class=n>window_title</span> <span class=o>=</span> <span class=n>c.name</span> <span class=ow>or</span> <span class=s2>&#34;&#34;</span> <span class=c1>--窗口标题</span>
</span></span><span class=line><span class=cl>            <span class=kd>local</span> <span class=n>command</span> <span class=o>=</span> <span class=n>string.format</span><span class=p>(</span><span class=s2>&#34;zenity --question --text &#39;确定要关闭 %s 吗？&#39; --no-wrap --title &#39;亲爱哒&#39;&#34;</span><span class=p>,</span> <span class=n>window_title</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>awful.spawn</span><span class=p>.</span><span class=n>easy_async_with_shell</span><span class=p>(</span><span class=n>command</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>_</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>exit_code</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=kr>if</span> <span class=n>exit_code</span> <span class=o>==</span> <span class=mi>0</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                        <span class=n>c</span><span class=p>:</span><span class=n>kill</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                    <span class=kr>end</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=kr>end</span><span class=p>,</span> <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;确定退出 窗口&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;awesome&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Control&#34;</span><span class=p>},</span> <span class=s2>&#34;space&#34;</span><span class=p>,</span> <span class=n>awful.client</span><span class=p>.</span><span class=n>floating.toggle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;toggle floating浮动&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Control&#34;</span><span class=p>},</span> <span class=s2>&#34;Return&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=n>c</span><span class=p>:</span><span class=n>swap</span><span class=p>(</span><span class=n>awful.client</span><span class=p>.</span><span class=n>getmaster</span><span class=p>())</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;move to master主区域&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;o&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=n>c</span><span class=p>:</span><span class=n>move_to_screen</span><span class=p>()</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;move to screen&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;t&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=n>c.ontop</span> <span class=o>=</span> <span class=ow>not</span> <span class=n>c.ontop</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;toggle keep on top&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- 隐藏和显示标题栏</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Shift&#34;</span><span class=p>},</span> <span class=s2>&#34;b&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=n>awful.titlebar</span><span class=p>.</span><span class=n>toggle</span><span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;Show/Hide Titlebars隐藏和显示标题栏&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>         <span class=c1>-- 最小化</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;n&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=c1>-- The client currently has the input focus, so it cannot be</span>
</span></span><span class=line><span class=cl>                <span class=c1>-- minimized, since minimized clients can&#39;t have the focus.</span>
</span></span><span class=line><span class=cl>                <span class=n>c.minimized</span> <span class=o>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;minimize 最小化&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>         <span class=c1>-- 最大化</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=p>},</span> <span class=s2>&#34;m&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>c.maximized</span> <span class=o>=</span> <span class=ow>not</span> <span class=n>c.maximized</span>
</span></span><span class=line><span class=cl>                <span class=n>c</span><span class=p>:</span><span class=n>raise</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;(un)maximize 最大化&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>         <span class=c1>-- 垂直最大化</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Control&#34;</span><span class=p>},</span> <span class=s2>&#34;m&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>c.maximized_vertical</span> <span class=o>=</span> <span class=ow>not</span> <span class=n>c.maximized_vertical</span>
</span></span><span class=line><span class=cl>                <span class=n>c</span><span class=p>:</span><span class=n>raise</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;(un)maximize vertically 垂直最大化&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- 水平最大化</span>
</span></span><span class=line><span class=cl>        <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Shift&#34;</span><span class=p>},</span> <span class=s2>&#34;m&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>c.maximized_horizontal</span> <span class=o>=</span> <span class=ow>not</span> <span class=n>c.maximized_horizontal</span>
</span></span><span class=line><span class=cl>                <span class=n>c</span><span class=p>:</span><span class=n>raise</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;(un)maximize horizontally 水平最大化&#34;</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;client&#34;</span><span class=p>}))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>-- Bind all key numbers to tags.</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- Be careful: we use keycodes to make it work on any keyboard layout.</span>
</span></span><span class=line><span class=cl>        <span class=c1>-- This should map on the top row of your keyboard, usually 1 to 9.</span>
</span></span><span class=line><span class=cl>        <span class=kr>for</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>9</span> <span class=kr>do</span>
</span></span><span class=line><span class=cl>            <span class=n>globalkeys</span> <span class=o>=</span> <span class=n>gears.table</span><span class=p>.</span><span class=n>join</span><span class=p>(</span><span class=n>globalkeys</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=c1>-- View tag only 切换桌面</span>
</span></span><span class=line><span class=cl>                <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>},</span> <span class=s2>&#34;#&#34;</span> <span class=o>..</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>9</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=kr>function</span> <span class=p>()</span>
</span></span><span class=line><span class=cl>                        <span class=kd>local</span> <span class=n>screen</span> <span class=o>=</span> <span class=n>awful.screen</span><span class=p>.</span><span class=n>focused</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                        <span class=kd>local</span> <span class=n>tag</span> <span class=o>=</span> <span class=n>screen.tags</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                        <span class=kr>if</span> <span class=n>tag</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                            <span class=n>tag</span><span class=p>:</span><span class=n>view_only</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                        <span class=kr>end</span>
</span></span><span class=line><span class=cl>                    <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;view tag #&#34;</span><span class=o>..</span><span class=n>i</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;tag&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>                <span class=c1>-- Toggle tag display.合并两个桌面的窗口</span>
</span></span><span class=line><span class=cl>                <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Control&#34;</span><span class=p>},</span> <span class=s2>&#34;#&#34;</span> <span class=o>..</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>9</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=kr>function</span> <span class=p>()</span>
</span></span><span class=line><span class=cl>                        <span class=kd>local</span> <span class=n>screen</span> <span class=o>=</span> <span class=n>awful.screen</span><span class=p>.</span><span class=n>focused</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                        <span class=kd>local</span> <span class=n>tag</span> <span class=o>=</span> <span class=n>screen.tags</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                        <span class=kr>if</span> <span class=n>tag</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                            <span class=n>awful.tag</span><span class=p>.</span><span class=n>viewtoggle</span><span class=p>(</span><span class=n>tag</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=kr>end</span>
</span></span><span class=line><span class=cl>                    <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;toggle tag #&#34;</span> <span class=o>..</span> <span class=n>i</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;tag&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>                <span class=c1>-- Move client to tag. 移动窗口到桌面x</span>
</span></span><span class=line><span class=cl>                <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Shift&#34;</span><span class=p>},</span> <span class=s2>&#34;#&#34;</span> <span class=o>..</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>9</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=kr>function</span> <span class=p>()</span>
</span></span><span class=line><span class=cl>                        <span class=kr>if</span> <span class=n>client.focus</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                            <span class=kd>local</span> <span class=n>tag</span> <span class=o>=</span> <span class=n>client.focus</span><span class=p>.</span><span class=n>screen.tags</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                            <span class=kr>if</span> <span class=n>tag</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                                <span class=n>client.focus</span><span class=p>:</span><span class=n>move_to_tag</span><span class=p>(</span><span class=n>tag</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                            <span class=kr>end</span>
</span></span><span class=line><span class=cl>                        <span class=kr>end</span>
</span></span><span class=line><span class=cl>                    <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;move focused client to tag #&#34;</span><span class=o>..</span><span class=n>i</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;tag&#34;</span><span class=p>}),</span>
</span></span><span class=line><span class=cl>                <span class=c1>-- Toggle tag on focused client. 窗口同时显示到桌面x</span>
</span></span><span class=line><span class=cl>                <span class=n>awful.key</span><span class=p>({</span><span class=n>modkey</span><span class=p>,</span> <span class=s2>&#34;Control&#34;</span><span class=p>,</span> <span class=s2>&#34;Shift&#34;</span><span class=p>},</span> <span class=s2>&#34;#&#34;</span> <span class=o>..</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>9</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=kr>function</span> <span class=p>()</span>
</span></span><span class=line><span class=cl>                        <span class=kr>if</span> <span class=n>client.focus</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                            <span class=kd>local</span> <span class=n>tag</span> <span class=o>=</span> <span class=n>client.focus</span><span class=p>.</span><span class=n>screen.tags</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                            <span class=kr>if</span> <span class=n>tag</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                                <span class=n>client.focus</span><span class=p>:</span><span class=n>toggle_tag</span><span class=p>(</span><span class=n>tag</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                            <span class=kr>end</span>
</span></span><span class=line><span class=cl>                        <span class=kr>end</span>
</span></span><span class=line><span class=cl>                    <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span><span class=n>description</span> <span class=o>=</span> <span class=s2>&#34;toggle focused client on tag #&#34;</span> <span class=o>..</span> <span class=n>i</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;tag&#34;</span><span class=p>}))</span>
</span></span><span class=line><span class=cl>            <span class=kr>end</span>
</span></span><span class=line><span class=cl>            <span class=c1>-- 窗口的点击事件</span>
</span></span><span class=line><span class=cl>            <span class=n>clientbuttons</span> <span class=o>=</span> <span class=n>gears.table</span><span class=p>.</span><span class=n>join</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>1</span><span class=p>,</span> <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=n>c</span><span class=p>:</span><span class=n>emit_signal</span><span class=p>(</span><span class=s2>&#34;request::activate&#34;</span><span class=p>,</span> <span class=s2>&#34;mouse_click&#34;</span><span class=p>,</span> <span class=p>{</span><span class=n>raise</span> <span class=o>=</span> <span class=kc>true</span><span class=p>})</span> <span class=c1>--鼠标左键单击：激活该窗口（如果没有激活），并将其置于顶层。</span>
</span></span><span class=line><span class=cl>                <span class=kr>end</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                <span class=n>awful.button</span><span class=p>({</span><span class=n>modkey</span><span class=p>},</span> <span class=mi>1</span><span class=p>,</span> <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=n>c</span><span class=p>:</span><span class=n>emit_signal</span><span class=p>(</span><span class=s2>&#34;request::activate&#34;</span><span class=p>,</span> <span class=s2>&#34;mouse_click&#34;</span><span class=p>,</span> <span class=p>{</span><span class=n>raise</span> <span class=o>=</span> <span class=kc>true</span><span class=p>})</span> <span class=c1>-- Mod 键 + 鼠标左键单击：激活该窗口，并开始移动窗口位置。</span>
</span></span><span class=line><span class=cl>                    <span class=n>awful.mouse</span><span class=p>.</span><span class=n>client.move</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=kr>end</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                <span class=n>awful.button</span><span class=p>({</span><span class=n>modkey</span><span class=p>},</span> <span class=mi>3</span><span class=p>,</span> <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=n>c</span><span class=p>:</span><span class=n>emit_signal</span><span class=p>(</span><span class=s2>&#34;request::activate&#34;</span><span class=p>,</span> <span class=s2>&#34;mouse_click&#34;</span><span class=p>,</span> <span class=p>{</span><span class=n>raise</span> <span class=o>=</span> <span class=kc>true</span><span class=p>})</span> <span class=c1>-- Mod 键 + 鼠标右键单击：激活该窗口，并开始改变窗口大小。</span>
</span></span><span class=line><span class=cl>                    <span class=n>awful.mouse</span><span class=p>.</span><span class=n>client.resize</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=kr>end</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=c1>-- Set keys</span>
</span></span><span class=line><span class=cl>                <span class=n>root.keys</span><span class=p>(</span><span class=n>globalkeys</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=c1>-- }}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=c1>-- {{{ Rules</span>
</span></span><span class=line><span class=cl>                <span class=c1>-- Rules to apply to new clients (through the &#34;manage&#34; signal).</span>
</span></span><span class=line><span class=cl>                <span class=c1>-- 规则</span>
</span></span><span class=line><span class=cl>                <span class=n>awful.rules</span><span class=p>.</span><span class=n>rules</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=c1>-- All clients will match this rule.</span>
</span></span><span class=line><span class=cl>                    <span class=p>{</span><span class=n>rule</span> <span class=o>=</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>                        <span class=n>properties</span> <span class=o>=</span> <span class=p>{</span><span class=n>border_width</span> <span class=o>=</span> <span class=n>beautiful.border_width</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>border_color</span> <span class=o>=</span> <span class=n>beautiful.border_normal</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>focus</span> <span class=o>=</span> <span class=n>awful.client</span><span class=p>.</span><span class=n>focus.filter</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>raise</span> <span class=o>=</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>keys</span> <span class=o>=</span> <span class=n>clientkeys</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>buttons</span> <span class=o>=</span> <span class=n>clientbuttons</span><span class=p>,</span> <span class=c1>-- 窗口点击事件</span>
</span></span><span class=line><span class=cl>                            <span class=n>screen</span> <span class=o>=</span> <span class=n>awful.screen</span><span class=p>.</span><span class=n>preferred</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>placement</span> <span class=o>=</span> <span class=n>awful.placement</span><span class=p>.</span><span class=n>no_overlap</span> <span class=o>+</span> <span class=n>awful.placement</span><span class=p>.</span><span class=n>no_offscreen</span>
</span></span><span class=line><span class=cl>                        <span class=p>}},</span>
</span></span><span class=line><span class=cl>                        <span class=c1>-- Floating clients. 内置的自动浮动规则</span>
</span></span><span class=line><span class=cl>                        <span class=p>{</span><span class=n>rule_any</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                            <span class=n>instance</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;DTA&#34;</span><span class=p>,</span> <span class=c1>-- Firefox addon DownThemAll.</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;copyq&#34;</span><span class=p>,</span> <span class=c1>-- Includes session name in class.</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;pinentry&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=p>},</span>
</span></span><span class=line><span class=cl>                            <span class=n>class</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;Arandr&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;Blueman-manager&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;Gpick&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;Kruler&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;MessageWin&#34;</span><span class=p>,</span> <span class=c1>-- kalarm.</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;Sxiv&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;Tor Browser&#34;</span><span class=p>,</span> <span class=c1>-- Needs a fixed window size to avoid fingerprinting by screen size.</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;Wpa_gui&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;veromix&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=s2>&#34;xtightvncviewer&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                            <span class=c1>-- Note that the name property shown in xprop might be set slightly after creation of the client</span>
</span></span><span class=line><span class=cl>                            <span class=c1>-- and the name shown there might not match defined rules here.</span>
</span></span><span class=line><span class=cl>                            <span class=n>name</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;Event Tester&#34;</span><span class=p>,</span> <span class=c1>-- xev.</span>
</span></span><span class=line><span class=cl>                            <span class=p>},</span>
</span></span><span class=line><span class=cl>                            <span class=n>role</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;AlarmWindow&#34;</span><span class=p>,</span> <span class=c1>-- Thunderbird&#39;s calendar.</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;ConfigManager&#34;</span><span class=p>,</span> <span class=c1>-- Thunderbird&#39;s about:config.</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;pop-up&#34;</span><span class=p>,</span> <span class=c1>-- e.g. Google Chrome&#39;s (detached) Developer Tools.</span>
</span></span><span class=line><span class=cl>                            <span class=p>}},</span> <span class=n>properties</span> <span class=o>=</span> <span class=p>{</span><span class=n>floating</span> <span class=o>=</span> <span class=kc>true</span><span class=p>}},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                            <span class=c1>-- Add titlebars to normal clients and dialogs 标题栏</span>
</span></span><span class=line><span class=cl>                            <span class=p>{</span><span class=n>rule_any</span> <span class=o>=</span> <span class=p>{</span><span class=n>type</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;normal&#34;</span><span class=p>,</span> <span class=s2>&#34;dialog&#34;</span><span class=p>}},</span> <span class=n>properties</span> <span class=o>=</span> <span class=p>{</span><span class=n>titlebars_enabled</span> <span class=o>=</span> <span class=kc>true</span><span class=p>}},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                            <span class=c1>--  xprop|grep CLASS  自动隐藏标题栏的软件 无标题栏</span>
</span></span><span class=line><span class=cl>                            <span class=p>{</span><span class=n>rule_any</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                <span class=n>class</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                    <span class=s2>&#34;Sublime_text&#34;</span><span class=p>,</span> <span class=s2>&#34;Geany&#34;</span><span class=p>,</span> <span class=s2>&#34;Code&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                    <span class=s2>&#34;Plank&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                    <span class=s2>&#34;QQ&#34;</span><span class=p>,</span> <span class=s2>&#34;TelegramDesktop&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                    <span class=s2>&#34;Chromium&#34;</span><span class=p>,</span> <span class=s2>&#34;Google-chrome&#34;</span><span class=p>,</span> <span class=s2>&#34;Firefox-esr&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                    <span class=s2>&#34;Microsoft-edge&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                    <span class=s2>&#34;org.remmina.Remmina&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                    <span class=s2>&#34;another-redis-desktop-manager&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                    <span class=s2>&#34;Thonny&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;Thunar&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                            <span class=p>},</span> <span class=n>properties</span> <span class=o>=</span> <span class=p>{</span><span class=n>titlebars_enabled</span> <span class=o>=</span> <span class=kc>false</span><span class=p>}},</span>
</span></span><span class=line><span class=cl>                            <span class=c1>--  xprop|grep CLASS  强制默认平铺</span>
</span></span><span class=line><span class=cl>                            <span class=p>{</span><span class=n>rule_any</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                <span class=n>class</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                    <span class=s2>&#34;Microsoft-edge&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                <span class=p>},</span>
</span></span><span class=line><span class=cl>                            <span class=p>},</span> <span class=n>properties</span> <span class=o>=</span> <span class=p>{</span><span class=n>floating</span> <span class=o>=</span> <span class=kc>false</span><span class=p>}},</span>
</span></span><span class=line><span class=cl>                            <span class=c1>--  xprop|grep CLASS  自动浮动的软件 但不控制窗口位置</span>
</span></span><span class=line><span class=cl>                            <span class=p>{</span><span class=n>rule_any</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                <span class=n>class</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                    <span class=s2>&#34;Plank&#34;</span><span class=p>,</span> <span class=s2>&#34;tint2&#34;</span><span class=p>,</span> <span class=s2>&#34;Tint2&#34;</span>
</span></span><span class=line><span class=cl>                                <span class=p>},</span>
</span></span><span class=line><span class=cl>                            <span class=p>},</span> <span class=n>properties</span> <span class=o>=</span> <span class=p>{</span><span class=n>floating</span> <span class=o>=</span> <span class=kc>true</span><span class=p>}},</span>
</span></span><span class=line><span class=cl>                            <span class=c1>--  xprop|grep CLASS  自动浮动的软件 并居中显示</span>
</span></span><span class=line><span class=cl>                            <span class=p>{</span><span class=n>rule_any</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                <span class=n>name</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;图片查看器&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>                                <span class=n>class</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                    <span class=s2>&#34;Pavucontrol&#34;</span><span class=p>,</span> <span class=s2>&#34;fcitx5-config-qt&#34;</span><span class=p>,</span> <span class=s2>&#34;Tint2conf&#34;</span><span class=p>,</span><span class=s2>&#34;vlc&#34;</span>
</span></span><span class=line><span class=cl>                                <span class=p>},</span>
</span></span><span class=line><span class=cl>                            <span class=p>},</span> <span class=n>properties</span> <span class=o>=</span> <span class=p>{</span><span class=n>floating</span> <span class=o>=</span> <span class=kc>true</span><span class=p>,</span> <span class=n>placement</span> <span class=o>=</span> <span class=n>awful.placement</span><span class=p>.</span><span class=n>centered</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                        <span class=p>},</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>                    <span class=c1>-- }}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=c1>-- {{{ Signals</span>
</span></span><span class=line><span class=cl>                    <span class=c1>-- Signal function to execute when a new client appears.</span>
</span></span><span class=line><span class=cl>                    <span class=n>client.connect_signal</span><span class=p>(</span><span class=s2>&#34;manage&#34;</span><span class=p>,</span> <span class=kr>function</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=c1>-- Set the windows at the slave,</span>
</span></span><span class=line><span class=cl>                        <span class=c1>-- i.e. put it at the end of others instead of setting it master.</span>
</span></span><span class=line><span class=cl>                        <span class=c1>-- if not awesome.startup then awful.client.setslave(c) end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                        <span class=kr>if</span> <span class=n>awesome.startup</span>
</span></span><span class=line><span class=cl>                            <span class=ow>and</span> <span class=ow>not</span> <span class=n>c.size_hints</span><span class=p>.</span><span class=n>user_position</span>
</span></span><span class=line><span class=cl>                            <span class=ow>and</span> <span class=ow>not</span> <span class=n>c.size_hints</span><span class=p>.</span><span class=n>program_position</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>                            <span class=c1>-- Prevent clients from being unreachable after screen count changes.</span>
</span></span><span class=line><span class=cl>                            <span class=n>awful.placement</span><span class=p>.</span><span class=n>no_offscreen</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=kr>end</span>
</span></span><span class=line><span class=cl>                    <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=c1>-- Add a titlebar if titlebars_enabled is set to true in the rules.</span>
</span></span><span class=line><span class=cl>                    <span class=n>client.connect_signal</span><span class=p>(</span><span class=s2>&#34;request::titlebars&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=c1>-- buttons for the titlebar</span>
</span></span><span class=line><span class=cl>                        <span class=kd>local</span> <span class=n>buttons</span> <span class=o>=</span> <span class=n>gears.table</span><span class=p>.</span><span class=n>join</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                            <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>1</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                                <span class=n>c</span><span class=p>:</span><span class=n>emit_signal</span><span class=p>(</span><span class=s2>&#34;request::activate&#34;</span><span class=p>,</span> <span class=s2>&#34;titlebar&#34;</span><span class=p>,</span> <span class=p>{</span><span class=n>raise</span> <span class=o>=</span> <span class=kc>true</span><span class=p>})</span>
</span></span><span class=line><span class=cl>                                <span class=n>awful.mouse</span><span class=p>.</span><span class=n>client.move</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                            <span class=kr>end</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                            <span class=n>awful.button</span><span class=p>({},</span> <span class=mi>3</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                                <span class=n>c</span><span class=p>:</span><span class=n>emit_signal</span><span class=p>(</span><span class=s2>&#34;request::aRctivate&#34;</span><span class=p>,</span> <span class=s2>&#34;titlebar&#34;</span><span class=p>,</span> <span class=p>{</span><span class=n>raise</span> <span class=o>=</span> <span class=kc>true</span><span class=p>})</span>
</span></span><span class=line><span class=cl>                                <span class=n>awful.mouse</span><span class=p>.</span><span class=n>client.resize</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                            <span class=kr>end</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                            <span class=c1>-- 窗口的标题栏配置</span>
</span></span><span class=line><span class=cl>                            <span class=n>awful.titlebar</span><span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=p>:</span> <span class=n>setup</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                                <span class=p>{</span><span class=c1>-- Left</span>
</span></span><span class=line><span class=cl>                                    <span class=n>awful.titlebar</span><span class=p>.</span><span class=n>widget.iconwidget</span><span class=p>(</span><span class=n>c</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                                    <span class=n>buttons</span> <span class=o>=</span> <span class=n>buttons</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                    <span class=n>layout</span> <span class=o>=</span> <span class=n>wibox.layout</span><span class=p>.</span><span class=n>fixed.horizontal</span>
</span></span><span class=line><span class=cl>                                <span class=p>},</span>
</span></span><span class=line><span class=cl>                                <span class=p>{</span><span class=c1>-- Middle</span>
</span></span><span class=line><span class=cl>                                    <span class=p>{</span><span class=c1>-- Title</span>
</span></span><span class=line><span class=cl>                                        <span class=n>align</span> <span class=o>=</span> <span class=s2>&#34;center&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                    <span class=n>widget</span> <span class=o>=</span> <span class=n>awful.titlebar</span><span class=p>.</span><span class=n>widget.titlewidget</span><span class=p>(</span><span class=n>c</span><span class=p>)},</span>
</span></span><span class=line><span class=cl>                                    <span class=n>buttons</span> <span class=o>=</span> <span class=n>buttons</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                    <span class=n>layout</span> <span class=o>=</span> <span class=n>wibox.layout</span><span class=p>.</span><span class=n>flex.horizontal</span>
</span></span><span class=line><span class=cl>                                <span class=p>},</span>
</span></span><span class=line><span class=cl>                                <span class=p>{</span><span class=c1>-- Right 标题右侧</span>
</span></span><span class=line><span class=cl>                                    <span class=n>awful.titlebar</span><span class=p>.</span><span class=n>widget.floatingbutton</span> <span class=p>(</span><span class=n>c</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                                    <span class=n>awful.titlebar</span><span class=p>.</span><span class=n>widget.maximizedbutton</span><span class=p>(</span><span class=n>c</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                                    <span class=n>awful.titlebar</span><span class=p>.</span><span class=n>widget.stickybutton</span> <span class=p>(</span><span class=n>c</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                                    <span class=n>awful.titlebar</span><span class=p>.</span><span class=n>widget.ontopbutton</span> <span class=p>(</span><span class=n>c</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                                    <span class=n>awful.titlebar</span><span class=p>.</span><span class=n>widget.closebutton</span> <span class=p>(</span><span class=n>c</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                                <span class=n>layout</span> <span class=o>=</span> <span class=n>wibox.layout</span><span class=p>.</span><span class=n>fixed.horizontal</span><span class=p>()},</span>
</span></span><span class=line><span class=cl>                                <span class=n>layout</span> <span class=o>=</span> <span class=n>wibox.layout</span><span class=p>.</span><span class=n>align.horizontal</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                <span class=c1>-- 默认隐藏标题栏 此代码会覆盖掉前面rule中的配置</span>
</span></span><span class=line><span class=cl>                                <span class=c1>--awful.titlebar.hide(c)</span>
</span></span><span class=line><span class=cl>                            <span class=p>}</span>
</span></span><span class=line><span class=cl>                        <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                        <span class=c1>-- Enable sloppy focus, so that focus follows mouse.</span>
</span></span><span class=line><span class=cl>                        <span class=n>client.connect_signal</span><span class=p>(</span><span class=s2>&#34;mouse::enter&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                            <span class=n>c</span><span class=p>:</span><span class=n>emit_signal</span><span class=p>(</span><span class=s2>&#34;request::activate&#34;</span><span class=p>,</span> <span class=s2>&#34;mouse_enter&#34;</span><span class=p>,</span> <span class=p>{</span><span class=n>raise</span> <span class=o>=</span> <span class=kc>false</span><span class=p>})</span>
</span></span><span class=line><span class=cl>                        <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                        <span class=n>client.connect_signal</span><span class=p>(</span><span class=s2>&#34;focus&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=n>c.border_color</span> <span class=o>=</span> <span class=n>beautiful.border_focus</span> <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=n>client.connect_signal</span><span class=p>(</span><span class=s2>&#34;unfocus&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=n>c.border_color</span> <span class=o>=</span> <span class=n>beautiful.border_normal</span> <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=c1>-- }}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                       
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/wayland/wayfire-i3/><div class=article-details><h2 class=article-title>wayfire平铺桌面的配置</h2></div></a></article><article><a href=/wayland/wf-wrot/><div class=article-details><h2 class=article-title>wayfire 不小心转动窗口后如何恢复窗口显示</h2></div></a></article><article><a href=/wayland/wayfire/><div class=article-details><h2 class=article-title>debian下wayfire截图的解决方案 接近完美</h2></div></a></article><article><a href=/linux/gnome-resize-win/><div class=article-details><h2 class=article-title>gnome调整窗口大小快捷修改 win+中键 改为 右键</h2></div></a></article><article><a href=/wayfire/debian/><div class=article-details><h2 class=article-title>debian/pve</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//xiao-lei-sui-shou-ji.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2022 -
2025 小类随手记</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>
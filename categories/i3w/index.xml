<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>I3w on 小类随手记</title><link>https://dev.leiyanhui.com/categories/i3w/</link><description>Recent content in I3w on 小类随手记</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sun, 11 Dec 2022 08:23:20 +0800</lastBuildDate><atom:link href="https://dev.leiyanhui.com/categories/i3w/index.xml" rel="self" type="application/rss+xml"/><item><title>i3w 常用快捷键和基本配置</title><link>https://dev.leiyanhui.com/arch/i3w-config-key/</link><pubDate>Sun, 11 Dec 2022 08:23:20 +0800</pubDate><guid>https://dev.leiyanhui.com/arch/i3w-config-key/</guid><description>&lt;h2 id="简单说明">简单说明
&lt;/h2>&lt;p>i3w 不单 可以多个屏幕，还可以多组windows，甚至可以存在 父组 子组等。&lt;/p>
&lt;h2 id="常用快捷键">常用快捷键
&lt;/h2>&lt;p>$mod + Enter 启动虚拟终端&lt;br>
$mod + A 焦点转义到父窗口上&lt;br>
$mod + S 堆叠布局&lt;br>
$mod + W 标签布局&lt;br>
$mod + E 默认布局 连续按下 可以从 纵向排列和竖向排列之间 来回切换&lt;br>
$mod + SpaceBar 焦点在平铺式／浮动式转换&lt;br>
$mod + Shift + SpaceBar 窗口在平铺式／浮动式转换&lt;br>
$mod + shift + &amp;lt;数字键&amp;gt; 将当前程序发送到指定window&lt;br>
$mod + &amp;lt;方向键&amp;gt; 移动鼠标到焦点&lt;br>
$mod + shift + &amp;lt;方向键&amp;gt; 移动窗口位置&lt;br>
$mod + D 启动 dmenu&lt;br>
$mod + H 水平分割窗口&lt;br>
$mod + V 垂直分割窗口&lt;br>
$mod + J 焦点往左窗口移&lt;br>
$mod + K 焦点往下窗口移&lt;br>
$mod + L 焦点往上窗口移&lt;br>
$mod + ; 焦点往右窗口移&lt;br>
$mod + Shift + Q 杀死当前窗口的进程&lt;br>
$mod + Shift + E 退出 i3&lt;br>
$mod + Shift + C 当场重新加载 i3config, 无需重启&lt;br>
$mod + Shift + R 重启 i3 （还重新加载了 i3config, 又没有退出过程）&lt;br>
$mod + Shift + J 窗口左移 等同于 $mod + shift + &amp;lt;方向键&amp;gt;&lt;br>
$mod + Shift + K 窗口下移 等同于 $mod + shift + &amp;lt;方向键&amp;gt;&lt;br>
$mod + Shift + L 窗口上移 等同于 $mod + shift + &amp;lt;方向键&amp;gt;&lt;br>
$mod + Shift + : 窗口右移 等同于 $mod + shift + &amp;lt;方向键&amp;gt;&lt;br>
$mod + &amp;lt;数字键&amp;gt; 切换window&lt;br>
$mod + F 焦点窗口全屏&lt;/p></description></item><item><title>archlinux i3w下配置rustdesk</title><link>https://dev.leiyanhui.com/arch/rustdesk/</link><pubDate>Sun, 04 Dec 2022 00:23:20 +0800</pubDate><guid>https://dev.leiyanhui.com/arch/rustdesk/</guid><description>&lt;p>##linux常用的远程桌面 方式
不得不说 对比 微软的rdp协议，linux和macos下 都没有可以比肩的。rdp可以在低带宽提供几乎没有任何延迟的桌面体验。但开源的xrdp相比而言 简直就是一个垃圾了。
如果是kvm运行的系统 也可以用spice协议。vnc这种上古方式，也不是不可以用，看个人需求吧。&lt;/p>
&lt;p>第三方的，好用一点点的基本都收费，我这里用rustdesk 来替代那些收费的第三方&lt;/p>
&lt;p>&lt;a class="link" href="https://wiki.archlinux.org/title/List_of_applications/Internet" target="_blank" rel="noopener"
>https://wiki.archlinux.org/title/List_of_applications/Internet&lt;/a>&lt;/p>
&lt;h2 id="前置">前置
&lt;/h2>&lt;ul>
&lt;li>pve中运行的archlinux安装了i3w 并基本可以用 &lt;a class="link" href="https://dev.leiyanhui.com/arch/startx/" target="_blank" rel="noopener"
>https://dev.leiyanhui.com/arch/startx/&lt;/a>&lt;/li>
&lt;li>安装了yay &lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-install-yay/" target="_blank" rel="noopener"
>https://dev.leiyanhui.com/c/archlinux-install-yay/&lt;/a>&lt;/li>
&lt;li>自建了一个rustdesk的中转服务器，&lt;a class="link" href="https://dev.leiyanhui.com/docker/rustdesk-server/" target="_blank" rel="noopener"
>https://dev.leiyanhui.com/docker/rustdesk-server/&lt;/a>
pve中分配给arch的显卡是 virio 支持3D&lt;/li>
&lt;/ul>
&lt;h2 id="安装">安装
&lt;/h2>&lt;p>rust官方提供了 zst 包&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">wget&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="n">https&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="n">gitee&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">rustdesk&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">rustdesk&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">releases&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">download&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mf">1.1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">rustdesk&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">manjaro&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">arch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pkg&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tar&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zst&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>gitee真牛比，国内网络可以提供比github还慢的速度&amp;hellip;&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">pacman -U rustdesk-1.1.9-manjaro-arch.pkg.tar.zst
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>依赖也不少&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Packages&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">12&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">python&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">3.10&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span> &lt;span class="n">python&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">attrs&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">22.1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="n">python&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cffi&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.15&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="n">python&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cryptography&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">38.0&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="n">python&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">packaging&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">21.3&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="n">python&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">pip&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">22.3&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="n">python&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ply&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">3.11&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="n">python&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">pycparser&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">2.21&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">python&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">pyparsing&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">3.0&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="n">python&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">wheel&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">0.38&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="n">ttf&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">arphic&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">uming&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">0.2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">20080216.2&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="n">rustdesk&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Total&lt;/span> &lt;span class="n">Download&lt;/span> &lt;span class="n">Size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">23.72&lt;/span> &lt;span class="n">MiB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Total&lt;/span> &lt;span class="n">Installed&lt;/span> &lt;span class="n">Size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">119.66&lt;/span> &lt;span class="n">MiB&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="i3w-里面启动和配置">i3w 里面启动和配置
&lt;/h2>&lt;h3 id="启动">启动
&lt;/h3>&lt;p>win（hotkey）+d ，输入 restdesk，启动，配置id服务器和密钥&lt;/p>
&lt;h3 id="浮动窗口">浮动窗口
&lt;/h3>&lt;p>不开启浮动窗口的话。。。大概要占个屏幕&lt;/p>
&lt;h2 id="开机启动启动">开机启动启动
&lt;/h2>&lt;pre>&lt;code>sudo systemctl enable rustdesk
&lt;/code>&lt;/pre>
&lt;h2 id="rustdesk-不支持ttystartx-的解决">rustdesk 不支持tty（startx） 的解决。
&lt;/h2>&lt;p>需要安装一个显示管理器，我这里用lightdm&lt;/p>
&lt;pre>&lt;code> sudo pacman -S lightdm-gtk-greeter
sudo systemctl enable lightdm
sudo systemctl start lightdm
&lt;/code>&lt;/pre>
&lt;h2 id="lightdmi3的一些配置">lightdm+i3的一些配置
&lt;/h2>&lt;p>同时需要处理一下输入法和分辨率
直接改 i3的位置文件&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#壁纸
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">exec_always --no-startup-id feh --randomize --bg-fill ~/wallpaper
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#半透明
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">exec_always --no-startup-id picom
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#分辨率
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">exec --no-startup-id xrandr --output Virtual-1 --mode 1920x1080
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#输入法
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">exec --no-startup-id fcitx -d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#截屏工具
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">exec --no-startup-id flameshot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>输入法 放到&lt;/p>
&lt;pre>&lt;code>nano .bashrc
&lt;/code>&lt;/pre>
&lt;h2 id="其他">其他
&lt;/h2>&lt;p>yay -S rustdesk 这个包有坑，不建议&lt;/p></description></item><item><title>archlinux 下 i3w 基于 wayland的实现</title><link>https://dev.leiyanhui.com/arch/i3-wayland/</link><pubDate>Sat, 19 Nov 2022 20:52:20 +0800</pubDate><guid>https://dev.leiyanhui.com/arch/i3-wayland/</guid><description>&lt;blockquote>
&lt;p>最近一直被安利 wayland，在kvm下核显直通的arch中尝试一下，刚好要做一个核显直通的kvm-arch&lt;/p>&lt;/blockquote>
&lt;h2 id="安装基础包">安装基础包
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -S \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sway alacritty waybar wofi \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> xorg-xwayland xorg-xlsclients qt5-wayland glfw-wayland
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>sway 是 wayland下的i3&lt;/p>
&lt;p>alacritty 是简单终端&lt;/p>
&lt;p>waybar 是一个简单好用的自定义状态栏&lt;/p>
&lt;p>Wofi 一个纯 GTK（也就是 Wayland）的可定制应用程序启动器。&lt;/p>
&lt;p>qt5-wayland 和 glfw-wayland 分别为 QT5 和 GLFW 提供 Wayland 兼容 API&lt;/p>
&lt;h2 id="输入法和字体">输入法和字体
&lt;/h2>&lt;pre>&lt;code>sudo pacman -S ttf-dejavu wqy-zenhei
sudo pacman -S fcitx-im fcitx-configtool fcitx-googlepinyin
&lt;/code>&lt;/pre>
&lt;h2 id="配置文件">配置文件
&lt;/h2>&lt;p>Sway 应该是完全兼容i3的配置文件的，不过这里还是 从头配置一个&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cd ~/.config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir sway
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd sway
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp /etc/sway/config .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里不需要 .xinitrc 了&lt;/p>
&lt;h2 id="显卡驱动">显卡驱动
&lt;/h2>&lt;p>我这里直通的核显&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -S linux-firmware xf86-video-intel
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="seatd的处理">seatd的处理
&lt;/h2>&lt;pre>&lt;code>sudo pacman -S seatd
sudo systemctl enable seatd
sudo systemctl start seatd
sudo usermod -aG seat 你的用户名
&lt;/code>&lt;/pre>
&lt;p>##启动命令&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sway
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="其他启动问题">其他启动问题
&lt;/h2>&lt;h3 id="提示-prime-import-not-supported">提示 PRIME import not supported
&lt;/h3>&lt;p>显卡不支持，多是虚拟机里面运行的时候导致的。 如果是kvm 换 virtio gpu 就ok 了&lt;/p>
&lt;h3 id="提示-failed-to-create-dri2-screendri-failed-to-create-screen">提示 failed to create dri2 screen/dri failed to create screen
&lt;/h3></description></item><item><title>archlinux 下安装xrdp和xinitrc i3w共存</title><link>https://dev.leiyanhui.com/arch/xinitc-xrdp/</link><pubDate>Fri, 18 Nov 2022 04:40:20 +0800</pubDate><guid>https://dev.leiyanhui.com/arch/xinitc-xrdp/</guid><description>&lt;p>本文停更新，新版查看 ：&lt;a class="link" href="https://dev.leiyanhui.com/arch/xrdp-all/" target="_blank" rel="noopener"
>https://dev.leiyanhui.com/arch/xrdp-all/&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>本文基于kvm下的arch 核显直通 或者 lxc容器&lt;/p>&lt;/blockquote>
&lt;p>基本安装参考 &lt;a class="link" href="https://dev.leiyanhui.com/arch/base-install/" target="_blank" rel="noopener"
>https://dev.leiyanhui.com/arch/base-install/&lt;/a>&lt;/p>
&lt;p>如果是容器的arch，如果pacman 不能用，记得 先 &lt;code>pcaman-key --init &amp;amp;&amp;amp; pacman-key --populate archlinux &lt;/code> 另外 更新到最新版本 防止部分更新的问题&lt;code>sudo pacman -Syyu&lt;/code>&lt;/p>
&lt;h2 id="核显驱动">核显驱动
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -S xf86-video-intel
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>其他显卡自己看一下驱动包，如果是kvm下的直接用 virtio-gpu 可以实现3D加速的，可能不需要这个&lt;/p>
&lt;h2 id="先安装i3w-简单配置">先安装i3w 简单配置
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -S xorg-server #xorg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S xorg-xinit # 登录器
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S ttf-dejavu wqy-microhei # wqy-zenhei #字体
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S fish #我喜欢的shell
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S flameshot #我喜欢的截图工具
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S i3-gaps i3status # i3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S feh picom dmenu # 壁纸和半透明 启动器
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="输入法">输入法
&lt;/h2>&lt;pre>&lt;code>sudo pacman -S fcitx-im fcitx-configtool fcitx-googlepinyin #输入法 1) fcitx
&lt;/code>&lt;/pre>
&lt;p>在i3 要 在终端 sudo 执行一次 fcitx-configtool&lt;/p>
&lt;h2 id="复制xinit">复制xinit
&lt;/h2>&lt;p>我没用sdm，直接用startx 或 xrdp 所以这里配置xinit&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">cp&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">X11&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">xinit&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">xinitrc&lt;/span> &lt;span class="o">~/.&lt;/span>&lt;span class="n">xinitrc&lt;/span> &lt;span class="c1">#复制一个过来&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">nano&lt;/span> &lt;span class="o">~/.&lt;/span>&lt;span class="n">xinitrc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#注释掉最后的几行-添加一行&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">GTK_IM_MODULE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">fcitx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">QT_IM_MODULE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">fcitx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">XMODIFIERS&lt;/span>&lt;span class="o">=&lt;/span>\&lt;span class="err">@&lt;/span>&lt;span class="n">im&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">fcitx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">fcitx&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="c1">#输入法&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">flameshot&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="c1">#截图工具&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#nm-applet &amp;amp; #wifi系统托盘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">exec&lt;/span> &lt;span class="n">i3&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="还要来点常用工具">还要来点常用工具
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -S firefox unzip wget
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 远程到win的工具
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S remmina
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S libvncserver
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S spice-gtk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S freerdp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="弄一下壁纸">弄一下壁纸
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget -c https://github.com/joyanhui/file.leiyanhui.com/archive/refs/heads/dwm-wallpaper.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">unzip dwm-wallpaper.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mv file.leiyanhui.com-dwm-wallpaper bg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf dwm-wallpaper.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf bg/README.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="i3w配置文件">i3w配置文件
&lt;/h2>&lt;p>i3w的配置过程 是个大工程，参考我的 &lt;a class="link" href="https://github.com/joyanhui/i3w" target="_blank" rel="noopener"
>https://github.com/joyanhui/i3w&lt;/a>&lt;/p>
&lt;h2 id="准备xrdp">准备xrdp
&lt;/h2>&lt;h3 id="安装yay">安装yay
&lt;/h3>&lt;p>&lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-install-yay/" target="_blank" rel="noopener"
>https://dev.leiyanhui.com/c/archlinux-install-yay/&lt;/a>
yay 的使用，需要可能需要 patch autoconf automake pkg-config akeroot、binutils等包 建议直接安装 &lt;code>base-devel &lt;/code>&lt;/p>
&lt;pre>&lt;code>pacman -S base-devel
&lt;/code>&lt;/pre>
&lt;h3 id="挂个v2代理">挂个v2代理
&lt;/h3>&lt;pre>&lt;code>nano proxy.sh #然后 sh proxy.sh一下
&lt;/code>&lt;/pre>
&lt;p>内容&lt;/p>
&lt;pre>&lt;code>export http_proxy=&amp;quot;10.0.0.1:20172&amp;quot;
export https_proxy=&amp;quot;10.0.0.1:20172&amp;quot;
&lt;/code>&lt;/pre>
&lt;h3 id="安装xrdp">安装xrdp
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">#yay -S xorgxrdp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pacman -S base-devel
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yay -S xrdp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yay -S xorgxrdp-glamor
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S pulseaudio
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yay -S pulseaudio-module-xrdp # 有可能需要 sudo pacman -S sbc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S xorg-xrdb
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="xwrapper">Xwrapper
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo nano /etc/X11/Xwrapper.config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">allowed_users=anybody
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo systemctl enable xrdp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl start xrdp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="其他可选-dmenu">其他可选 dmenu
&lt;/h3>&lt;p>换一下dmenu为支持变暗、修改透明度、下划线（可选）&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -Rns dmenu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yay -S dmenu2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="其他可选-终端工具">其他可选 终端工具
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S alacritty
&lt;/code>&lt;/pre>
&lt;p>alacritty的配置文件为：~/.config/alacritty/alacritty.yml&lt;/p>
&lt;h3 id="一些零碎的软件包">一些零碎的软件包
&lt;/h3>&lt;ul>
&lt;li>i3lock # 锁屏&lt;/li>
&lt;li>nm-applet # wifi信号 网络状态 系统托盘图标&lt;/li>
&lt;li>&lt;/li>
&lt;/ul></description></item><item><title>archlinux 图形界面i3安装 到 正常可以用的工作机，包括输入法 浏览器 微信 qq等</title><link>https://dev.leiyanhui.com/arch/startx/</link><pubDate>Tue, 15 Nov 2022 15:23:20 +0800</pubDate><guid>https://dev.leiyanhui.com/arch/startx/</guid><description>&lt;h2 id="先安装arch">先安装arch
&lt;/h2>&lt;p>手动安装的 &lt;a class="link" href="https://dev.leiyanhui.com/arch/base-install/" target="_blank" rel="noopener"
>https://dev.leiyanhui.com/arch/base-install/&lt;/a>&lt;/p>
&lt;h2 id="然后安装图形界面">然后安装图形界面
&lt;/h2>&lt;p>我之前一直用dwm环境，但是dwm桌面有一个小问题就是 每次修改配置 都需要重新重新编译，并且重启一次x 略微麻烦，这次我开始更换使用i3w&lt;/p>
&lt;h3 id="显卡驱动">显卡驱动
&lt;/h3>&lt;p>先安装linux-firmware,搞定基本的驱动&lt;/p>
&lt;pre>&lt;code>pacman -S linux-firmware
&lt;/code>&lt;/pre>
&lt;p>当然是显卡驱动 &lt;code>lspci | grep VGA&lt;/code> &lt;code>$ sudo pacman -S 驱动包&lt;/code>&lt;/p>
&lt;pre>&lt;code>通用----------------------------------xf86-video-vesa
intel----------------------------------xf86-video-intel
Geforce7±-------------------------xf86-video-nouveau
Geforce6/7-------------------------xf86-video-304xx
&lt;/code>&lt;/pre>
&lt;h4 id="virtualbox-需要另外处理">virtualbox 需要另外处理
&lt;/h4>&lt;h5 id="修改显存到256m好像最大就是256m">修改显存到256M（好像最大就是256M）
&lt;/h5>&lt;pre>&lt;code>VBoxManage modifyvm &amp;quot;archlinux&amp;quot; --vram 256
&lt;/code>&lt;/pre>
&lt;h5 id="安装virtualbox驱动">安装virtualbox驱动
&lt;/h5>&lt;p>启动虚拟机，vbox中 菜单点设备，安装增强功能 或者手动挂载VBoxGuestAdditions.iso 到虚拟机，arch中挂载虚拟光驱&lt;/p>
&lt;pre>&lt;code>sudo mount /dev/cdrom /mnt
/mnt/VBoxLinuxADXXX.run #tab 自动补全
&lt;/code>&lt;/pre>
&lt;h3 id="kvm下的处理">kvm下的处理
&lt;/h3>&lt;p>kvm模式跑的arch 可以用 virio-gpu 的显卡，内核支持3D，不需要另外驱动。宿主要驱动。&lt;/p>
&lt;h3 id="安装xorg">安装xorg
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S xorg-server
&lt;/code>&lt;/pre>
&lt;h3 id="安装点字体">安装点字体
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S ttf-dejavu wqy-microhei
&lt;/code>&lt;/pre>
&lt;h3 id="安装sddm-或者用startx我选startx">安装sddm 或者用startx，我选startx
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S xorg-xinit
&lt;/code>&lt;/pre>
&lt;h3 id="安装桌面环境我用i3wm并且选gaps分支">安装桌面环境，我用i3wm，并且选gaps分支
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S i3-gaps
&lt;/code>&lt;/pre>
&lt;h3 id="安装终端">安装终端
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S alacritty #也可以用 mate-terminal 或者st 默认是 i3-sensible-terminal
&lt;/code>&lt;/pre>
&lt;h3 id="菜单工具">菜单工具
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S dmenu
&lt;/code>&lt;/pre>
&lt;h3 id="状态栏">状态栏
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S i3status
&lt;/code>&lt;/pre>
&lt;h3 id="输入法">输入法
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S fcitx-im fcitx-configtool fcitx-googlepinyin fcitx-cloudpinyin #不怕折腾 用 fcitx-rime 极度流畅，但是不支持 fcitx-cloudpinyin
&lt;/code>&lt;/pre>
&lt;h3 id="浏览器我用火狐edge要aur哈">浏览器，我用火狐，edge要aur哈
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S firefox
&lt;/code>&lt;/pre>
&lt;h3 id="截图-系统托盘图标">截图 系统托盘图标
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S flameshot nm-connection-editor network-manager-applet
&lt;/code>&lt;/pre>
&lt;h3 id="配置wifi">配置wifi
&lt;/h3>&lt;pre>&lt;code>sudo nmcli device wifi connect wifi名称 password wifi密码
&lt;/code>&lt;/pre>
&lt;h3 id="蓝牙相关">蓝牙相关
&lt;/h3>&lt;pre>&lt;code>sudo pacmsn -S usbutils bluez bluez-utils
sudo systemctl enable bluetooth
sudo systemctl start bluetooth
bluetoothctl
&lt;/code>&lt;/pre>
&lt;h3 id="qq和微信">qq和微信
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S base-devel
sudo pacman -S dunst libnotify # 通知消息
yay -S electronic-wechat-uos-bin icalingua++
&lt;/code>&lt;/pre>
&lt;p>yay的安装参考：&lt;a class="link" href="https://dev.leiyanhui.com/c/archlinux-install-yay/" target="_blank" rel="noopener"
>https://dev.leiyanhui.com/c/archlinux-install-yay/&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://dev.leiyanhui.com/linux/wecha-new-debian" target="_blank" rel="noopener"
>2024-03-7 已经有原生版微信，虽然目前之支持uos和麒麟等系统，实际上其他系统也可以用。&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://dev.leiyanhui.com/arch/new-qq2022/" target="_blank" rel="noopener"
>2022年12月07日 腾讯已经发布新版linux qq &lt;/a>&lt;/p>
&lt;h3 id="文件管理器">文件管理器
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S thunar
&lt;/code>&lt;/pre>
&lt;h3 id="文本编辑器">文本编辑器
&lt;/h3>&lt;pre>&lt;code>sudo pacman -S xde # gedit
&lt;/code>&lt;/pre>
&lt;h3 id="配置startx">配置startx
&lt;/h3>&lt;pre>&lt;code>cp /etc/X11/xinit/xinitrc ~/.xinitrc #复制一个过来
nano ~/.xinitrc
#注释掉最后的几行-添加几行
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS=\@im=fcitx
fcitx &amp;amp;
flameshot &amp;amp; #截图工具
nm-applet &amp;amp; #wifi系统托盘
exec i3
&lt;/code>&lt;/pre>
&lt;p>输入法的配置最好加到 ~/.pam_environment
ibus的话参考 [https://dev.leiyanhui.com/arch/base-install/]](&lt;a class="link" href="https://dev.leiyanhui.com/arch/base-install/]" target="_blank" rel="noopener"
>https://dev.leiyanhui.com/arch/base-install/]&lt;/a>)&lt;/p>
&lt;h2 id="启动i3">启动i3
&lt;/h2>&lt;pre>&lt;code>startx
&lt;/code>&lt;/pre>
&lt;h2 id="壁纸">壁纸
&lt;/h2>&lt;pre>&lt;code>sudo pacman -S feh
mkdir ~/wallpaper &amp;amp;&amp;amp; cd ~/wallpaper
sudo pacman -S unzip wget # 解压和下载工具
## 从我自己的仓库下载一点壁纸
wget -c https://github.com/joyanhui/file.leiyanhui.com/archive/refs/heads/dwm-wallpaper.zip
unzip dwm-wallpaper.zip
mv file.leiyanhui.com-dwm-wallpaper/*.jpg .
rm -rf dwm-wallpaper.zip file.leiyanhui.com-dwm-wallpaper
&lt;/code>&lt;/pre>
&lt;h2 id="半透明">半透明
&lt;/h2>&lt;pre>&lt;code>sudo pacman -S picom
&lt;/code>&lt;/pre>
&lt;h3 id="配置i3--feh">配置i3 + feh
&lt;/h3>&lt;pre>&lt;code>nano ~/.config/i3/config
&lt;/code>&lt;/pre>
&lt;p>找到对应的行编辑，或者添加&lt;/p>
&lt;pre>&lt;code>#壁纸
exec_always --no-startup-id feh --randomize --bg-fill ~/wallpaper
#半透明
exec_always --no-startup-id picom
# start a terminal 终端
#bindsym $mod+Return exec i3-sensible-terminal
bindsym $mod+Return exec alacritty
&lt;/code>&lt;/pre>
&lt;h2 id="i3w的配置-这里不展开了自己看wiki">i3w的配置 这里不展开了，自己看wiki
&lt;/h2>&lt;p>$mod+shift+r 重载i3
$mod+d 允许 dmenu
$mod+回车 打开终端&lt;/p>
&lt;p>设置分辨率&lt;/p>
&lt;pre>&lt;code>xrandr --output Virtual-1 --mode 1920x1080
&lt;/code>&lt;/pre>
&lt;h2 id="命i3w令和配置文件整理">命i3w令和配置文件整理
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/joyanhui/i3w" target="_blank" rel="noopener"
>https://github.com/joyanhui/i3w&lt;/a>&lt;/p>
&lt;h2 id="配额remmina">配额remmina
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo pacman -S remmina
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S libvncserver
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S spice-gtk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pacman -S freerdp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>支持 spice vnc sftp ssh rdp&lt;/p>
&lt;h2 id="其他后续">其他后续
&lt;/h2>&lt;p>安装rustdesk &lt;a class="link" href="https://dev.leiyanhui.com/arch/rustdesk/" target="_blank" rel="noopener"
>https://dev.leiyanhui.com/arch/rustdesk/&lt;/a>&lt;/p></description></item><item><title>i3w下picom办透明 以及alacritty 的简单配置</title><link>https://dev.leiyanhui.com/arch/i3w-picom-alacritty/</link><pubDate>Tue, 15 Nov 2022 15:23:20 +0800</pubDate><guid>https://dev.leiyanhui.com/arch/i3w-picom-alacritty/</guid><description>&lt;h2 id="picom">picom
&lt;/h2>&lt;h3 id="配置文件">配置文件
&lt;/h3>&lt;pre>&lt;code>mkdir ~/.config/picom/
cp /etc/xdg/picom.conf ~/.config/picom/picom.conf
nano ~/.config/picom/picom.conf
&lt;/code>&lt;/pre>
&lt;h3 id="非活动窗口透明度">非活动窗口透明度
&lt;/h3>&lt;p>在 Transparency / Opacity 这段的后面
inactive-opacity&lt;/p>
&lt;h2 id="alacritty">alacritty
&lt;/h2>&lt;h3 id="配置文件-1">配置文件
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mkdir ~/.config/alacritty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp /usr/share/doc/alacritty/example/alacritty.yml ~/.config/alacritty/alacritty.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="字体大小">字体大小
&lt;/h3>&lt;p>直接用 ctrl 和 - + 可以调整&lt;/p>
&lt;p>或者 修改配置文件的 size 这个&lt;/p>
&lt;h3 id="更换字体">更换字体
&lt;/h3>&lt;p>修改 family 推荐用 monospace&lt;/p>
&lt;h3 id="背景透明">背景透明
&lt;/h3>&lt;p>旧版本 &lt;code>background_opacity: 0.7 &lt;/code> 新版&lt;/p>
&lt;pre>&lt;code>window:
opacity: 0.7
&lt;/code>&lt;/pre>
&lt;h3 id="xorg下无法使用fcix输入法的问题">xorg下无法使用fcix输入法的问题
&lt;/h3>&lt;p>网上资料多wayland下的，我没找到问题，同时发现 i3-sensible-terminal 也存在问题。暂时 用 terminator&lt;/p>
&lt;h2 id="terminator">terminator
&lt;/h2>&lt;pre>&lt;code>sudo pacman -S terminator
&lt;/code>&lt;/pre>
&lt;h3 id="简单配置">简单配置
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mkdir ~/.config/terminator/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nano ~/.config/terminator/config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[profiles]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> [[default]]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> background_color = &amp;#34;#002b36&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> background_darkness = 0.7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> background_image = None
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> background_type = transparent
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> foreground_color = &amp;#34;#e0f0f1&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> show_titlebar = False
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> use_system_font = yes
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="状态栏替换为polybar">状态栏替换为polybar
&lt;/h2>&lt;pre>&lt;code>sudo pacman -S polybar
&lt;/code>&lt;/pre>
&lt;p>手动执行一次 &lt;code>polybar&lt;/code>&lt;/p>
&lt;h3 id="创建polybar的-sh">创建polybar的 sh
&lt;/h3>&lt;pre>&lt;code>nano ~/.config/polybar/launch.sh
----------
#!/bin/bash
# Terminate already running bar instances
killall -q polybar
# Wait until the processes have been shut down
while pgrep -u $UID -x polybar &amp;gt;/dev/null; do sleep 1; done
# Launch Polybar, using default config location ~/.config/polybar/config
polybar example]
-----------
sudo chmod +x ~/.config/polybar/launch.sh
&lt;/code>&lt;/pre>
&lt;h3 id="编辑i3配置文件改为--polybar">编辑i3配置文件改为 polybar
&lt;/h3>&lt;pre>&lt;code>nano ~/.config/i3/config
&lt;/code>&lt;/pre>
&lt;p>添加一行&lt;/p>
&lt;pre>&lt;code>exec_always --no-startup-id $HOME/.config/polybar/launch.sh
&lt;/code>&lt;/pre>
&lt;h3 id="配置文件-2">配置文件
&lt;/h3>&lt;p>mkdir ~/.config/polybar
cp //etc/polybar/config.ini ~/.config/polybar/
nano ~/.config/polybar/config.ini&lt;/p>
&lt;p>另外开一个终端 ip link show 查看网卡，我这里是pve环境只有有线网卡&lt;/p>
&lt;h2 id="其他">其他
&lt;/h2>&lt;h3 id="默认中文化防止部分软件打开是英文版">默认中文化，防止部分软件打开是英文版
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## ~/.xprofile&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">LANG&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;zh_CN.UTF-8&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">LC_ALL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;zh_CN.UTF-8&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#export GDK_SCALE=2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#export GDK_DPI_SCALE=0.5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#export QT_AUTO_SCREEN_SCALE_FACTOR=&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="i3w主题">i3w主题
&lt;/h3>&lt;pre>&lt;code>pacman -S arc-icon-theme adwaita-icon-theme lxappearance
# 然后运行 lxappearance 可以简单配置
# adwaita-icon-theme 这个包我不太喜欢
&lt;/code>&lt;/pre>
&lt;h3 id="emoji字体">emoji字体
&lt;/h3>&lt;p>我选择apple的
yay -S ttf-apple-emoji&lt;/p></description></item></channel></rss>